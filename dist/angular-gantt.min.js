/*!
 * Project: angular-gantt v1.3.2 - Gantt chart component for AngularJS
 * Authors: RÃ©mi Alvergnat <toilal.dev@gmail.com> (https://www.pragmasphere.com), Marco Schweighauser
 * License: MIT
 * Homepage: https://www.angular-gantt.com
 * Github: https://github.com/angular-gantt/angular-gantt.git
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular"),require("moment"),require("ElementQueries"),require("ResizeSensor"),require("angular-native-dragdrop"),require("jsPlumb"),require("ui.tree")):"function"==typeof define&&define.amd?define("angular-gantt",["angular","moment","ElementQueries","ResizeSensor","angular-native-dragdrop","jsPlumb","ui.tree"],t):"object"==typeof exports?exports["angular-gantt"]=t(require("angular"),require("moment"),require("ElementQueries"),require("ResizeSensor"),require("angular-native-dragdrop"),require("jsPlumb"),require("ui.tree")):e["angular-gantt"]=t(e.angular,e.moment,e.ElementQueries,e.ResizeSensor,e["angular-native-dragdrop"],e.jsPlumb,e["ui.tree"])}(this,function(e,t,n,o,i,a,l){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=266)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(t,n){t.exports=e},function(e,t,n){"use strict";t.__esModule=!0;var o=n(126),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,i.default)(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()},function(e,n){e.exports=t},function(e,t,n){e.exports={default:n(133),__esModule:!0}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(130),a=o(i),l=n(129),r=o(l),s="function"==typeof r.default&&"symbol"==typeof a.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};t.default="function"==typeof r.default&&"symbol"===s(a.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(64),r=o(l),s=n(83),A=o(s),u=n(89),c=o(u),d=n(90),C=o(d),m=n(91),f=o(m),p=n(92),g=o(p),h=n(84),v=o(h),y=n(87),b=o(y),w=n(85),M=o(w),k=n(86),E=o(k),G=n(88),I=o(G),B=n(93),S=o(B),O=n(94),_=o(O),$=n(95),K=o($),T=n(96),x=o(T),D=n(97),j=o(D),F=n(98),U=o(F),W=n(99),P=o(W),R=n(100),Y=o(R),Q=n(101),H=o(Q),L=n(102),z=o(L),V=n(103),N=o(V),q=n(104),X=o(q),J=n(105),Z=o(J),ee=n(106),te=o(ee),ne=n(107),oe=o(ne),ie=n(108),ae=o(ie),le=n(109),re=o(le),se=n(110),Ae=o(se),ue=n(111),ce=o(ue),de=n(112),Ce=o(de),me=n(113),fe=o(me),pe=n(114),ge=o(pe),he=n(119),ve=o(he),ye=n(68),be=o(ye),we=n(37),Me=o(we),ke=n(38),Ee=o(ke),Ge=n(39),Ie=o(Ge),Be=n(47),Se=o(Be),Oe=n(45),_e=o(Oe),$e=n(72),Ke=o($e),Te=n(74),xe=o(Te),De=n(71),je=o(De),Fe=n(73),Ue=o(Fe),We=n(46),Pe=o(We),Re=n(75),Ye=o(Re),Qe=n(48),He=o(Qe),Le=n(43),ze=o(Le),Ve=n(70),Ne=o(Ve),qe=n(69),Xe=o(qe),Je=n(44),Ze=o(Je),et=n(23),tt=o(et),nt=n(65),ot=o(nt),it=n(41),at=o(it),lt=n(42),rt=o(lt),st=n(76),At=o(st),ut=n(49),ct=o(ut),dt=n(40),Ct=o(dt),mt=n(79),ft=o(mt),pt=n(115),gt=o(pt),ht=n(123),vt=o(ht),yt=n(116),bt=o(yt),wt=n(118),Mt=o(wt),kt=n(80),Et=o(kt),Gt=n(77),It=o(Gt),Bt=n(78),St=o(Bt),Ot=n(120),_t=o(Ot),$t=n(67),Kt=o($t),Tt=n(66),xt=o(Tt),Dt=n(117),jt=o(Dt),Ft=n(121),Ut=o(Ft),Wt=n(122),Pt=o(Wt),Rt=n(81),Yt=o(Rt),Qt=n(82),Ht=o(Qt);n(124),n(63);a.default.module("gantt",[]).directive("gantt",r.default).directive("ganttResizer",A.default).directive("ganttContainerWidthListener",C.default).directive("ganttContainerHeightListener",c.default).directive("ganttElementWidthListener",g.default).directive("ganttElementHeightListener",f.default).directive("ganttHorizontalScrollReceiver",v.default).directive("ganttScrollable",b.default).directive("ganttScrollManager",M.default).directive("ganttScrollSender",E.default).directive("ganttVerticalScrollReceiver",I.default).directive("ganttBindCompileHtml",ve.default).directive("ganttBody",S.default).directive("ganttBodyBackground",_.default).directive("ganttBodyColumns",K.default).directive("ganttBodyForeground",x.default).directive("ganttBodyRows",j.default).directive("ganttColumn",U.default).directive("ganttColumnHeader",P.default).directive("ganttHeader",Y.default).directive("ganttHeaderColumns",H.default).directive("ganttRow",z.default).directive("ganttRowBackground",N.default).directive("ganttRowLabel",X.default).directive("ganttScrollableHeader",Z.default).directive("ganttSide",te.default).directive("ganttSideBackground",oe.default).directive("ganttSideContent",ae.default).directive("ganttTask",re.default).directive("ganttTaskBackground",Ae.default).directive("ganttTaskContent",ce.default).directive("ganttTaskForeground",Ce.default).directive("ganttTimeFrame",fe.default).directive("ganttTimespan",ge.default).factory("GanttDirectiveBuilder",bt.default).factory("Gantt",be.default).factory("GanttApi",Me.default).factory("GanttOptions",Ee.default).factory("GanttCalendar",Ie.default).factory("GanttScroll",Se.default).factory("GanttBody",_e.default).factory("GanttBodyColumns",Ke.default).factory("GanttBodyRows",xe.default).factory("GanttBodyBackground",je.default).factory("GanttBodyForeground",Ue.default).factory("GanttHeader",Pe.default).factory("GanttHeaderColumns",Ye.default).factory("GanttSide",He.default).factory("GanttObjectModel",ze.default).factory("GanttTask",Ne.default).factory("GanttRow",Xe.default).factory("GanttRowsManager",Ze.default).factory("GanttColumn",tt.default).factory("GanttColumnHeader",at.default).factory("GanttColumnBuilder",ot.default).factory("GanttColumnsManager",rt.default).factory("GanttTimespan",At.default).factory("GanttTimespansManager",ct.default).factory("GanttCurrentDateManager",Ct.default).factory("GanttHierarchy",ft.default).factory("ganttDebounce",gt.default).factory("GanttSmartEvent",vt.default).service("ganttEnableNgAnimate",Mt.default).service("ganttUtils",Et.default).service("ganttArrays",It.default).service("ganttBinarySearch",St.default).service("ganttLayout",_t.default).service("GanttHeadersGenerator",Kt.default).service("GanttColumnGenerator",xt.default).service("ganttDom",jt.default).service("ganttMouseButton",Ut.default).service("ganttMouseOffset",Pt.default).filter("ganttColumnLimit",Yt.default).filter("ganttTaskLimit",Ht.default),t.default="gantt"},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var o=n(32)("wks"),i=n(22),a=n(8).Symbol,l="function"==typeof a;(e.exports=function(e){return o[e]||(o[e]=l&&a[e]||(l?a:i)("Symbol."+e))}).store=o},function(e,t,n){e.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var o=n(14),i=n(52),a=n(34),l=Object.defineProperty;t.f=n(10)?Object.defineProperty:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(146),i=n(25);e.exports=function(e){return o(i(e))}},function(e,t,n){var o=n(18);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var o=n(8),i=n(7),a=n(50),l=n(16),r=function(e,t,n){var s,A,u,c=e&r.F,d=e&r.G,C=e&r.S,m=e&r.P,f=e&r.B,p=e&r.W,g=d?i:i[t]||(i[t]={}),h=g.prototype,v=d?o:C?o[t]:(o[t]||{}).prototype;d&&(n=t);for(s in n)(A=!c&&v&&void 0!==v[s])&&s in g||(u=A?v[s]:n[s],g[s]=d&&"function"!=typeof v[s]?n[s]:f&&A?a(u,o):p&&v[s]==u?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):m&&"function"==typeof u?a(Function.call,u):u,m&&((g.virtual||(g.virtual={}))[s]=u,e&r.R&&h&&!h[s]&&l(h,s,u)))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,r.U=64,r.R=128,e.exports=r},function(e,t,n){var o=n(12),i=n(21);e.exports=n(10)?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){var o=n(58),i=n(26);e.exports=Object.keys||function(e){return o(e,i)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttColumn=void 0;var i=n(4),a=o(i),l=n(0),r=o(l),s=n(2),A=o(s);t.default=function(){"ngInject";return d};var u=n(3),c=o(u),d=t.GanttColumn=function(){function e(t,n,o,i,a,l,s){(0,r.default)(this,e),this.timeFrames=[],this.visibleTimeFrames=[],this.daysTimeFrames={},this.currentDate=!1,this.cropped=!1,this.date=t,this.endDate=n,this.left=o,this.width=i,this.calendar=a,this.duration=this.endDate.diff(this.date,"milliseconds"),this.timeFramesWorkingMode=l,this.timeFramesNonWorkingMode=s,this.timeFrames=[],this.visibleTimeFrames=[],this.daysTimeFrames={},this.originalSize={left:this.left,width:this.width},this.updateTimeFrames()}return(0,A.default)(e,[{key:"getDateKey",value:function(e){return e.year()+"-"+e.month()+"-"+e.date()}},{key:"updateView",value:function(){this.$element&&(this.currentDate?this.$element.addClass("gantt-foreground-col-current-date"):this.$element.removeClass("gantt-foreground-col-current-date"),this.$element.css({left:this.left+"px",width:this.width+"px"}),this.timeFrames.forEach(function(e){return e.updateView()}))}},{key:"updateTimeFrames",value:function(){if(void 0!==this.calendar&&("hidden"!==this.timeFramesNonWorkingMode||"hidden"!==this.timeFramesWorkingMode)){for(var e=this.date,t=(0,c.default)(e).startOf("day"),n=t.add(1,"day"),o=void 0;e<this.endDate;){var i=this.calendar.getTimeFrames(e),l=c.default.min(n,this.endDate);i=this.calendar.solve(i,e,l);var r=[];for(o=0;o<i.length;o++){var s=i[o],A=s.start;void 0===A&&(A=e);var u=s.end;void 0===u&&(u=l),A<this.date&&(A=this.date),u>this.endDate&&(u=this.endDate),s=s.clone(),s.start=(0,c.default)(A),s.end=(0,c.default)(u),r.push(s)}this.timeFrames=this.timeFrames.concat(r);var d=this.getDateKey(e);this.daysTimeFrames[d]=r,e=l,t=(0,c.default)(e).startOf("day"),n=t.add(1,"day")}for(o=0;o<this.timeFrames.length;o++){var C=this.timeFrames[o],m=C.start.diff(this.date,"milliseconds"),f=m/this.duration*this.width,p=C.end.diff(C.start,"milliseconds"),g=p/this.duration*this.width,h=!1;C.working&&"visible"!==this.timeFramesWorkingMode?h=!0:C.working||"visible"===this.timeFramesNonWorkingMode||(h=!0),h||this.visibleTimeFrames.push(C),C.hidden=h,C.left=f,C.width=g,C.originalSize={left:C.left,width:C.width}}if("cropped"===this.timeFramesNonWorkingMode||"cropped"===this.timeFramesWorkingMode){var v=0,y=!0,b=!1,w=void 0;try{for(var M,k=(0,a.default)(this.timeFrames);!(y=(M=k.next()).done);y=!0){var E=M.value;(!E.working&&"cropped"!==this.timeFramesNonWorkingMode||E.working&&"cropped"!==this.timeFramesWorkingMode)&&(v+=E.width)}}catch(e){b=!0,w=e}finally{try{!y&&k.return&&k.return()}finally{if(b)throw w}}if(v!==this.width){var G=this.width/v,I=0,B=0,S=!0,O=!0,_=!1,$=void 0;try{for(var K,T=(0,a.default)(this.timeFrames);!(O=(K=T.next()).done);O=!0){var x=K.value;!x.working&&"cropped"!==this.timeFramesNonWorkingMode||x.working&&"cropped"!==this.timeFramesWorkingMode?(x.left=(x.left-I)*G,x.width=x.width*G,x.originalSize.left=(x.originalSize.left-B)*G,x.originalSize.width=x.originalSize.width*G,x.cropped=!1,S=!1):(I+=x.width,B+=x.originalSize.width,x.left=void 0,x.width=0,x.originalSize={left:void 0,width:0},x.cropped=!0)}}catch(e){_=!0,$=e}finally{try{!O&&T.return&&T.return()}finally{if(_)throw $}}this.cropped=S}else this.cropped=!1}}}},{key:"clone",value:function(){return new e((0,c.default)(this.date),(0,c.default)(this.endDate),this.left,this.width,this.calendar)}},{key:"containsDate",value:function(e){return e>this.date&&e<=this.endDate}},{key:"equals",value:function(e){return this.date===e.date}},{key:"roundTo",value:function(e,t,n,o){"day"===t&&(t="date"),n=n||1;var i=e.get(t);switch(o){case"up":i=Math.ceil(i/n);break;case"down":i=Math.floor(i/n);break;default:i=Math.round(i/n)}var a=["millisecond","second","minute","hour","date","month","year"];e.set(t,i*n);for(var l=a.indexOf(t),r=0;r<l;r++)e.set(a[r],0);return e}},{key:"getMagnetDate",value:function(e,t,n,o){if(t>0&&void 0!==n){var i=e;if(e=(0,c.default)(e),"column"===n){e=this.getPositionByDate(e)<this.width/2?(0,c.default)(this.date):(0,c.default)(this.endDate)}else e=this.roundTo(e,n,t),e<this.date?e=(0,c.default)(this.date):e>this.endDate&&(e=(0,c.default)(this.endDate));if(o)for(var a=Math.abs(i.diff(e,"milliseconds")),l=void 0,r=0;r<this.timeFrames.length;r++){var s=this.timeFrames[r];if(s.magnet){var A=this.timeFrames[r-1],u=this.timeFrames[r+1],d=void 0;void 0!==A&&A.working===s.working||(d=Math.abs(i.diff(s.start,"milliseconds")))<a&&(void 0===l||d<l)&&(l=d,e=s.start),void 0!==u&&u.working===s.working||(d=Math.abs(i.diff(s.end,"milliseconds")))<a&&(void 0===l||d<l)&&(l=d,e=s.end)}}}return e}},{key:"getDateByPositionUsingTimeFrames",value:function(e){var t=!0,n=!1,o=void 0;try{for(var i,l=(0,a.default)(this.timeFrames);!(t=(i=l.next()).done);t=!0){var r=i.value;if(!r.cropped&&e>=r.left&&e<=r.left+r.width){var s=r.getDuration()/r.width*(e-r.left);return(0,c.default)(r.start).add(s,"milliseconds")}}}catch(e){n=!0,o=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw o}}}},{key:"getDateByPosition",value:function(e,t,n,o){var i=void 0;if(e<0&&(e=0),e>this.width&&(e=this.width),"cropped"!==this.timeFramesNonWorkingMode&&"cropped"!==this.timeFramesWorkingMode||(i=this.getDateByPositionUsingTimeFrames(e)),void 0===i){var a=this.duration/this.width*e;i=(0,c.default)(this.date).add(a,"milliseconds")}return i=this.getMagnetDate(i,t,n,o)}},{key:"getDayTimeFrame",value:function(e){var t=this.daysTimeFrames[this.getDateKey(e)];return void 0===t?[]:t}},{key:"getPositionByDate",value:function(e){var t=e;if("cropped"===this.timeFramesNonWorkingMode||"cropped"===this.timeFramesWorkingMode)for(var n=this.getDayTimeFrame(t),o=0;o<n.length;o++){var i=n[o];if(t>=i.start&&t<=i.end){if(!i.cropped){var a=t.diff(i.start,"milliseconds"),l=a/i.getDuration()*i.width;return this.left+i.left+l}t=n.length>o+1?n[o+1].start:i.end}}var r=t.diff(this.date,"milliseconds"),s=r/this.duration*this.width;return s<0&&(s=0),s>this.width&&(s=this.width),this.left+s}}]),e}()},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=!0},function(e,t,n){var o=n(14),i=n(152),a=n(26),l=n(31)("IE_PROTO"),r=function(){},s=function(){var e,t=n(51)("iframe"),o=a.length;for(t.style.display="none",n(145).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;o--;)delete s.prototype[a[o]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(r.prototype=o(e),n=new r,r.prototype=null,n[l]=e):n=s(),void 0===t?n:i(n,t)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var o=n(12).f,i=n(11),a=n(9)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&o(e,a,{configurable:!0,value:t})}},function(e,t,n){var o=n(32)("keys"),i=n(22);e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var o=n(8),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t,n){var o=n(18);e.exports=function(e,t){if(!o(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!o(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var o=n(8),i=n(7),a=n(27),l=n(36),r=n(12).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||r(t,e,{value:l.f(e)})}},function(e,t,n){t.f=n(9)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttApi=void 0;var i=n(0),a=o(i),l=n(2),r=o(l);t.default=["$q","$rootScope","ganttUtils",function(e,t,n){"ngInject";return u.$q=e,u.$rootScope=t,u.ganttUtils=n,u}];var s=n(1),A=o(s),u=t.GanttApi=function(){function e(t){(0,a.default)(this,e),this.gantt=t,this.listeners=[],this.apiId=e.ganttUtils.newId()}return(0,r.default)(e,[{key:"registerEventWithAngular",value:function(t,n,o,i){return e.$rootScope.$on(t,function(){var e=Array.prototype.slice.call(arguments);e.splice(0,1),n.apply(i||o.api,e)})}},{key:"suppressEvents",value:function(e,t){var n=this,o=A.default.isArray(e)?e:[e],i=[];o.forEach(function(e){i=n.listeners.filter(function(t){return e===t.handler})}),i.forEach(function(e){return e.dereg()}),t(),i.forEach(function(e){e.dereg=n.registerEventWithAngular(e.eventId,e.handler,n.gantt,e._this)})}},{key:"registerEvent",value:function(t,n){var o=this;this[t]||(this[t]={});var i=this[t];i.on||(i.on={},i.raise={});var a="event:gantt:"+this.apiId+":"+t+":"+n;i.raise[n]=function(){e.$rootScope.$emit.apply(e.$rootScope,[a].concat(Array.prototype.slice.call(arguments)))},i.on[n]=function(e,t,n){var i=o.registerEventWithAngular(a,t,o.gantt,n),l={handler:t,dereg:i,eventId:a,scope:e,_this:n};o.listeners.push(l);var r=function(){l.dereg();var e=o.listeners.indexOf(l);o.listeners.splice(e,1)};return e.$on("$destroy",function(){r()}),r}}},{key:"registerEventsFromObject",value:function(e){var t=this,n=[];A.default.forEach(e,function(e,t){var o={name:t,events:[]};A.default.forEach(e,function(e,t){o.events.push(t)}),n.push(o)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})}},{key:"registerMethod",value:function(t,n,o,i){this[t]||(this[t]={}),this[t][n]=e.ganttUtils.createBoundedWrapper(i||this.gantt,o)}},{key:"registerMethodsFromObject",value:function(e,t){var n=this,o=[];A.default.forEach(e,function(e,t){var n={name:t,methods:[]};A.default.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),o.push(n)}),o.forEach(function(e){e.methods.forEach(function(o){n.registerMethod(e.name,o.name,o.fn,t)})})}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttOptions=void 0;var i=n(0),a=o(i),l=n(2),r=o(l),s=function(){var e="/home/toilal/idea-projects/angular-gantt/src/core/logic/api/options.factory.ts",t="3b55f5a856cac60b6e3a3ecfcd287e1e41ec927d",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/core/logic/api/options.factory.ts",statementMap:{0:{start:{line:4,column:8},end:{line:4,column:43}},1:{start:{line:5,column:8},end:{line:5,column:29}},2:{start:{line:8,column:27},end:{line:8,column:57}},3:{start:{line:9,column:8},end:{line:11,column:9}},4:{start:{line:10,column:12},end:{line:10,column:42}},5:{start:{line:12,column:8},end:{line:12,column:28}},6:{start:{line:16,column:8},end:{line:24,column:9}},7:{start:{line:17,column:31},end:{line:17,column:60}},8:{start:{line:18,column:12},end:{line:23,column:13}},9:{start:{line:19,column:16},end:{line:21,column:17}},10:{start:{line:20,column:20},end:{line:20,column:39}},11:{start:{line:22,column:16},end:{line:22,column:36}},12:{start:{line:25,column:8},end:{line:25,column:27}},13:{start:{line:29,column:8},end:{line:29,column:66}},14:{start:{line:33,column:8},end:{line:33,column:46}},15:{start:{line:37,column:8},end:{line:41,column:9}},16:{start:{line:38,column:12},end:{line:40,column:13}},17:{start:{line:39,column:16},end:{line:39,column:65}},18:{start:{line:42,column:8},end:{line:42,column:27}},19:{start:{line:48,column:4},end:{line:48,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:4},end:{line:3,column:5}},loc:{start:{line:3,column:39},end:{line:6,column:5}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:29},end:{line:13,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:38},end:{line:26,column:5}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:22},end:{line:30,column:5}},line:28},4:{name:"(anonymous_4)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:33},end:{line:34,column:5}},line:32},5:{name:"(anonymous_5)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:17},end:{line:43,column:5}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:46,column:15},end:{line:46,column:16}},loc:{start:{line:46,column:27},end:{line:49,column:1}},line:46}},branchMap:{0:{loc:{start:{line:9,column:8},end:{line:11,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:11,column:9}},{start:{line:9,column:8},end:{line:11,column:9}}],line:9},1:{loc:{start:{line:16,column:8},end:{line:24,column:9}},type:"if",locations:[{start:{line:16,column:8},end:{line:24,column:9}},{start:{line:16,column:8},end:{line:24,column:9}}],line:16},2:{loc:{start:{line:18,column:12},end:{line:23,column:13}},type:"if",locations:[{start:{line:18,column:12},end:{line:23,column:13}},{start:{line:18,column:12},end:{line:23,column:13}}],line:18},3:{loc:{start:{line:19,column:16},end:{line:21,column:17}},type:"if",locations:[{start:{line:19,column:16},end:{line:21,column:17}},{start:{line:19,column:16},end:{line:21,column:17}}],line:19},4:{loc:{start:{line:19,column:20},end:{line:19,column:82}},type:"binary-expr",locations:[{start:{line:19,column:20},end:{line:19,column:45}},{start:{line:19,column:49},end:{line:19,column:82}}],line:19},5:{loc:{start:{line:38,column:12},end:{line:40,column:13}},type:"if",locations:[{start:{line:38,column:12},end:{line:40,column:13}},{start:{line:38,column:12},end:{line:40,column:13}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:"src/core/logic/api/options.factory.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/core/logic/api/options.factory.ts"],names:[],mappings:"AAAA,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,MAAM;IAIJ,YAAY,MAAkC,EAAE,aAAyC;QACvF,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAED,YAAY,CAAC,UAAkB;QAC7B,IAAI,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QAClD,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YACrC,YAAY,GAAG,YAAY,EAAE,CAAC;QAChC,CAAC;QAED,MAAM,CAAC,YAAY,CAAC;IACtB,CAAC;IAAA,CAAC;IAEF,QAAQ,CAAC,UAAkB,EAAE,WAAgB;QAC3C,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;YACjB,IAAI,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;YACjD,EAAE,CAAC,CAAC,YAAY,KAAK,SAAS,CAAC,CAAC,CAAC;gBAC/B,EAAE,CAAC,CAAC,WAAW,KAAK,SAAS,IAAI,OAAO,YAAY,KAAK,SAAS,CAAC,CAAC,CAAC;oBACnE,MAAM,CAAC,WAAW,CAAC;gBACrB,CAAC;gBAED,MAAM,CAAC,YAAY,CAAC;YACtB,CAAC;QACH,CAAC;QAED,MAAM,CAAC,WAAW,CAAC;IACrB,CAAC;IAAA,CAAC;IAEF,KAAK,CAAC,UAAkB;QACtB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;IAC5D,CAAC;IAAA,CAAC;IAEF,GAAG,CAAC,UAAkB,EAAE,WAAgB;QACtC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,WAAW,CAAC;IACxC,CAAC;IAAA,CAAC;IAEF,UAAU;QACR,GAAG,CAAC,CAAC,IAAI,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACnC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC3C,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;YACnD,CAAC;QACH,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAAA,CAAC;CACH;AAED,MAAM,CAAC,OAAO;IACZ,UAAU,CAAC;IAEX,MAAM,CAAC,YAAY,CAAC;AACtB,CAAC",sourcesContent:["import angular from 'angular';\n\nexport class GanttOptions {\n  private defaultValues: { [option: string]: any; };\n  private values: { [option: string]: any; };\n\n  constructor(values: { [option: string]: any; }, defaultValues: { [option: string]: any; }) {\n    this.defaultValues = defaultValues;\n    this.values = values;\n  }\n\n  defaultValue(optionName: string) {\n    let defaultValue = this.defaultValues[optionName];\n    if (angular.isFunction(defaultValue)) {\n      defaultValue = defaultValue();\n    }\n\n    return defaultValue;\n  };\n\n  sanitize(optionName: string, optionValue: any) {\n    if (!optionValue) {\n      let defaultValue = this.defaultValue(optionName);\n      if (defaultValue !== undefined) {\n        if (optionValue !== undefined && typeof defaultValue === 'boolean') {\n          return optionValue;\n        }\n\n        return defaultValue;\n      }\n    }\n\n    return optionValue;\n  };\n\n  value(optionName: string) {\n    return this.sanitize(optionName, this.values[optionName]);\n  };\n\n  set(optionName: string, optionValue: any) {\n    this.values[optionName] = optionValue;\n  };\n\n  initialize() {\n    for (let optionName in this.values) {\n      if (this.values.hasOwnProperty(optionName)) {\n        this.values[optionName] = this.value(optionName);\n      }\n    }\n    return this.values;\n  };\n}\n\nexport default function () {\n  'ngInject';\n\n  return GanttOptions;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=function(){"ngInject";return++s.f[6],++s.s[19],c};var A=n(1),u=o(A),c=t.GanttOptions=function(){function e(t,n){(0,a.default)(this,e),++s.f[0],++s.s[0],this.defaultValues=n,++s.s[1],this.values=t}return(0,r.default)(e,[{key:"defaultValue",value:function(e){++s.f[1];var t=(++s.s[2],this.defaultValues[e]);return++s.s[3],u.default.isFunction(t)?(++s.b[0][0],++s.s[4],t=t()):++s.b[0][1],++s.s[5],t}},{key:"sanitize",value:function(e,t){if(++s.f[2],++s.s[6],t)++s.b[1][1];else{++s.b[1][0];var n=(++s.s[7],this.defaultValue(e));if(++s.s[8],void 0!==n)return++s.b[2][0],++s.s[9],++s.b[4][0],void 0!==t&&(++s.b[4][1],"boolean"==typeof n)?(++s.b[3][0],++s.s[10],t):(++s.b[3][1],++s.s[11],n);++s.b[2][1]}return++s.s[12],t}},{key:"value",value:function(e){return++s.f[3],++s.s[13],this.sanitize(e,this.values[e])}},{key:"set",value:function(e,t){++s.f[4],++s.s[14],this.values[e]=t}},{key:"initialize",value:function(){++s.f[5],++s.s[15];for(var e in this.values)++s.s[16],this.values.hasOwnProperty(e)?(++s.b[5][0],++s.s[17],this.values[e]=this.value(e)):++s.b[5][1];return++s.s[18],this.values}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttCalendar=t.DateFrame=t.TimeFrameMapping=t.TimeFrame=void 0;var i=n(4),a=o(i),l=n(0),r=o(l),s=n(2),A=o(s);t.default=["$filter",function(e){"ngInject";return f.$filter=e,f}];var u=n(3),c=o(u),d=t.TimeFrame=function(){function e(t){(0,r.default)(this,e),void 0===t&&(t={}),this.start=t.start,this.end=t.end,this.working=t.working,this.magnet=void 0===t.magnet||t.magnet,this.default=t.default,this.color=t.color,this.classes=t.classes,this.internal=t.internal}return(0,A.default)(e,[{key:"updateView",value:function(){if(this.$element){var e={};void 0!==this.left?e.left=this.left+"px":e.left="",void 0!==this.width?e.width=this.width+"px":e.width="",void 0!==this.color?e["background-color"]=this.color:e["background-color"]="",this.$element.css(e);var t=["gantt-timeframe"+(this.working?"":"-non")+"-working"];this.classes&&(t=t.concat(this.classes));for(var n=0,o=t.length;n<o;n++)this.$element.toggleClass(t[n],!0)}}},{key:"getDuration",value:function(){if(void 0!==this.end&&void 0!==this.start)return this.end.diff(this.start,"milliseconds")}},{key:"clone",value:function(){return new e(this)}}]),e}(),C=t.TimeFrameMapping=function(){function e(t){(0,r.default)(this,e),this.func=t}return(0,A.default)(e,[{key:"getTimeFrames",value:function(e){var t=this.func(e);return t instanceof Array||(t=[t]),t}},{key:"clone",value:function(){return new e(this.func)}}]),e}(),m=t.DateFrame=function(){function e(t){(0,r.default)(this,e),this.evaluator=t.evaluator,t.date?(this.start=(0,c.default)(t.date).startOf("day"),this.end=(0,c.default)(t.date).endOf("day")):(this.start=t.start,this.end=t.end),t.targets instanceof Array?this.targets=t.targets:this.targets=[t.targets],this.default=t.default}return(0,A.default)(e,[{key:"dateMatch",value:function(e){return this.evaluator?this.evaluator(e):!(!this.start||!this.end)&&(e>=this.start&&e<=this.end)}},{key:"clone",value:function(){return new e(this)}}]),e}(),f=t.GanttCalendar=function(){function e(){(0,r.default)(this,e),this.timeFrames={},this.timeFrameMappings={},this.dateFrames={}}return(0,A.default)(e,[{key:"clear",value:function(){this.timeFrames={},this.timeFrameMappings={},this.dateFrames={}}},{key:"registerTimeFrames",value:function(e){for(var t in e){var n=e[t];this.timeFrames[t]=new d(n)}}},{key:"removeTimeFrames",value:function(e){for(var t in e)delete this.timeFrames[t]}},{key:"clearTimeFrames",value:function(){this.timeFrames={}}},{key:"registerTimeFrameMappings",value:function(e){for(var t in e){var n=e[t];this.timeFrameMappings[t]=new C(n)}}},{key:"removeTimeFrameMappings",value:function(e){for(var t in e)delete this.timeFrameMappings[t]}},{key:"clearTimeFrameMappings",value:function(){this.timeFrameMappings={}}},{key:"registerDateFrames",value:function(e){for(var t in e){var n=e[t];this.dateFrames[t]=new m(n)}}},{key:"removeDateFrames",value:function(e){for(var t in e)delete this.dateFrames[t]}},{key:"clearDateFrames",value:function(){this.dateFrames={}}},{key:"filterDateFrames",value:function(e,t){var n=[];for(var o in e){var i=e[o];i.dateMatch(t)&&n.push(i)}if(0===n.length)for(var a in e){var l=e[a];l.default&&n.push(l)}return n}},{key:"getTimeFrames",value:function(e){var t=[],n=this.filterDateFrames(this.dateFrames,e),o=!0,i=!1,l=void 0;try{for(var r,s=(0,a.default)(n);!(o=(r=s.next()).done);o=!0){var A=r.value;if(void 0!==A){var u=A.targets,d=!0,C=!1,m=void 0;try{for(var f,p=(0,a.default)(u);!(d=(f=p.next()).done);d=!0){var g=f.value,h=this.timeFrameMappings[g];if(void 0!==h){var v=h.getTimeFrames(e),y=!0,b=!1,w=void 0;try{for(var M,k=(0,a.default)(v);!(y=(M=k.next()).done);y=!0){var E=M.value,G=this.timeFrames[E];t.push(G)}}catch(e){b=!0,w=e}finally{try{!y&&k.return&&k.return()}finally{if(b)throw w}}}else{var I=this.timeFrames[g];void 0!==I&&t.push(I)}}}catch(e){C=!0,m=e}finally{try{!d&&p.return&&p.return()}finally{if(C)throw m}}}}}catch(e){i=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw l}}var B=e.year(),S=e.month(),O=e.date(),_=[];if(0===t.length)for(var $ in this.timeFrames){var K=this.timeFrames[$];K.default&&t.push(K)}for(var T in t){var x=t[T],D=x.clone();void 0!==D.start&&(D.start.year(B),D.start.month(S),D.start.date(O)),void 0!==D.end&&(D.end.year(B),D.end.month(S),D.end.date(O),(0,c.default)(D.end).startOf("day")===D.end&&D.end.add(1,"day")),_.push(D)}return _}},{key:"solve",value:function(t,n,o){var i=void 0,l=void 0,r=void 0,s=void 0,A=!0,u=!1,C=void 0;try{for(var m,f=(0,a.default)(t);!(A=(m=f.next()).done);A=!0){var p=m.value;(void 0===r||r>p.start)&&(r=p.start),(void 0===s||s<p.end)&&(s=p.end),void 0===i&&p.color&&(i=p.color),void 0!==p.classes&&(void 0===l&&(l=[]),l=l.concat(p.classes))}}catch(e){u=!0,C=e}finally{try{!A&&f.return&&f.return()}finally{if(u)throw C}}void 0===n&&(n=r),void 0===o&&(o=s);var g=[new d({start:n,end:o,internal:!0})];t=e.$filter("filter")(t,function(e){return(void 0===e.start||e.start<o)&&(void 0===e.end||e.end>n)});var h=!0,v=!1,y=void 0;try{for(var b,w=(0,a.default)(t);!(h=(b=w.next()).done);h=!0){var M=b.value;M.start||(M.start=n),M.end||(M.end=o)}}catch(e){v=!0,y=e}finally{try{!h&&w.return&&w.return()}finally{if(v)throw y}}var k=e.$filter("orderBy")(t,function(e){return-e.getDuration()}),E=void 0,G=!0,I=!1,B=void 0;try{for(var S,O=(0,a.default)(k);!(G=(S=O.next()).done);G=!0){var _=S.value,$=g.slice();E=0;var K=!1,T=!1,x=!0,D=!1,j=void 0;try{for(var F,U=(0,a.default)(g);!(x=(F=U.next()).done);x=!0){var W=F.value;if(!T){if(_.end||_.start)if(_.end>W.start&&_.start<W.end){var P=W.clone();W.end=(0,c.default)(_.start),P.start=(0,c.default)(_.end),$.splice(E+1,0,_.clone(),P),T=!0,K=!1}else!K&&_.start<W.end?(W.end=(0,c.default)(_.start),$.splice(E+1,0,_.clone()),K=!0):K&&_.end>W.start&&(W.start=(0,c.default)(_.end),K=!1,T=!0);else $.splice(E,0,_),T=!0,K=!1;E++}}}catch(e){D=!0,j=e}finally{try{!x&&U.return&&U.return()}finally{if(D)throw j}}g=$}}catch(e){I=!0,B=e}finally{try{!G&&O.return&&O.return()}finally{if(I)throw B}}return g=e.$filter("filter")(g,function(e){return!e.internal&&(void 0===e.start||e.start<o)&&(void 0===e.end||e.end>n)})}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttCurrentDateManager=void 0;var i=n(0),a=o(i),l=n(2),r=o(l);t.default=function(){"ngInject";return u};var s=n(3),A=o(s),u=t.GanttCurrentDateManager=function(){function e(t){var n=this;(0,a.default)(this,e),this.gantt=t,this.date=void 0,this.position=void 0,this.currentDateColumn=void 0,this.gantt.$scope.simplifyMoment=function(e){return A.default.isMoment(e)?e.unix():e},this.gantt.$scope.$watchGroup(["currentDate","simplifyMoment(currentDateValue)"],function(e,t){e!==t&&n.setCurrentDate(n.gantt.options.value("currentDateValue"))})}return(0,r.default)(e,[{key:"setCurrentDate",value:function(e){this.date=e;var t=this.currentDateColumn,n=void 0;void 0!==this.date&&"column"===this.gantt.options.value("currentDate")&&(n=this.gantt.columnsManager.getColumnByDate(this.date,!0)),this.currentDateColumn=n,t!==n&&(void 0!==t&&(t.currentDate=!1,t.updateView()),void 0!==n&&(n.currentDate=!0,n.updateView())),this.position=this.gantt.getPositionByDate(this.date,!0)}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttColumnHeader=void 0;var i=n(127),a=o(i),l=n(0),r=o(l),s=n(132),A=o(s),u=n(131),c=o(u);t.default=function(){"ngInject";return f};var d=n(1),C=o(d),m=n(23),f=t.GanttColumnHeader=function(e){function t(e,n,o,i,l,s,u){(0,r.default)(this,t);var c=(0,A.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n,i,l));return c.name=u,c.unit=o,c.label=C.default.isFunction(s)?s(c):e.format(s),c}return(0,c.default)(t,e),t}(m.GanttColumn)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttColumnsManager=void 0;var i=n(4),a=o(i),l=n(0),r=o(l),s=n(2),A=o(s);t.default=["GanttColumnGenerator","GanttColumnBuilder","GanttHeadersGenerator","$filter","ganttLayout","ganttBinarySearch",function(e,t,n,o,i,a){"ngInject";return d.GanttColumnGenerator=e,d.GanttHeadersGenerator=n,d.ganttBinarySearch=a,d.GanttColumnBuilder=t,d.ganttLayout=i,d.$filter=o,d}];var u=n(3),c=o(u),d=t.GanttColumnsManager=function(){function e(t){var n=this;(0,r.default)(this,e),this.defaultHeadersFormats={year:"YYYY",quarter:"[Q]Q YYYY",month:"MMMM YYYY",week:"w",day:"D",hour:"H",minute:"H:mm",second:"H:mm:ss",millisecond:"H:mm:ss:SSS"},this.defaultDayHeadersFormats={day:"LL",hour:"H",minute:"H:mm",second:"H:mm:ss",millisecond:"H:mm:ss:SSS"},this.defaultYearHeadersFormats={year:"YYYY",quarter:"[Q]Q",month:"MMMM"},this.gantt=t,this.from=void 0,this.to=void 0,this.columns=[],this.visibleColumns=[],this.previousColumns=[],this.nextColumns=[],this.headers=[],this.visibleHeaders=[],this.scrollAnchor=void 0,this.columnBuilder=new e.GanttColumnBuilder(this),this.gantt.$scope.$watchGroup(["viewScale","columnWidth","timeFramesWorkingMode","timeFramesNonWorkingMode","fromDate","toDate","autoExpand","taskOutOfRange"],function(e,t){e!==t&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchCollection("headers",function(e,t){e!==t&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchCollection("headersFormats",function(e,t){e!==t&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchGroup(["ganttElementWidth","showSide","sideWidth","maxHeight","daily"],function(e,t){e!==t&&n.gantt.rendered&&n.updateColumnsMeta()}),this.gantt.api.data.on.load(this.gantt.$scope,function(){(void 0===n.from||void 0===n.to||n.from>n.gantt.rowsManager.getDefaultFrom()||n.to<n.gantt.rowsManager.getDefaultTo())&&n.gantt.rendered&&n.generateColumns(),n.gantt.rowsManager.sortRows()}),this.gantt.api.data.on.remove(this.gantt.$scope,function(){n.gantt.rowsManager.sortRows()}),this.gantt.api.registerMethod("columns","clear",this.clearColumns,this),this.gantt.api.registerMethod("columns","generate",this.generateColumns,this),this.gantt.api.registerMethod("columns","refresh",this.updateColumnsMeta,this),this.gantt.api.registerMethod("columns","getColumnsWidth",this.getColumnsWidth,this),this.gantt.api.registerMethod("columns","getColumnsWidthToFit",this.getColumnsWidthToFit,this),this.gantt.api.registerMethod("columns","getDateRange",this.getDateRange,this),this.gantt.api.registerEvent("columns","clear"),this.gantt.api.registerEvent("columns","generate"),this.gantt.api.registerEvent("columns","refresh")}return(0,A.default)(e,[{key:"setScrollAnchor",value:function(){if(this.gantt.scroll.$element&&this.columns.length>0){var e=this.gantt.scroll.$element[0],t=e.scrollLeft+e.offsetWidth/2;this.scrollAnchor=this.gantt.getDateByPosition(t)}}},{key:"scrollToScrollAnchor",value:function(){var e=this;this.columns.length>0&&void 0!==this.scrollAnchor&&this.gantt.$scope.$$postDigest(function(){e.gantt.api.scroll.toDate(e.scrollAnchor)})}},{key:"clearColumns",value:function(){this.setScrollAnchor(),this.from=void 0,this.to=void 0,this.columns=[],this.visibleColumns=[],this.previousColumns=[],this.nextColumns=[],this.headers=[],this.visibleHeaders=[],this.gantt.api.columns.raise.clear()}},{key:"generateColumns",value:function(t,n){return t||(t=this.gantt.options.value("fromDate")),n||(n=this.gantt.options.value("toDate")),!((!t||c.default.isMoment(t)&&!t.isValid())&&!(t=this.gantt.rowsManager.getDefaultFrom()))&&(!((!n||c.default.isMoment(n)&&!n.isValid())&&!(n=this.gantt.rowsManager.getDefaultTo()))&&(void 0===t||c.default.isMoment(t)||(t=(0,c.default)(t)),void 0===n||c.default.isMoment(n)||(n=(0,c.default)(n)),"expand"===this.gantt.options.value("taskOutOfRange")&&(t=this.gantt.rowsManager.getExpandedFrom(t),n=this.gantt.rowsManager.getExpandedTo(n)),this.setScrollAnchor(),this.from=t,this.to=n,this.previousColumns=[],this.nextColumns=[],this.columns=e.GanttColumnGenerator.generate(this.columnBuilder,this.from,this.to,this.gantt.options.value("viewScale"),this.getColumnsWidth()),this.headers=e.GanttHeadersGenerator.generate(this),this.updateColumnsMeta(),this.scrollToScrollAnchor(),void this.gantt.api.columns.raise.generate(this.columns,this.headers)))}},{key:"updateColumnsMeta",value:function(){this.gantt.isRefreshingColumns=!0;var e=this.getLastColumn();this.gantt.originalWidth=void 0!==e?e.originalSize.left+e.originalSize.width:0;var t=this.updateColumnsWidths(this.columns,this.headers,this.previousColumns,this.nextColumns);this.gantt.width=void 0!==e?e.left+e.width:0;var n=this.gantt.options.value("showSide"),o=this.gantt.side.isShown(),i=n!==o;i&&!n&&this.gantt.side.show(!1),this.gantt.rowsManager.updateTasksPosAndSize(),this.gantt.timespansManager.updateTimespansPosAndSize(),this.updateVisibleColumns(t),this.gantt.rowsManager.updateVisibleObjects();var a=this.gantt.options.value("currentDateValue");this.gantt.currentDateManager.setCurrentDate(a),i&&n&&this.gantt.side.show(!0),this.gantt.isRefreshingColumns=!1,this.gantt.api.columns.raise.refresh(this.columns,this.headers)}},{key:"getLastColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.columns;return e&&(t=this.nextColumns),t&&t.length>0?t[t.length-1]:void 0}},{key:"getFirstColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.columns;return e&&(t=this.previousColumns),t&&t.length>0?t[0]:void 0}},{key:"getColumnByDate",value:function(t,n){n||this.expandExtendedColumnsForDate(t);var o=this.previousColumns.concat(this.columns,this.nextColumns),i=e.ganttBinarySearch.get(o,t,function(e){return e.date},!0);return void 0===i[0]?i[1]:i[0]}},{key:"getColumnByPosition",value:function(t,n){n||this.expandExtendedColumnsForPosition(t);var o=this.previousColumns.concat(this.columns,this.nextColumns),i=e.ganttBinarySearch.get(o,t,function(e){return e.left},!0);return void 0===i[0]?i[1]:i[0]}},{key:"updateColumnsWidths",value:function(t,n,o,i){var l=this.gantt.options.value("columnWidth"),r=this.gantt.options.value("expandToFit"),s=this.gantt.options.value("shrinkToFit");if(void 0===l||r||s){var A=this.gantt.getBodyAvailableWidth(),u=this.gantt.columnsManager.getLastColumn(!1);if(void 0!==u){var c=u.originalSize.left+u.originalSize.width;if(r&&c<A||s&&c>A||void 0===l){var d=A/c;e.ganttLayout.setColumnsWidthFactor(t,d);var C=!0,m=!1,f=void 0;try{for(var p,g=(0,a.default)(n);!(C=(p=g.next()).done);C=!0){var h=p.value;e.ganttLayout.setColumnsWidthFactor(h,d)}}catch(e){m=!0,f=e}finally{try{!C&&g.return&&g.return()}finally{if(m)throw f}}return o.splice(0,this.previousColumns.length),i.splice(0,this.nextColumns.length),!0}}}return!1}},{key:"getColumnsWidth",value:function(){var e=this.gantt.options.value("columnWidth");return void 0===e&&(e=!this.gantt.width||this.gantt.width<=0?20:this.gantt.width/this.columns.length),e}},{key:"getColumnsWidthToFit",value:function(){return this.gantt.getBodyAvailableWidth()/this.columns.length}},{key:"expandExtendedColumnsForPosition",value:function(t){var n=void 0;if(t<0){var o=this.getFirstColumn(),i=o.date,a=this.getFirstColumn(!0);return(!a||a.left>t)&&(n=this.gantt.options.value("viewScale"),this.previousColumns=e.GanttColumnGenerator.generate(this.columnBuilder,i,void 0,n,this.getColumnsWidth(),-t,0,!0)),!0}if(t>this.gantt.width){var l=this.getLastColumn(),r=l.getDateByPosition(l.width),s=this.getLastColumn(!0);return(!s||s.left+s.width<t)&&(n=this.gantt.options.value("viewScale"),this.nextColumns=e.GanttColumnGenerator.generate(this.columnBuilder,r,void 0,n,this.getColumnsWidth(),t-this.gantt.width,this.gantt.width,!1)),!0}return!1}},{key:"expandExtendedColumnsForDate",value:function(t){var n=this.getFirstColumn(),o=void 0;n&&(o=n.date);var i=this.getLastColumn(),a=void 0;i&&(a=i.endDate);var l=void 0;if(o&&t<o){var r=this.getFirstColumn(!0);return(!r||r.date>t)&&(l=this.gantt.options.value("viewScale"),this.previousColumns=e.GanttColumnGenerator.generate(this.columnBuilder,o,t,l,this.getColumnsWidth(),void 0,0,!0)),!0}if(a&&t>=a){var s=this.getLastColumn(!0);return(!s||s.date<a)&&(l=this.gantt.options.value("viewScale"),this.nextColumns=e.GanttColumnGenerator.generate(this.columnBuilder,a,t,l,this.getColumnsWidth(),void 0,this.gantt.width,!1)),!0}return!1}},{key:"getActiveHeadersCount",value:function(){return this.headers.length}},{key:"updateVisibleColumns",value:function(t){var n=this.gantt.options.value("columnLimitThreshold"),o=void 0;if(void 0===n||n>0&&this.columns.length>=n)for(this.visibleColumns=e.$filter("ganttColumnLimit")(this.columns,this.gantt),this.visibleHeaders=[],o=0;o<this.headers.length;o++)this.visibleHeaders.push.apply(this.visibleHeaders,e.$filter("ganttColumnLimit")(this.headers[o],this.gantt));else this.visibleColumns=this.columns,this.visibleHeaders=this.headers;if(t){for(o=0;o<this.visibleColumns.length;o++)this.visibleColumns[o].updateView();for(o=0;o<this.visibleHeaders.length;o++){var i=this.visibleHeaders[o],l=!0,r=!1,s=void 0;try{for(var A,u=(0,a.default)(i);!(l=(A=u.next()).done);l=!0){A.value.updateView()}}catch(e){r=!0,s=e}finally{try{!l&&u.return&&u.return()}finally{if(r)throw s}}}}var c=this.gantt.options.value("currentDateValue");this.gantt.currentDateManager.setCurrentDate(c)}},{key:"getHeaderFormat",value:function(e){var t=void 0,n=this.gantt.options.value("headersFormats");if(void 0!==n&&(t=n[e]),void 0===t){var o=this.gantt.options.value("viewScale");o=o.trim(),"s"===o.charAt(o.length-1)&&(o=o.substring(0,o.length-1));var i=void 0,a=void 0;o&&(a=o.split(" ")),i=a&&a.length>1?a[a.length-1]:o,["millisecond","second","minute","hour"].indexOf(i)>-1?t=this.defaultDayHeadersFormats[e]:["month","quarter","year"].indexOf(i)>-1&&(t=this.defaultYearHeadersFormats[e]),void 0===t&&(t=this.defaultHeadersFormats[e])}return t}},{key:"getHeaderScale",value:function(e){var t=void 0,n=this.gantt.options.value("headersScales");return void 0!==n&&(t=n[e]),void 0===t&&(t=e),-1===["millisecond","second","minute","hour","day","week","month","quarter","year"].indexOf(t)&&(t="day"),t}},{key:"getDateRange",value:function(e){var t=void 0,n=void 0;return e?this.visibleColumns&&this.visibleColumns.length>0&&(t=this.visibleColumns[0],n=this.visibleColumns[this.visibleColumns.length-1]):(t=this.getFirstColumn(),n=this.getLastColumn()),t&&n?[t.date,n.endDate]:void 0}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttObjectModel=void 0;var i=n(0),a=o(i),l=n(2),r=o(l),s=function(){var e="/home/toilal/idea-projects/angular-gantt/src/core/logic/model/objectModel.factory.ts",t="e706d37f52d781334bed5c3ed608d06fe2dae196",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/core/logic/model/objectModel.factory.ts",statementMap:{0:{start:{line:4,column:8},end:{line:4,column:23}},1:{start:{line:5,column:8},end:{line:5,column:49}},2:{start:{line:6,column:8},end:{line:6,column:48}},3:{start:{line:7,column:8},end:{line:7,column:53}},4:{start:{line:11,column:8},end:{line:13,column:9}},5:{start:{line:12,column:12},end:{line:12,column:64}},6:{start:{line:14,column:8},end:{line:16,column:9}},7:{start:{line:15,column:12},end:{line:15,column:44}},8:{start:{line:17,column:8},end:{line:19,column:9}},9:{start:{line:18,column:12},end:{line:18,column:40}},10:{start:{line:20,column:8},end:{line:20,column:42}},11:{start:{line:24,column:8},end:{line:26,column:9}},12:{start:{line:25,column:12},end:{line:25,column:64}},13:{start:{line:27,column:8},end:{line:29,column:9}},14:{start:{line:28,column:12},end:{line:28,column:44}},15:{start:{line:30,column:8},end:{line:32,column:9}},16:{start:{line:31,column:12},end:{line:31,column:40}},17:{start:{line:33,column:8},end:{line:33,column:41}},18:{start:{line:37,column:8},end:{line:39,column:9}},19:{start:{line:38,column:12},end:{line:38,column:64}},20:{start:{line:40,column:8},end:{line:42,column:9}},21:{start:{line:41,column:12},end:{line:41,column:44}},22:{start:{line:43,column:8},end:{line:45,column:9}},23:{start:{line:44,column:12},end:{line:44,column:40}},24:{start:{line:46,column:8},end:{line:46,column:46}},25:{start:{line:52,column:4},end:{line:52,column:45}},26:{start:{line:53,column:4},end:{line:53,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:4},end:{line:3,column:5}},loc:{start:{line:3,column:21},end:{line:8,column:5}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:21},end:{line:21,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:20},end:{line:34,column:5}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:25},end:{line:47,column:5}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:50,column:15},end:{line:50,column:16}},loc:{start:{line:50,column:37},end:{line:54,column:1}},line:50}},branchMap:{0:{loc:{start:{line:11,column:8},end:{line:13,column:9}},type:"if",locations:[{start:{line:11,column:8},end:{line:13,column:9}},{start:{line:11,column:8},end:{line:13,column:9}}],line:11},1:{loc:{start:{line:14,column:8},end:{line:16,column:9}},type:"if",locations:[{start:{line:14,column:8},end:{line:16,column:9}},{start:{line:14,column:8},end:{line:16,column:9}}],line:14},2:{loc:{start:{line:14,column:12},end:{line:14,column:68}},type:"binary-expr",locations:[{start:{line:14,column:12},end:{line:14,column:36}},{start:{line:14,column:40},end:{line:14,column:68}}],line:14},3:{loc:{start:{line:17,column:8},end:{line:19,column:9}},type:"if",locations:[{start:{line:17,column:8},end:{line:19,column:9}},{start:{line:17,column:8},end:{line:19,column:9}}],line:17},4:{loc:{start:{line:17,column:12},end:{line:17,column:64}},type:"binary-expr",locations:[{start:{line:17,column:12},end:{line:17,column:34}},{start:{line:17,column:38},end:{line:17,column:64}}],line:17},5:{loc:{start:{line:24,column:8},end:{line:26,column:9}},type:"if",locations:[{start:{line:24,column:8},end:{line:26,column:9}},{start:{line:24,column:8},end:{line:26,column:9}}],line:24},6:{loc:{start:{line:27,column:8},end:{line:29,column:9}},type:"if",locations:[{start:{line:27,column:8},end:{line:29,column:9}},{start:{line:27,column:8},end:{line:29,column:9}}],line:27},7:{loc:{start:{line:27,column:12},end:{line:27,column:68}},type:"binary-expr",locations:[{start:{line:27,column:12},end:{line:27,column:36}},{start:{line:27,column:40},end:{line:27,column:68}}],line:27},8:{loc:{start:{line:30,column:8},end:{line:32,column:9}},type:"if",locations:[{start:{line:30,column:8},end:{line:32,column:9}},{start:{line:30,column:8},end:{line:32,column:9}}],line:30},9:{loc:{start:{line:30,column:12},end:{line:30,column:64}},type:"binary-expr",locations:[{start:{line:30,column:12},end:{line:30,column:34}},{start:{line:30,column:38},end:{line:30,column:64}}],line:30},10:{loc:{start:{line:37,column:8},end:{line:39,column:9}},type:"if",locations:[{start:{line:37,column:8},end:{line:39,column:9}},{start:{line:37,column:8},end:{line:39,column:9}}],line:37},11:{loc:{start:{line:40,column:8},end:{line:42,column:9}},type:"if",locations:[{start:{line:40,column:8},end:{line:42,column:9}},{start:{line:40,column:8},end:{line:42,column:9}}],line:40},12:{loc:{start:{line:40,column:12},end:{line:40,column:68}},type:"binary-expr",locations:[{start:{line:40,column:12},end:{line:40,column:36}},{start:{line:40,column:40},end:{line:40,column:68}}],line:40},13:{loc:{start:{line:43,column:8},end:{line:45,column:9}},type:"if",locations:[{start:{line:43,column:8},end:{line:45,column:9}},{start:{line:43,column:8},end:{line:45,column:9}}],line:43},14:{loc:{start:{line:43,column:12},end:{line:43,column:64}},type:"binary-expr",locations:[{start:{line:43,column:12},end:{line:43,column:34}},{start:{line:43,column:38},end:{line:43,column:64}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:"src/core/logic/model/objectModel.factory.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/core/logic/model/objectModel.factory.ts"],names:[],mappings:"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",sourcesContent:["import moment from 'moment';\n\nimport {GanttApi} from '../api/api.factory';\nimport GanttUtils from '../util/utils.service';\n\nexport class GanttObjectModel {\n  static ganttUtils: GanttUtils;\n\n  private api: GanttApi;\n\n  constructor (api: GanttApi) {\n    this.api = api;\n\n    this.api.registerEvent('tasks', 'clean');\n    this.api.registerEvent('rows', 'clean');\n    this.api.registerEvent('timespans', 'clean');\n  };\n\n  cleanTask (model) {\n    if (model.id === undefined) {\n      model.id = GanttObjectModel.ganttUtils.randomUuid();\n    }\n\n    if (model.from !== undefined && !moment.isMoment(model.from)) {\n      model.from = moment(model.from);\n    }\n\n    if (model.to !== undefined && !moment.isMoment(model.to)) {\n      model.to = moment(model.to);\n    }\n\n    (this.api as any).tasks.raise.clean(model);\n  };\n\n  cleanRow (model) {\n    if (model.id === undefined) {\n      model.id = GanttObjectModel.ganttUtils.randomUuid();\n    }\n\n    if (model.from !== undefined && !moment.isMoment(model.from)) {\n      model.from = moment(model.from);\n    }\n\n    if (model.to !== undefined && !moment.isMoment(model.to)) {\n      model.to = moment(model.to);\n    }\n\n    (this.api as any).rows.raise.clean(model);\n  };\n\n  cleanTimespan (model) {\n    if (model.id === undefined) {\n      model.id = GanttObjectModel.ganttUtils.randomUuid();\n    }\n\n    if (model.from !== undefined && !moment.isMoment(model.from)) {\n      model.from = moment(model.from);\n    }\n\n    if (model.to !== undefined && !moment.isMoment(model.to)) {\n      model.to = moment(model.to);\n    }\n\n    (this.api as any).timespans.raise.clean(model);\n  };\n}\n\nexport default function (ganttUtils: GanttUtils) {\n  'ngInject';\n\n  GanttObjectModel.ganttUtils = ganttUtils;\n  return GanttObjectModel;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=["ganttUtils",function(e){"ngInject";return++s.f[4],++s.s[25],c.ganttUtils=e,++s.s[26],c}];var A=n(3),u=o(A),c=t.GanttObjectModel=function(){function e(t){(0,a.default)(this,e),++s.f[0],++s.s[0],this.api=t,++s.s[1],this.api.registerEvent("tasks","clean"),++s.s[2],this.api.registerEvent("rows","clean"),++s.s[3],this.api.registerEvent("timespans","clean")}return(0,r.default)(e,[{key:"cleanTask",value:function(t){++s.f[1],++s.s[4],void 0===t.id?(++s.b[0][0],++s.s[5],t.id=e.ganttUtils.randomUuid()):++s.b[0][1],++s.s[6],++s.b[2][0],void 0===t.from||(++s.b[2][1],u.default.isMoment(t.from))?++s.b[1][1]:(++s.b[1][0],++s.s[7],t.from=(0,u.default)(t.from)),++s.s[8],++s.b[4][0],void 0===t.to||(++s.b[4][1],u.default.isMoment(t.to))?++s.b[3][1]:(++s.b[3][0],++s.s[9],t.to=(0,u.default)(t.to)),++s.s[10],this.api.tasks.raise.clean(t)}},{key:"cleanRow",value:function(t){++s.f[2],++s.s[11],void 0===t.id?(++s.b[5][0],++s.s[12],t.id=e.ganttUtils.randomUuid()):++s.b[5][1],++s.s[13],++s.b[7][0],void 0===t.from||(++s.b[7][1],u.default.isMoment(t.from))?++s.b[6][1]:(++s.b[6][0],++s.s[14],t.from=(0,u.default)(t.from)),++s.s[15],++s.b[9][0],void 0===t.to||(++s.b[9][1],u.default.isMoment(t.to))?++s.b[8][1]:(++s.b[8][0],++s.s[16],t.to=(0,u.default)(t.to)),++s.s[17],this.api.rows.raise.clean(t)}},{key:"cleanTimespan",value:function(t){++s.f[3],++s.s[18],void 0===t.id?(++s.b[10][0],++s.s[19],t.id=e.ganttUtils.randomUuid()):++s.b[10][1],++s.s[20],++s.b[12][0],void 0===t.from||(++s.b[12][1],u.default.isMoment(t.from))?++s.b[11][1]:(++s.b[11][0],++s.s[21],t.from=(0,u.default)(t.from)),++s.s[22],++s.b[14][0],void 0===t.to||(++s.b[14][1],u.default.isMoment(t.to))?++s.b[13][1]:(++s.b[13][0],++s.s[23],t.to=(0,u.default)(t.to)),++s.s[24],this.api.timespans.raise.clean(t)}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttRowsManager=void 0;var i=n(5),a=o(i),l=n(4),r=o(l),s=n(0),A=o(s),u=n(2),c=o(u);t.default=["GanttRow","ganttArrays","$filter","$timeout",function(e,t,n,o){"ngInject";return p.GanttRow=e,p.$filter=n,p.$timeout=o,p.ganttArrays=t,p}];var d=n(1),C=o(d),m=n(3),f=o(m),p=t.GanttRowsManager=function(){function e(t){var n=this;(0,A.default)(this,e),this.rowsMap={},this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[],this.rowsTaskWatchers=[],this.customRowSorters=[],this.customRowFilters=[],this.gantt=t,this._defaultFilterImpl=function(t,n,o){return e.$filter("filter")(t,n,o)},this.filterImpl=this._defaultFilterImpl,this.customRowSorters=[],this.customRowFilters=[],this.gantt.$scope.$watchGroup(["filterTask","filterTaskComparator"],function(e,t){e!==t&&n.updateVisibleTasks()}),this.gantt.$scope.$watchGroup(["filterRow","filterRowComparator"],function(e,t){e!==t&&n.updateVisibleRows()}),this.gantt.$scope.$watch("sortMode",function(e,t){e!==t&&n.sortRows()});var o=this.gantt.scroll.isVScrollbarVisible();this.gantt.$scope.$watchGroup(["maxHeight","gantt.rowsManager.visibleRows.length"],function(t,i){t!==i&&e.$timeout(function(){var e=n.gantt.scroll.isVScrollbarVisible();e!==o&&(o=e,n.gantt.columnsManager.updateColumnsMeta())})}),this.gantt.api.registerMethod("rows","sort",e.prototype.sortRows,this),this.gantt.api.registerMethod("rows","applySort",e.prototype.applySort,this),this.gantt.api.registerMethod("rows","refresh",e.prototype.updateVisibleObjects,this),this.gantt.api.registerMethod("rows","removeRowSorter",e.prototype.removeCustomRowSorter,this),this.gantt.api.registerMethod("rows","addRowSorter",e.prototype.addCustomRowSorter,this),this.gantt.api.registerMethod("rows","removeRowFilter",e.prototype.removeCustomRowFilter,this),this.gantt.api.registerMethod("rows","addRowFilter",e.prototype.addCustomRowFilter,this),this.gantt.api.registerMethod("rows","setFilterImpl",e.prototype.setFilterImpl,this),this.gantt.api.registerEvent("tasks","add"),this.gantt.api.registerEvent("tasks","change"),this.gantt.api.registerEvent("tasks","viewChange"),this.gantt.api.registerEvent("tasks","beforeRowChange"),this.gantt.api.registerEvent("tasks","beforeViewRowChange"),this.gantt.api.registerEvent("tasks","rowChange"),this.gantt.api.registerEvent("tasks","viewRowChange"),this.gantt.api.registerEvent("tasks","remove"),this.gantt.api.registerEvent("tasks","filter"),this.gantt.api.registerEvent("tasks","displayed"),this.gantt.api.registerEvent("rows","add"),this.gantt.api.registerEvent("rows","change"),this.gantt.api.registerEvent("rows","remove"),this.gantt.api.registerEvent("rows","move"),this.gantt.api.registerEvent("rows","displayed"),this.gantt.api.registerEvent("rows","filter"),this.updateVisibleObjects()}return(0,c.default)(e,[{key:"resetNonModelLists",value:function(){this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[]}},{key:"addRow",value:function(t,n){var o=void 0,i=void 0,a=void 0,l=!1;if(this.gantt.objectModel.cleanRow(t),t.id in this.rowsMap){if(o=this.rowsMap[t.id],n&&(this.rows.push(o),this.sortedRows.push(o),this.filteredRows.push(o),this.customFilteredRows.push(o),this.visibleRows.push(o)),o.model===t)return;var r=e.ganttArrays.getRemovedIds(t.tasks,o.model.tasks);for(i=0,a=r.length;i<a;i++){var s=r[i];o.removeTask(s)}o.model=t,l=!0}else o=new e.GanttRow(this,t),this.rowsMap[t.id]=o,this.rows.push(o),this.sortedRows.push(o),this.filteredRows.push(o),this.customFilteredRows.push(o),this.visibleRows.push(o);if(void 0!==t.tasks&&t.tasks.length>0){for(i=0,a=t.tasks.length;i<a;i++){var A=t.tasks[i];o.addTask(A)}o.updateVisibleTasks()}if(l?this.gantt.api.rows.raise.change(o):this.gantt.api.rows.raise.add(o),!l){var u=this.gantt.$scope.$watchCollection(function(){return t.tasks},function(t,n){if(t!==n){var i=void 0,a=void 0,l=e.ganttArrays.getRemovedIds(t,n);for(i=0,a=l.length;i<a;i++){var r=l[i];o.removeTask(r)}if(void 0!==t){for(i=0,a=t.length;i<a;i++){var s=t[i];o.addTask(s)}o.updateVisibleTasks()}}});this.rowsTaskWatchers.push(u)}return l}},{key:"removeRow",value:function(t){if(t in this.rowsMap){delete this.rowsMap[t];var n=void 0,o=e.ganttArrays.indexOfId(this.rows,t,["model","id"]);if(o>-1){n=this.rows.splice(o,1)[0];var i=this.rowsTaskWatchers.splice(o,1)[0];i&&i()}return e.ganttArrays.removeId(this.sortedRows,t,["model","id"]),e.ganttArrays.removeId(this.filteredRows,t,["model","id"]),e.ganttArrays.removeId(this.customFilteredRows,t,["model","id"]),e.ganttArrays.removeId(this.visibleRows,t,["model","id"]),this.gantt.api.rows.raise.remove(n),n}}},{key:"removeAll",value:function(){this.rowsMap={},this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[];var e=!0,t=!1,n=void 0;try{for(var o,i=(0,r.default)(this.rowsTaskWatchers);!(e=(o=i.next()).done);e=!0){(0,o.value)()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}this.rowsTaskWatchers=[]}},{key:"sortRows",value:function(){var t=this.gantt.options.value("sortMode");if(void 0!==t){var n=!1;C.default.isString(t)&&"-"===t.charAt(0)&&(n=!0,t=t.substr(1));var o=e.$filter("orderBy");this.sortedRows=o(this.rows,t,n)}else this.sortedRows=this.rows.slice();this.sortedRows=this.applyCustomRowSorters(this.sortedRows),this.updateVisibleRows()}},{key:"removeCustomRowSorter",value:function(e){var t=this.customRowSorters.indexOf(e);t>-1&&this.customRowSorters.splice(t,1)}},{key:"addCustomRowSorter",value:function(e){this.customRowSorters.push(e)}},{key:"applyCustomRowSorters",value:function(e){var t=e,n=!0,o=!1,i=void 0;try{for(var a,l=(0,r.default)(this.customRowSorters);!(n=(a=l.next()).done);n=!0){t=(0,a.value)(t)}}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return t}},{key:"applySort",value:function(){var e=this.gantt.$scope.data;e.splice(0,e.length);var t=[],n=!0,o=!1,i=void 0;try{for(var a,l=(0,r.default)(this.sortedRows);!(n=(a=l.next()).done);n=!0){var s=a.value;e.push(s.model),t.push(s)}}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}this.rows=t}},{key:"moveRow",value:function(t,n){void 0!==this.gantt.options.value("sortMode")&&(this.applySort(),this.gantt.options.set("sortMode",void 0));var o=this.rows.indexOf(n),i=this.rows.indexOf(t);o>-1&&i>-1&&o!==i&&(e.ganttArrays.moveToIndex(this.rows,i,o),e.ganttArrays.moveToIndex(this.rowsTaskWatchers,i,o),e.ganttArrays.moveToIndex(this.gantt.$scope.data,i,o),this.gantt.api.rows.raise.change(t),this.gantt.api.rows.raise.move(t,i,o),this.updateVisibleObjects(),this.sortRows())}},{key:"updateVisibleObjects",value:function(){this.updateVisibleRows(),this.updateVisibleTasks()}},{key:"updateVisibleRows",value:function(){var e=this.filteredRows,t=this.gantt.options.value("filterRow");if(t){"object"===(void 0===t?"undefined":(0,a.default)(t))&&(t={model:t});var n=this.gantt.options.value("filterRowComparator");if("function"==typeof n){var o=this.gantt;n=function(e,t){return o.options.value("filterRowComparator")(e,t)}}this.filteredRows=this.filterImpl(this.sortedRows,t,n)}else this.filteredRows=this.sortedRows.slice(0);var i=!C.default.equals(e,this.filteredRows);this.customFilteredRows=this.applyCustomRowFilters(this.filteredRows),this.visibleRows=this.customFilteredRows,this.gantt.api.rows.raise.displayed(this.sortedRows,this.filteredRows,this.visibleRows),i&&this.gantt.api.rows.raise.filter(this.sortedRows,this.filteredRows)}},{key:"removeCustomRowFilter",value:function(e){var t=this.customRowFilters.indexOf(e);t>-1&&this.customRowFilters.splice(t,1)}},{key:"addCustomRowFilter",value:function(e){this.customRowFilters.push(e)}},{key:"applyCustomRowFilters",value:function(e){var t=e,n=!0,o=!1,i=void 0;try{for(var a,l=(0,r.default)(this.customRowFilters);!(n=(a=l.next()).done);n=!0){t=(0,a.value)(t)}}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return t}},{key:"setFilterImpl",value:function(e){this.filterImpl=e||this._defaultFilterImpl}},{key:"updateVisibleTasks",value:function(){var e=[],t=[],n=[],o=[],i=!0,a=!1,l=void 0;try{for(var s,A=(0,r.default)(this.rows);!(i=(s=A.next()).done);i=!0){var u=s.value;e=e.concat(u.filteredTasks),u.updateVisibleTasks(),t=t.concat(u.filteredTasks),o=o.concat(u.visibleTasks),n=n.concat(u.tasks)}}catch(e){a=!0,l=e}finally{try{!i&&A.return&&A.return()}finally{if(a)throw l}}this.gantt.api.tasks.raise.displayed(n,t,o),!C.default.equals(e,t)&&this.gantt.api.tasks.raise.filter(n,t,o)}},{key:"updateTasksPosAndSize",value:function(){var e=!0,t=!1,n=void 0;try{for(var o,i=(0,r.default)(this.rows);!(e=(o=i.next()).done);e=!0){o.value.updateTasksPosAndSize()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"getExpandedFrom",value:function(e){e=e?(0,f.default)(e):e;var t=e,n=!0,o=!1,i=void 0;try{for(var a,l=(0,r.default)(this.rows);!(n=(a=l.next()).done);n=!0){var s=a.value;(void 0===t||t>s.from)&&(t=s.from)}}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return t&&(!e||t<e)?t:e}},{key:"getExpandedTo",value:function(e){e=e?(0,f.default)(e):e;var t=e,n=!0,o=!1,i=void 0;try{for(var a,l=(0,r.default)(this.rows);!(n=(a=l.next()).done);n=!0){var s=a.value;(void 0===t||t<s.to)&&(t=s.to)}}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}var A=this.gantt.options.value("toDate");return t&&(!A||t>A)?t:e}},{key:"getDefaultFrom",value:function(){var e=void 0,t=!0,n=!1,o=void 0;try{for(var i,a=(0,r.default)(this.rows);!(t=(i=a.next()).done);t=!0){var l=i.value;(void 0===e||l.from<e)&&(e=l.from)}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}return e}},{key:"getDefaultTo",value:function(){var e=void 0,t=!0,n=!1,o=void 0;try{for(var i,a=(0,r.default)(this.rows);!(t=(i=a.next()).done);t=!0){var l=i.value;(void 0===e||l.to>e)&&(e=l.to)}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}return e}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttBody=void 0;var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=["GanttBodyColumns","GanttBodyRows","GanttBodyBackground","GanttBodyForeground",function(e,t,n,o){"ngInject";return a.GanttBodyColumns=e,a.GanttBodyRows=t,a.GanttBodyBackground=n,a.GanttBodyForeground=o,a}];var a=t.GanttBody=function e(t){(0,i.default)(this,e),this.gantt=t,this.background=new e.GanttBodyBackground(this),this.foreground=new e.GanttBodyForeground(this),this.columns=new e.GanttBodyColumns(this),this.rows=new e.GanttBodyRows(this)}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttHeader=void 0;var i=n(0),a=o(i),l=n(2),r=o(l);t.default=["GanttHeaderColumns",function(e){"ngInject";return s.GanttHeaderColumns=e,s}];var s=t.GanttHeader=function(){function e(t){(0,a.default)(this,e),this.gantt=t,this.columns=new e.GanttHeaderColumns(this.gantt)}return(0,r.default)(e,[{key:"getHeight",value:function(){return this.$element[0].offsetHeight}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttScroll=void 0;var i=n(0),a=o(i),l=n(2),r=o(l);t.default=function(){"ngInject";return s};var s=t.GanttScroll=function(){function e(t){(0,a.default)(this,e),this.gantt=t,this.gantt.api.registerEvent("scroll","scroll"),this.gantt.api.registerMethod("scroll","to",this.scrollTo,this),this.gantt.api.registerMethod("scroll","toDate",this.scrollToDate,this),this.gantt.api.registerMethod("scroll","left",this.scrollToLeft,this),this.gantt.api.registerMethod("scroll","right",this.scrollToRight,this),this.gantt.api.registerMethod("scroll","setWidth",this.setWidth,this)}return(0,r.default)(e,[{key:"getScrollLeft",value:function(){return void 0===this.$element?void 0:(void 0===this.cachedScrollLeft&&(this.cachedScrollLeft=this.$element[0].scrollLeft),this.cachedScrollLeft)}},{key:"getScrollWidth",value:function(){return void 0===this.$element?void 0:this.$element[0].scrollWidth}},{key:"getWidth",value:function(){return void 0===this.$element?void 0:this.$element[0].offsetWidth}},{key:"setWidth",value:function(e){this.$element[0]}},{key:"getBordersWidth",value:function(){if(void 0!==this.$element){if(this.$element[0].clientWidth)return this.$element[0].offsetWidth-this.$element[0].clientWidth;var e=window.getComputedStyle(this.$element[0]).getPropertyValue("border-left-width")?window.getComputedStyle(this.$element[0]).getPropertyValue("border-left-width").match(/\d+/)[0]:"0",t=window.getComputedStyle(this.$element[0]).getPropertyValue("border-right-width")?window.getComputedStyle(this.$element[0]).getPropertyValue("border-right-width").match(/\d+/)[0]:"0";return parseInt(e,10)+parseInt(t,10)}}},{key:"getBordersHeight",value:function(){return void 0===this.$element?void 0:this.$element[0].offsetHeight-this.$element[0].clientHeight}},{key:"isVScrollbarVisible",value:function(){if(void 0!==this.$element)return this.$element[0].scrollHeight>this.$element[0].offsetHeight}},{key:"isHScrollbarVisible",value:function(){if(void 0!==this.$element)return this.$element[0].scrollWidth>this.$element[0].offsetWidth}},{key:"scrollTo",value:function(e){this.$element[0].scrollLeft=e,this.$element.triggerHandler("scroll")}},{key:"scrollToLeft",value:function(e){this.$element[0].scrollLeft-=e,this.$element.triggerHandler("scroll")}},{key:"scrollToRight",value:function(e){this.$element[0].scrollLeft+=e,this.$element.triggerHandler("scroll")}},{key:"scrollToDate",value:function(e){var t=this.gantt.getPositionByDate(e);void 0!==t&&(this.$element[0].scrollLeft=t-this.$element[0].offsetWidth/2)}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttSide=void 0;var i=n(0),a=o(i),l=n(2),r=o(l);t.default=function(){"ngInject";return s};var s=t.GanttSide=function(){function e(t){(0,a.default)(this,e),this.gantt=t}return(0,r.default)(e,[{key:"getWidth",value:function(){if(this.gantt.options.value("showSide")){var e=this.gantt.options.value("sideWidth");if(void 0===e&&void 0!==this.$element&&void 0!==this.$element.css("width")&&this.$element.css("width",""),void 0!==this.$element&&(e=this.$element[0].offsetWidth),void 0!==e)return e}return 0}},{key:"show",value:function(e){void 0!==this.$element&&this.$element.toggleClass("ng-hide",!e)}},{key:"isShown",value:function(){if(void 0!==this.$element)return!this.$element.hasClass("ng-hide")}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttTimespansManager=void 0;var i=n(0),a=o(i),l=n(2),r=o(l);t.default=["GanttTimespan",function(e){"ngInject";return u.GanttTimespan=e,u}];var s=n(1),A=o(s),u=t.GanttTimespansManager=function(){function e(t){var n=this;(0,a.default)(this,e),this.timespansMap={},this.timespans=[],this.gantt=t,this.gantt.$scope.$watchCollection("timespans",function(e){n.clearTimespans(),n.loadTimespans(e)}),this.gantt.api.registerMethod("timespans","load",this.loadTimespans,this),this.gantt.api.registerMethod("timespans","remove",this.removeTimespans,this),this.gantt.api.registerMethod("timespans","clear",this.clearTimespans,this),this.gantt.api.registerEvent("timespans","add"),this.gantt.api.registerEvent("timespans","remove"),this.gantt.api.registerEvent("timespans","change")}return(0,r.default)(e,[{key:"loadTimespans",value:function(e){A.default.isArray(e)||(e=void 0!==e?[e]:[]),this.gantt.$scope.timespans=e;for(var t=0,n=e.length;t<n;t++){var o=e[t];this.gantt.objectModel.cleanTimespan(o),this.loadTimespan(o)}}},{key:"loadTimespan",value:function(t){var n=void 0,o=!1;return t.id in this.timespansMap?(n=this.timespansMap[t.id],n.model=t,o=!0,this.gantt.api.timespans.raise.change(n)):(n=new e.GanttTimespan(this.gantt,t),this.timespansMap[t.id]=n,this.timespans.push(n),this.gantt.api.timespans.raise.add(n)),n.updatePosAndSize(),o}},{key:"removeTimespans",value:function(e){A.default.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;t++){var o=e[t];this.removeTimespan(o.id)}}},{key:"removeTimespan",value:function(e){if(e in this.timespansMap){delete this.timespansMap[e];for(var t=void 0,n=void 0,o=this.timespans.length-1;o>=0;o--)if(n=this.timespans[o],n.model.id===e){t=n,this.timespans.splice(o,1);break}return this.gantt.api.timespans.raise.remove(t),t}}},{key:"clearTimespans",value:function(){this.timespansMap={},this.timespans=[]}},{key:"updateTimespansPosAndSize",value:function(){for(var e=0,t=this.timespans.length;e<t;e++)this.timespans[e].updatePosAndSize()}}]),e}()},function(e,t,n){var o=n(140);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var o=n(18),i=n(8).document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){e.exports=!n(10)&&!n(17)(function(){return 7!=Object.defineProperty(n(51)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var o=n(27),i=n(15),a=n(59),l=n(16),r=n(11),s=n(19),A=n(148),u=n(30),c=n(57),d=n(9)("iterator"),C=!([].keys&&"next"in[].keys()),m=function(){return this};e.exports=function(e,t,n,f,p,g,h){A(n,t,f);var v,y,b,w=function(e){if(!C&&e in G)return G[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},M=t+" Iterator",k="values"==p,E=!1,G=e.prototype,I=G[d]||G["@@iterator"]||p&&G[p],B=I||w(p),S=p?k?w("entries"):B:void 0,O="Array"==t?G.entries||I:I;if(O&&(b=c(O.call(new e)))!==Object.prototype&&(u(b,M,!0),o||r(b,d)||l(b,d,m)),k&&I&&"values"!==I.name&&(E=!0,B=function(){return I.call(this)}),o&&!h||!C&&!E&&G[d]||l(G,d,B),s[t]=B,s[M]=m,p)if(v={values:k?B:w("values"),keys:g?B:w("keys"),entries:S},h)for(y in v)y in G||a(G,y,v[y]);else i(i.P+i.F*(C||E),t,v);return v}},function(e,t,n){var o=n(29),i=n(21),a=n(13),l=n(34),r=n(11),s=n(52),A=Object.getOwnPropertyDescriptor;t.f=n(10)?A:function(e,t){if(e=a(e),t=l(t,!0),s)try{return A(e,t)}catch(e){}if(r(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){var o=n(58),i=n(26).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(11),i=n(60),a=n(31)("IE_PROTO"),l=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),o(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){var o=n(11),i=n(13),a=n(142)(!1),l=n(31)("IE_PROTO");e.exports=function(e,t){var n,r=i(e),s=0,A=[];for(n in r)n!=l&&o(r,n)&&A.push(n);for(;t.length>s;)o(r,n=t[s++])&&(~a(A,n)||A.push(n));return A}},function(e,t,n){e.exports=n(16)},function(e,t,n){var o=n(25);e.exports=function(e){return Object(o(e))}},function(e,t,n){"use strict";var o=n(156)(!0);n(53)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){n(161);for(var o=n(8),i=n(16),a=n(19),l=n(9)("toStringTag"),r=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],s=0;s<5;s++){var A=r[s],u=o[A],c=u&&u.prototype;c&&!c[l]&&i(c,l,A),a[A]=a.Array}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["Gantt","ganttEnableNgAnimate","$timeout","$templateCache",function(e,t,n,o){"ngInject";return{restrict:"A",transclude:!0,templateUrl:function(e,t){var n=void 0;return n=void 0===t.templateUrl?"template/gantt.tmpl.html":t.templateUrl,void 0!==t.template&&o.put(n,t.template),n},scope:{sortMode:"=?",filterTask:"=?",filterTaskComparator:"=?",filterRow:"=?",filterRowComparator:"=?",viewScale:"=?",columnWidth:"=?",expandToFit:"=?",shrinkToFit:"=?",showSide:"=?",allowSideResizing:"=?",fromDate:"=?",toDate:"=?",currentDateValue:"=?",currentDate:"=?",daily:"=?",autoExpand:"=?",taskOutOfRange:"=?",taskContent:"=?",rowContent:"=?",maxHeight:"=?",sideWidth:"=?",headers:"=?",headersFormats:"=?",headersScales:"=?",timeFrames:"=?",dateFrames:"=?",timeFramesWorkingMode:"=?",timeFramesNonWorkingMode:"=?",timespans:"=?",columnMagnet:"=?",shiftColumnMagnet:"=?",timeFramesMagnet:"=?",data:"=?",api:"=?",options:"=?"},controller:["$scope","$element",function(n,o){for(var i in n.options)n[i]=n.options[i];t(o,!1),n.gantt=new e(n,o),this.gantt=n.gantt}],link:function(e,t){e.gantt.api.directives.raise.new("gantt",e,t),e.$on("$destroy",function(){e.gantt.api.directives.raise.destroy("gantt",e,t)}),n(function(){e.gantt.initialized()})}}}]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttColumnBuilder=void 0;var i=n(0),a=o(i),l=n(2),r=o(l);t.default=["GanttColumn",function(e){"ngInject";return A.GanttColumn=e,A}];var s=n(23),A=t.GanttColumnBuilder=function(){function e(t){(0,a.default)(this,e),this.columnsManager=t}return(0,r.default)(e,[{key:"newColumn",value:function(e,t,n,o){var i=this.columnsManager.gantt.calendar,a=this.columnsManager.gantt.options.value("timeFramesWorkingMode"),l=this.columnsManager.gantt.options.value("timeFramesNonWorkingMode");return new s.GanttColumn(e,t,n,o,i,a,l)}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=o(i),l=n(2),r=o(l),s=n(3),A=o(s),u=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,[{key:"isToDateToExclude",value:function(e,t,n){return(0,A.default)(e).add(t,n).startOf(n)===e}},{key:"getFirstValue",value:function(e){if(["hour","minute","second","millisecond"].indexOf(e)>=0)return 0}},{key:"ensureNoUnitOverflow",value:function(e,t,n){var o=t.get(e),i=n.get(e),a=this.getFirstValue(e);void 0!==a&&i!==a&&i<o&&n.set(e,a)}},{key:"generate",value:function(e,t,n,o,i,a,l,r){if(!n&&!a)throw"to or maximumWidth must be defined";o=o.trim(),"s"===o.charAt(o.length-1)&&(o=o.substring(0,o.length-1));var s=void 0,u=void 0,c=void 0;o&&(c=o.split(" ")),c&&c.length>1?(s=parseFloat(c[0]),u=c[c.length-1]):(s=1,u=o);var d=!1;t=(0,A.default)(t).startOf(u),n&&(d=this.isToDateToExclude(n,s,u),n=(0,A.default)(n).startOf(u));var C=0,m=(0,A.default)(t).startOf(u);r&&(m.subtract(s,u),C-=i);for(var f=[];;){if(a&&Math.abs(C)>a+i)break;var p=(0,A.default)(m),g=(0,A.default)(p).add(s,u);this.ensureNoUnitOverflow(u,p,g);var h=e.newColumn(p,g,l?C+l:C,i);if(h.cropped||(f.push(h),r?C-=i:C+=i),n)if(r){if(d&&m<n||!d&&m<=n)break}else if(d&&m>n||!d&&m>=n)break;r?(m.subtract(s,u),this.ensureNoUnitOverflow(u,m,p)):(m.add(s,u),this.ensureNoUnitOverflow(u,p,m))}return r&&(this.isToDateToExclude(t,s,u)&&f.shift(),f.reverse()),f}}]),e}();t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=o(i),l=n(0),r=o(l),s=n(2),A=o(s),u=n(3),c=o(u),d=n(41),C=function(){function e(){(0,r.default)(this,e)}return(0,A.default)(e,[{key:"generateHeaders",value:function(e,t){var n=[],o=void 0,i=e.getHeaderScale(t),a=void 0,l=void 0,r=void 0;if(i&&(r=i.split(" ")),r&&r.length>1?(a=parseFloat(r[0]),l=r[r.length-1]):(a=1,l=i),e.columns.length>0)for(var s=e.columns[0],A=(0,c.default)(s.date).startOf(l),u=(0,c.default)(e.columns[e.columns.length-1].endDate);;){var C=s.getPositionByDate(A),m=c.default.min((0,c.default)(A).add(a,l),u),f=e.getColumnByDate(m),p=f.getPositionByDate(m),g=p-C;if(g>0){var h=e.getHeaderFormat(t);o=new d.GanttColumnHeader(A,m,l,C,g,h,t),n.push(o)}if(m.isSame(u)||m.isAfter(u))break;s=f,A=m}return n}},{key:"generate",value:function(e){var t=[];if(void 0===e.gantt.options.value("headers")){var n=e.gantt.options.value("viewScale");n=n.trim(),"s"===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1));var o=void 0,i=void 0;n&&(i=n.split(" ")),o=i&&i.length>1?i[i.length-1]:n,["quarter","month"].indexOf(o)>-1&&t.push("year"),["day","week"].indexOf(o)>-1&&t.push("month"),["day"].indexOf(o)>-1&&t.push("week"),["hour"].indexOf(o)>-1&&t.push("day"),["minute","second","millisecond"].indexOf(o)>-1&&t.push("hour"),["second","millisecond"].indexOf(o)>-1&&t.push("minute"),["millisecond"].indexOf(o)>-1&&t.push("second"),t.push(n)}else t=e.gantt.options.value("headers");var l=[],r=!0,s=!1,A=void 0;try{for(var u,c=(0,a.default)(t);!(r=(u=c.next()).done);r=!0){var d=u.value;l.push(this.generateHeaders(e,d))}}catch(e){s=!0,A=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw A}}return l}}]),e}();t.default=C},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Gantt=void 0;var i=n(0),a=o(i),l=n(2),r=o(l);t.default=["GanttApi","GanttOptions","GanttCalendar","GanttScroll","GanttBody","GanttHeader","GanttSide","GanttObjectModel","GanttRowsManager","GanttColumnsManager","GanttTimespansManager","GanttCurrentDateManager","ganttArrays","$document","$timeout",function(e,t,n,o,i,a,l,r,s,A,u,c,d,C,m){"ngInject";return k.ganttArrays=d,k.$document=C,k.$timeout=m,k}];var s=n(1),A=o(s),u=n(3),c=o(u),d=n(37),C=n(38),m=n(39),f=n(40),p=n(43),g=n(44),h=n(42),v=n(49),y=n(47),b=n(45),w=n(46),M=n(48),k=t.Gantt=function(){function e(t,n){var o=this;(0,a.default)(this,e),this.rendered=!1,this.isRefreshingColumns=!1,this.$scope=t,this.$element=n,this.options=new C.GanttOptions(t,{api:A.default.noop,data:[],timespans:[],viewScale:"day",columnMagnet:"15 minutes",timeFramesMagnet:!0,showSide:!0,allowSideResizing:!0,currentDate:"line",currentDateValue:c.default,autoExpand:"none",taskOutOfRange:"truncate",taskContent:"{{task.model.name}}",rowContent:"{{row.model.name}}",maxHeight:0,timeFrames:[],dateFrames:[],timeFramesWorkingMode:"hidden",timeFramesNonWorkingMode:"visible",taskLimitThreshold:100,columnLimitThreshold:500}),this.api=new d.GanttApi(this),this.api.registerEvent("core","ready"),this.api.registerEvent("core","rendered"),this.api.registerEvent("directives","controller"),this.api.registerEvent("directives","preLink"),this.api.registerEvent("directives","postLink"),this.api.registerEvent("directives","new"),this.api.registerEvent("directives","destroy"),this.api.registerEvent("data","change"),this.api.registerEvent("data","load"),this.api.registerEvent("data","remove"),this.api.registerEvent("data","clear"),this.api.registerMethod("core","getDateByPosition",this.getDateByPosition,this),this.api.registerMethod("core","getPositionByDate",this.getPositionByDate,this),this.api.registerMethod("data","load",this.loadData,this),this.api.registerMethod("data","remove",this.removeData,this),this.api.registerMethod("data","clear",this.clearData,this),this.api.registerMethod("data","get",this.getData,this),this.calendar=new m.GanttCalendar,this.calendar.registerTimeFrames(this.options.value("timeFrames")),this.calendar.registerDateFrames(this.options.value("dateFrames")),this.api.registerMethod("timeframes","registerTimeFrames",this.calendar.registerTimeFrames,this.calendar),this.api.registerMethod("timeframes","clearTimeframes",this.calendar.clearTimeFrames,this.calendar),this.api.registerMethod("timeframes","registerDateFrames",this.calendar.registerDateFrames,this.calendar),this.api.registerMethod("timeframes","clearDateFrames",this.calendar.clearDateFrames,this.calendar),this.api.registerMethod("timeframes","registerTimeFrameMappings",this.calendar.registerTimeFrameMappings,this.calendar),this.api.registerMethod("timeframes","clearTimeFrameMappings",this.calendar.clearTimeFrameMappings,this.calendar),t.$watchGroup(["timeFrames","dateFrames"],function(e,t){if(e!==t){var n=e[0],i=e[1],a=t[0],l=t[1],r=!1;A.default.equals(n,a)||(o.calendar.clearTimeFrames(),o.calendar.registerTimeFrames(n),r=!0),A.default.equals(i,l)||(o.calendar.clearDateFrames(),o.calendar.registerDateFrames(i),r=!0),r&&o.columnsManager.generateColumns()}}),t.$watch("columnMagnet",function(){var e=void 0,t=o.options.value("columnMagnet");t&&(e=t.trim().split(" ")),e&&e.length>1?(o.columnMagnetValue=parseFloat(e[0]),o.columnMagnetUnit=c.default.normalizeUnits(e[e.length-1])):(o.columnMagnetValue=1,o.columnMagnetUnit=c.default.normalizeUnits(t))}),t.$watchGroup(["shiftColumnMagnet","viewScale"],function(){var e=void 0,t=o.options.value("shiftColumnMagnet");t&&(e=t.trim().split(" ")),void 0!==e&&e.length>1?(o.shiftColumnMagnetValue=parseFloat(e[0]),o.shiftColumnMagnetUnit=c.default.normalizeUnits(e[e.length-1])):(o.shiftColumnMagnetValue=1,o.shiftColumnMagnetUnit=c.default.normalizeUnits(t))}),e.$document.on("keyup keydown",this.keyHandler),t.$on("$destroy",function(){e.$document.off("keyup keydown",o.keyHandler)}),this.scroll=new y.GanttScroll(this),this.body=new b.GanttBody(this),this.header=new w.GanttHeader(this),this.side=new M.GanttSide(this),this.objectModel=new p.GanttObjectModel(this.api),this.rowsManager=new g.GanttRowsManager(this),this.columnsManager=new h.GanttColumnsManager(this),this.timespansManager=new v.GanttTimespansManager(this),this.currentDateManager=new f.GanttCurrentDateManager(this),this.originalWidth=0,this.width=0,A.default.isFunction(this.$scope.api)&&this.$scope.api(this.api);var i=function(e,t){if(void 0===t||e.length!==t.length)return!0;for(var n=0,o=e.length;n<o;n++)if(e[n].id!==t[n].id)return!0;return!1};t.$watchCollection("data",function(t,n){if(void 0!==n){var a=e.ganttArrays.getRemovedIds(t,n);if(a.length===n.length)o.rowsManager.removeAll(),o.api.data.raise.clear();else{for(var l=0,r=a.length;l<r;l++){var s=a[l];o.rowsManager.removeRow(s)}for(var A=[],u=0,c=n.length;u<c;u++)a.indexOf(n[u].id)>-1&&A.push(n[u]);o.api.data.raise.remove(A)}}if(void 0!==t){var d=i(t,n);d&&o.rowsManager.resetNonModelLists();for(var C=0,m=t.length;C<m;C++){var f=t[C];o.rowsManager.addRow(f,d)}o.api.data.raise.change(t,n),o.api.data.raise.load(t)}})}return(0,r.default)(e,[{key:"keyHandler",value:function(e){return this.shiftKey=e.shiftKey,!0}},{key:"getMagnetValueAndUnit",value:function(){if(this.shiftKey){if(void 0!==this.shiftColumnMagnetValue&&void 0!==this.shiftColumnMagnetUnit)return[this.shiftColumnMagnetValue,this.shiftColumnMagnetUnit];var e=this.options.value("viewScale");e=e.trim();var t=void 0,n=void 0,o=void 0;return e&&(o=e.split(" ")),o&&o.length>1?(t=parseFloat(o[0]),n=c.default.normalizeUnits(o[o.length-1])):(t=1,n=c.default.normalizeUnits(e)),[.25*t,n]}return[this.columnMagnetValue,this.columnMagnetUnit]}},{key:"getMagnetDate",value:function(e,t){if(void 0!==e){c.default.isMoment(c.default)||(e=(0,c.default)(e));var n=this.columnsManager.getColumnByDate(e,t),o=this.getMagnetValueAndUnit(),i=o[0],a=o[1];return n.getMagnetDate(e,i,a,this.options.value("timeFramesMagnet"))}}},{key:"getDateByPosition",value:function(e,t,n){var o=this.columnsManager.getColumnByPosition(e,n);if(void 0!==o){var i=void 0,a=void 0;if(t){var l=this.getMagnetValueAndUnit();i=l[0],a=l[1]}return o.getDateByPosition(e-o.left,i,a,this.options.value("timeFramesMagnet"))}}},{key:"getBodyAvailableWidth",value:function(){var e=this.getWidth()-this.side.getWidth(),t=this.scroll.getBordersWidth(),n=e-(void 0!==t?this.scroll.getBordersWidth():0);return n-=1}},{key:"getPositionByDate",value:function(e,t){if(void 0!==e){c.default.isMoment(c.default)||(e=(0,c.default)(e));var n=this.columnsManager.getColumnByDate(e,t);return void 0!==n?n.getPositionByDate(e):void 0}}},{key:"loadData",value:function(t){if(A.default.isArray(t)||(t=void 0!==t?[t]:[]),void 0===this.$scope.data)this.$scope.data=t;else for(var n=0,o=t.length;n<o;n++){var i=t[n],a=e.ganttArrays.indexOfId(this.$scope.data,i.id);a>-1?this.$scope.data[a]=i:this.$scope.data.push(i)}var l=this.side.getWidth();l>0&&this.options.set("sideWidth",l)}},{key:"getData",value:function(){return this.$scope.data}},{key:"removeData",value:function(t){if(A.default.isArray(t)||(t=void 0!==t?[t]:[]),void 0!==this.$scope.data)for(var n=0,o=t.length;n<o;n++){var i=t[n],a=e.ganttArrays.indexOfId(this.$scope.data,i.id);if(a>-1)if(void 0===i.tasks||0===i.tasks.length)this.$scope.data.splice(a,1);else for(var l=this.$scope.data[a],r=0,s=i.tasks.length;r<s;r++){var u=i.tasks[r],c=e.ganttArrays.indexOfId(l.tasks,u.id);c>-1&&l.tasks.splice(c,1)}}}},{key:"clearData",value:function(){this.$scope.data=void 0}},{key:"getWidth",value:function(){return this.$scope.ganttElementWidth}},{key:"getHeight",value:function(){return this.$scope.ganttElementHeight}},{key:"getContainerWidth",value:function(){return this.$scope.ganttContainerWidth}},{key:"getContainerHeight",value:function(){return this.$scope.ganttContainerHeight}},{key:"initialized",value:function(){var t=this;this.api.core.raise.ready(this.api),this.rendered=!0,this.columnsManager.generateColumns(),e.$timeout(function(){var e=t.side.getWidth();e>0&&t.options.set("sideWidth",e),t.api.core.raise.rendered(t.api)})}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttRow=t.GanttRowModel=void 0;var i=n(4),a=o(i),l=n(5),r=o(l),s=n(2),A=o(s),u=n(0),c=o(u);t.default=["GanttTask","$filter",function(e,t){"ngInject";return p.GanttTask=e,p.$filter=t,p}];var d=n(3),C=o(d),m=n(1),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(m),p=(t.GanttRowModel=function e(){(0,c.default)(this,e)},t.GanttRow=function(){function e(t,n){(0,c.default)(this,e),this.rowsManager=t,this.model=n,this.from=void 0,this.to=void 0,this.tasksMap={},this.tasks=[],this.filteredTasks=[],this.visibleTasks=[]}return(0,A.default)(e,[{key:"addTaskImpl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.tasksMap[e.model.id]=e,this.tasks.push(e),t||(void 0===this.model.tasks&&(this.model.tasks=[]),-1===this.model.tasks.indexOf(e.model)&&this.model.tasks.push(e.model))}},{key:"addTask",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=void 0,i=!1;if(this.rowsManager.gantt.objectModel.cleanTask(t),t.id in this.tasksMap){if(o=this.tasksMap[t.id],o.model===t)return o;o.model=t,i=!0}else o=new e.GanttTask(this,t),this.addTaskImpl(o,n);return this.sortTasks(),this.setFromToByTask(o),n||(i?this.rowsManager.gantt.api.tasks.raise.change(o):this.rowsManager.gantt.api.tasks.raise.add(o)),o}},{key:"moveTaskToRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.rowsManager.gantt.api.tasks.raise.beforeViewRowChange(e,this),t||this.rowsManager.gantt.api.tasks.raise.beforeRowChange(e,this);var n=e.row;n.removeTask(e.model.id,t,!0),e.row=this,this.addTaskImpl(e,t),this.sortTasks(),this.setFromToByTask(e),e.updatePosAndSize(),this.updateVisibleTasks(),n.$scope.$digest(),e.row.$scope.$digest(),this.rowsManager.gantt.api.tasks.raise.viewRowChange(e,n),t||this.rowsManager.gantt.api.tasks.raise.rowChange(e,n)}},{key:"updateVisibleTasks",value:function(){var t=this.rowsManager.gantt.options.value("filterTask");if(t){"object"===(void 0===t?"undefined":(0,r.default)(t))&&(t={model:t});var n=this.rowsManager.gantt.options.value("filterTaskComparator");"function"==typeof n&&(n=function(e,t){return n(e.model,t.model)}),this.filteredTasks=e.$filter("filter")(this.tasks,t,n)}else this.filteredTasks=this.tasks.slice(0);var o=this.rowsManager.gantt.options.value("taskLimitThreshold");void 0===o||o>0&&this.filteredTasks.length>=o?this.visibleTasks=e.$filter("ganttTaskLimit")(this.filteredTasks,this.rowsManager.gantt):this.visibleTasks=this.filteredTasks}},{key:"updateTasksPosAndSize",value:function(){var e=!0,t=!1,n=void 0;try{for(var o,i=(0,a.default)(this.tasks);!(e=(o=i.next()).done);e=!0){o.value.updatePosAndSize()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"removeTask",value:function(e,t,n){if(e in this.tasksMap){var o=this.tasksMap[e],i=void 0,a=void 0;for(a=this.tasks.length-1;a>=0;a--)if(i=this.tasks[a],i.model.id===e){this.tasks.splice(a,1),(this.from&&this.from.isSame((0,C.default)(i.model.from))||this.to&&this.to.isSame((0,C.default)(i.model.to)))&&this.setFromTo();break}for(a=this.filteredTasks.length-1;a>=0;a--)if(i=this.filteredTasks[a],i.model.id===e){this.filteredTasks.splice(a,1);break}for(a=this.visibleTasks.length-1;a>=0;a--)if(i=this.visibleTasks[a],i.model.id===e){this.visibleTasks.splice(a,1);break}if(!t){if(delete this.tasksMap[e],void 0!==this.model.tasks){var l=this.model.tasks.indexOf(o.model);l>-1&&this.model.tasks.splice(l,1)}n||this.rowsManager.gantt.api.tasks.raise.remove(o)}return o}}},{key:"removeAllTasks",value:function(){this.from=void 0,this.to=void 0,this.tasksMap={},this.tasks=[],this.filteredTasks=[],this.visibleTasks=[]}},{key:"setFromTo",value:function(){this.from=void 0,this.to=void 0;var e=!0,t=!1,n=void 0;try{for(var o,i=(0,a.default)(this.tasks);!(e=(o=i.next()).done);e=!0){var l=o.value;this.setFromToByTask(l)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"setFromToByTask",value:function(e){this.setFromToByValues(e.model.from,e.model.to)}},{key:"setFromToByValues",value:function(e,t){void 0!==e&&(void 0===this.from?this.from=(0,C.default)(e):e<this.from&&(this.from=(0,C.default)(e))),void 0!==t&&(void 0===this.to?this.to=(0,C.default)(t):t>this.to&&(this.to=(0,C.default)(t)))}},{key:"sortTasks",value:function(){this.tasks.sort(function(e,t){return e.left-t.left})}},{key:"clone",value:function(){var t=new e(this.rowsManager,f.copy(this.model)),n=!0,o=!1,i=void 0;try{for(var l,r=(0,a.default)(this.tasks);!(n=(l=r.next()).done);n=!0){var s=l.value;t.addTask(s.model)}}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}return t}}]),e}())},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttTask=t.GanttTaskModel=void 0;var i=n(2),a=o(i),l=n(0),r=o(l);t.default=function(){"ngInject";return d};var s=n(1),A=o(s),u=n(3),c=o(u),d=(t.GanttTaskModel=function e(){(0,r.default)(this,e)},t.GanttTask=function(){function e(t,n){(0,r.default)(this,e),this.rowsManager=t.rowsManager,this.row=t,this.model=n,this.truncatedLeft=!1,this.truncatedRight=!1}return(0,a.default)(e,[{key:"isMilestone",value:function(){return!this.model.to||this.model.to.isSame(this.model.from)}},{key:"isOutOfRange",value:function(){var e=this.rowsManager.gantt.columnsManager.getFirstColumn(),t=this.rowsManager.gantt.columnsManager.getLastColumn();return void 0===e||this.model.to<e.date||void 0===t||this.model.from>t.endDate}},{key:"updatePosAndSize",value:function(){var e=this.left,t=this.width,n=this.truncatedRight,o=this.truncatedLeft;!this.isMoving&&this.isOutOfRange()?(this.modelLeft=void 0,this.modelWidth=void 0):(this.modelLeft=this.rowsManager.gantt.getPositionByDate(this.model.from),this.modelWidth=this.rowsManager.gantt.getPositionByDate(this.model.to)-this.modelLeft);var i=this.rowsManager.gantt.columnsManager.getLastColumn(),a=i?i.left+i.width:0,l=this.modelLeft,r=this.modelWidth;this.rowsManager.gantt.options.value("daily")&&(l=this.rowsManager.gantt.getPositionByDate((0,c.default)(this.model.from).startOf("day")),r=this.rowsManager.gantt.getPositionByDate((0,c.default)(this.model.to).endOf("day"))-l);var s=-r;l<s&&(l=s),l>a&&(l=a),void 0===l||void 0===r?(this.left=void 0,this.width=void 0):(this.left=l,this.width=r,l<0?(this.truncatedLeft=!0,this.truncatedLeftOffset=-l,this.truncatedRight=!1,this.truncatedRightOffset=void 0):r+l>this.rowsManager.gantt.width?(this.truncatedRight=!0,this.truncatedRightOffset=r+l-this.rowsManager.gantt.width,this.truncatedLeft=!1,this.truncatedLeftOffset=void 0):(this.truncatedLeft=!1,this.truncatedLeftOffset=void 0,this.truncatedRight=!1,this.truncatedRightOffset=r+l-this.rowsManager.gantt.width),this.width<0&&(this.left=this.left+this.width,this.width=-this.width)),this.updateView(),this.rowsManager.gantt.isRefreshingColumns||e===this.left&&t===this.width&&n===this.truncatedRight&&o===this.truncatedLeft||this.rowsManager.gantt.api.tasks.raise.viewChange(this)}},{key:"updateView",value:function(){if(this.$element)if(void 0===this.left||void 0===this.width)this.$element.css("display","none");else{if(this.$element.css({left:this.left+"px",width:this.width+"px",display:""}),this.model.priority>0)for(var e=this.model.priority,t=this.$element.children(),n=0;n<t.length;n++)A.default.element(t[n]).css("z-index",e);this.$element.toggleClass("gantt-task-milestone",this.isMilestone())}}},{key:"getBackgroundElement",value:function(){if(void 0===this.$element);else{var e=this.$element[0].querySelector(".gantt-task-background");if(void 0!==e)return A.default.element(e)}}},{key:"getContentElement",value:function(){if(void 0===this.$element);else{var e=this.$element[0].querySelector(".gantt-task-content");if(void 0!==e)return A.default.element(e)}}},{key:"getForegroundElement",value:function(){if(void 0!==this.$element){var e=this.$element[0].querySelector(".gantt-task-foreground");return void 0!==e?A.default.element(e):e}}},{key:"setFrom",value:function(e,t){this.model.from=this.rowsManager.gantt.getDateByPosition(e,t),this.row.setFromTo(),this.updatePosAndSize()}},{key:"setTo",value:function(e,t){this.model.to=this.rowsManager.gantt.getDateByPosition(e,t),this.row.setFromTo(),this.updatePosAndSize()}},{key:"moveTo",value:function(e,t){var n=void 0,o=void 0;e>this.modelLeft?(this.model.to=this.rowsManager.gantt.getDateByPosition(e+this.modelWidth,t),n=this.rowsManager.gantt.getPositionByDate(this.model.to),o=n-this.modelWidth,this.model.from=this.rowsManager.gantt.getDateByPosition(o,!1)):(this.model.from=this.rowsManager.gantt.getDateByPosition(e,t),o=this.rowsManager.gantt.getPositionByDate(this.model.from),n=o+this.modelWidth,this.model.to=this.rowsManager.gantt.getDateByPosition(n,!1)),this.row.setFromTo(),this.updatePosAndSize()}},{key:"clone",value:function(){return new e(this.row,A.default.copy(this.model))}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttBodyBackground=void 0;var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){var e="/home/toilal/idea-projects/angular-gantt/src/core/logic/template/bodyBackground.factory.ts",t="7777fd88398a66ccd8df9a5d0bbaf60e2915a00a",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/core/logic/template/bodyBackground.factory.ts",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:25}},1:{start:{line:9,column:4},end:{line:9,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:22},end:{line:4,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:7,column:15},end:{line:7,column:16}},loc:{start:{line:7,column:27},end:{line:10,column:1}},line:7}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"src/core/logic/template/bodyBackground.factory.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/core/logic/template/bodyBackground.factory.ts"],names:[],mappings:"AAEA,MAAM;IAGJ,YAAY,IAAe;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IAAA,CAAC;CACH;AAED,MAAM,CAAC,OAAO;IACZ,UAAU,CAAC;IAEX,MAAM,CAAC,mBAAmB,CAAC;AAC7B,CAAC",sourcesContent:["import {GanttBody} from './body.factory';\n\nexport class GanttBodyBackground {\n  private body: GanttBody;\n\n  constructor(body: GanttBody) {\n    this.body = body;\n  };\n}\n\nexport default function () {\n  'ngInject';\n\n  return GanttBodyBackground;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=function(){"ngInject";return++a.f[1],++a.s[1],l};var l=t.GanttBodyBackground=function e(t){(0,i.default)(this,e),++a.f[0],++a.s[0],this.body=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttBodyColumns=void 0;var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){var e="/home/toilal/idea-projects/angular-gantt/src/core/logic/template/bodyColumns.factory.ts",t="91ed3f02296bd0a717c90554687351a2ec7fd181",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/core/logic/template/bodyColumns.factory.ts",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:25}},1:{start:{line:9,column:4},end:{line:9,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:22},end:{line:4,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:7,column:15},end:{line:7,column:16}},loc:{start:{line:7,column:27},end:{line:10,column:1}},line:7}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"src/core/logic/template/bodyColumns.factory.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/core/logic/template/bodyColumns.factory.ts"],names:[],mappings:"AAEA,MAAM;IAGJ,YAAY,IAAe;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IAAA,CAAC;CACH;AAED,MAAM,CAAC,OAAO;IACZ,UAAU,CAAC;IAEX,MAAM,CAAC,gBAAgB,CAAC;AAC1B,CAAC",sourcesContent:["import {GanttBody} from './body.factory';\n\nexport class GanttBodyColumns {\n  private body: GanttBody;\n\n  constructor(body: GanttBody) {\n    this.body = body;\n  };\n}\n\nexport default function () {\n  'ngInject';\n\n  return GanttBodyColumns;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=function(){"ngInject";return++a.f[1],++a.s[1],l};var l=t.GanttBodyColumns=function e(t){(0,i.default)(this,e),++a.f[0],++a.s[0],this.body=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttBodyForeground=void 0;var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){var e="/home/toilal/idea-projects/angular-gantt/src/core/logic/template/bodyForeground.factory.ts",t="313f67cb64998cdccd3e788319db812ad703c26d",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/core/logic/template/bodyForeground.factory.ts",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:25}},1:{start:{line:9,column:4},end:{line:9,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:22},end:{line:4,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:7,column:15},end:{line:7,column:16}},loc:{start:{line:7,column:27},end:{line:10,column:1}},line:7}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"src/core/logic/template/bodyForeground.factory.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/core/logic/template/bodyForeground.factory.ts"],names:[],mappings:"AAEA,MAAM;IAGJ,YAAY,IAAe;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IAAA,CAAC;CACH;AAED,MAAM,CAAC,OAAO;IACZ,UAAU,CAAC;IAEX,MAAM,CAAC,mBAAmB,CAAC;AAC7B,CAAC",sourcesContent:["import {GanttBody} from './body.factory';\n\nexport class GanttBodyForeground {\n  private body: GanttBody;\n\n  constructor(body: GanttBody) {\n    this.body = body;\n  };\n}\n\nexport default function () {\n  'ngInject';\n\n  return GanttBodyForeground;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=function(){"ngInject";return++a.f[1],++a.s[1],l};var l=t.GanttBodyForeground=function e(t){(0,i.default)(this,e),++a.f[0],++a.s[0],this.body=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttBodyRows=void 0;var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){var e="/home/toilal/idea-projects/angular-gantt/src/core/logic/template/bodyRows.factory.ts",t="8e3227e3ab86e12da601fefe6d8a35f11b1fcbcf",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/core/logic/template/bodyRows.factory.ts",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:25}},1:{start:{line:9,column:4},end:{line:9,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:22},end:{line:4,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:7,column:15},end:{line:7,column:16}},loc:{start:{line:7,column:27},end:{line:10,column:1}},line:7}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"src/core/logic/template/bodyRows.factory.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/core/logic/template/bodyRows.factory.ts"],names:[],mappings:"AAEA,MAAM;IAGJ,YAAY,IAAe;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IAAA,CAAC;CACH;AAED,MAAM,CAAC,OAAO;IACZ,UAAU,CAAC;IAEX,MAAM,CAAC,aAAa,CAAC;AACvB,CAAC",sourcesContent:["import {GanttBody} from './body.factory';\n\nexport class GanttBodyRows {\n  private body: GanttBody;\n\n  constructor(body: GanttBody) {\n    this.body = body;\n  };\n}\n\nexport default function () {\n  'ngInject';\n\n  return GanttBodyRows;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=function(){"ngInject";return++a.f[1],++a.s[1],l};var l=t.GanttBodyRows=function e(t){(0,i.default)(this,e),++a.f[0],++a.s[0],this.body=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttHeaderColumns=void 0;var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){var e="/home/toilal/idea-projects/angular-gantt/src/core/logic/template/headerColumns.factory.ts",t="03718ddebc2acd231e207693b6ff12b2d8bfe717",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/core/logic/template/headerColumns.factory.ts",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:33}},1:{start:{line:9,column:4},end:{line:9,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:26},end:{line:4,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:7,column:15},end:{line:7,column:16}},loc:{start:{line:7,column:27},end:{line:10,column:1}},line:7}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"src/core/logic/template/headerColumns.factory.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/core/logic/template/headerColumns.factory.ts"],names:[],mappings:"AAEA,MAAM;IAGJ,YAAY,QAA0B;QACpC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC3B,CAAC;IAAA,CAAC;CACH;AAED,MAAM,CAAC,OAAO;IACZ,UAAU,CAAC;IAEX,MAAM,CAAC,kBAAkB,CAAC;AAC5B,CAAC",sourcesContent:["import {IAugmentedJQuery} from 'angular';\n\nexport class GanttHeaderColumns {\n  $element: IAugmentedJQuery;\n\n  constructor($element: IAugmentedJQuery) {\n    this.$element = $element;\n  };\n}\n\nexport default function () {\n  'ngInject';\n\n  return GanttHeaderColumns;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=function(){"ngInject";return++a.f[1],++a.s[1],l};var l=t.GanttHeaderColumns=function e(t){(0,i.default)(this,e),++a.f[0],++a.s[0],this.$element=t}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Timespan=t.TimespanModel=void 0;var i=n(2),a=o(i),l=n(0),r=o(l);t.default=function(){"ngInject";return u};var s=n(1),A=o(s),u=(t.TimespanModel=function e(){(0,r.default)(this,e)},t.Timespan=function(){function e(t,n){(0,r.default)(this,e),this.gantt=t,this.model=n}return(0,a.default)(e,[{key:"updatePosAndSize",value:function(){this.modelLeft=this.gantt.getPositionByDate(this.model.from),this.modelWidth=this.gantt.getPositionByDate(this.model.to)-this.modelLeft;var e=this.gantt.columnsManager.getLastColumn(),t=e?e.left+e.width:0,n=this.modelLeft,o=this.modelWidth,i=-o;n<i&&(n=i),n>t&&(n=t),void 0===n||void 0===o?(this.left=void 0,this.width=void 0):(this.left=n,this.width=o,n<0?(this.truncatedLeft=!0,this.truncatedLeftOffset=-n,this.truncatedRight=!1,this.truncatedRightOffset=void 0):o+n>this.gantt.width?(this.truncatedRight=!0,this.truncatedRightOffset=o+n-this.gantt.width,this.truncatedLeft=!1,this.truncatedLeftOffset=void 0):(this.truncatedLeft=!1,this.truncatedLeftOffset=void 0,this.truncatedRight=!1,this.truncatedRightOffset=o+n-this.gantt.width),this.width<0&&(this.left=this.left+this.width,this.width=-this.width)),this.updateView()}},{key:"updateView",value:function(){this.$element&&(void 0===this.left||void 0===this.width?this.$element.css("display","none"):(this.$element.css("display",""),this.$element.css("left",this.left+"px"),this.$element.css("width",this.width+"px")))}},{key:"setFrom",value:function(e){this.from=this.gantt.getDateByPosition(e),this.updatePosAndSize()}},{key:"setTo",value:function(e){this.to=this.gantt.getDateByPosition(e),this.updatePosAndSize()}},{key:"moveTo",value:function(e){this.from=this.gantt.getDateByPosition(e),this.to=this.gantt.getDateByPosition(e+this.width),this.updatePosAndSize()}},{key:"clone",value:function(){return new e(this.gantt,A.default.copy(this.model))}}]),e}())},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=o(i),l=n(2),r=o(l),s=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,[{key:"moveToIndex",value:function(e,t,n){if(n>=e.length)for(var o=n-e.length;1+o--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"getRemovedIds",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",o=void 0,i=void 0,a=[];if(void 0!==t)for(o=0,i=t.length;o<i;o++)a.push(t[o][n]);if(void 0!==e)for(o=0,i=e.length;o<i;o++){var l=e[o];if(void 0!==l[n]){var r=a.indexOf(l[n]);r>-1&&a.splice(r,1)}}return a}},{key:"indexOfId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",o=void 0;if(n instanceof Array){for(o=e.length-1;o>=0;o--){for(var i=e[o],a=0,l=n.length;a<l;a++)i=i[n[a]];if(i===t)return o}return-1}for(o=e.length-1;o>=0;o--)if(e[o][n]===t)return o;return-1}},{key:"removeId",value:function(e,t,n){var o=this.indexOfId(e,t,n);if(o>-1)return e.splice(o,1)[0]}},{key:"remove",value:function(e,t){var n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}}]),e}();t.default=s},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=o(i),l=n(2),r=o(l),s=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,[{key:"getIndicesOnly",value:function(e,t,n,o){for(var i=-1,a=e.length;a-i>1;){var l=Math.floor((i+a)/2);(o?n(e[l])<t:n(e[l])<=t)?i=l:a=l}return o||void 0===e[i]||n(e[i])!==t||(a=i),[i,a]}},{key:"get",value:function(e,t,n,o){var i=this.getIndicesOnly(e,t,n,o);return[e[i[0]],e[i[1]]]}}]),e}();t.default=s},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){"ngInject";return c}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttHierarchy=void 0;var a=n(4),l=o(a),r=n(0),s=o(r),A=n(2),u=o(A);t.default=i;var c=t.GanttHierarchy=function(){function e(){(0,s.default)(this,e),this.nameToRow={},this.idToRow={},this.nameToChildren={},this.idToChildren={},this.nameToParent={},this.idToParent={}}return(0,u.default)(e,[{key:"registerChildRow",value:function(e,t){if(void 0!==t){var n=this.nameToChildren[e.model.name];void 0===n&&(n=[],this.nameToChildren[e.model.name]=n),n.push(t);var o=this.idToChildren[e.model.id];void 0===o&&(o=[],this.idToChildren[e.model.id]=o),o.push(t),this.nameToParent[t.model.name]=e,this.idToParent[t.model.id]=e}}},{key:"refresh",value:function(e){this.nameToRow={},this.idToRow={},this.nameToChildren={},this.idToChildren={},this.nameToParent={},this.idToParent={};for(var t=void 0,n=0;n<e.length;n++)t=e[n],this.nameToRow[t.model.name]=t,this.idToRow[t.model.id]=t;for(var o=0;o<e.length;o++){if(t=e[o],void 0!==t.model.parent){var i=this.nameToRow[t.model.parent];void 0===i&&(i=this.idToRow[t.model.parent]),void 0!==i&&this.registerChildRow(i,t)}if(void 0!==t.model.children){var a=t.model.children,r=!0,s=!1,A=void 0;try{for(var u,c=(0,l.default)(a);!(r=(u=c.next()).done);r=!0){var d=u.value,C=this.nameToRow[d];void 0===C&&(C=this.idToRow[d]),void 0!==C&&this.registerChildRow(t,C)}}catch(e){s=!0,A=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw A}}}}for(var m=[],f=0;f<e.length;f++)t=e[f],void 0===this.parent(t)&&m.push(t);return m}},{key:"children",value:function(e){return this.idToChildren[e.model.id]}},{key:"descendants",value:function(e){var t=[],n=this.children(e);if(t.push.apply(t,n),void 0!==n){var o=!0,i=!1,a=void 0;try{for(var r,s=(0,l.default)(n);!(o=(r=s.next()).done);o=!0){var A=r.value,u=this.descendants(A);t.push.apply(t,u)}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}return t}},{key:"parent",value:function(e){return this.idToParent[e.model.id]}},{key:"ancestors",value:function(e){for(var t=[],n=this.parent(e);void 0!==n;)t.push(n),n=this.parent(n);return t}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=o(i),l=n(2),r=o(l),s=n(1),A=o(s),u=function(){function e(){(0,a.default)(this,e),this.seedId=(new Date).getTime()}return(0,r.default)(e,[{key:"createBoundedWrapper",value:function(e,t){return function(){return t.apply(e,arguments)}}},{key:"firstProperty",value:function(e,t,n){for(var o=0,i=e.length;o<i;o++){var a=e[o];if(void 0!==a&&t in a&&void 0!==a[t])return a[t]}return n}},{key:"angularIndexOf",value:function(e,t){for(var n=0;n<e.length;n++)if(A.default.equals(e[n],t))return n;return-1}},{key:"random4",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"randomUuid",value:function(){return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()}},{key:"newId",value:function(){return this.seedId+=1}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ganttBinarySearch",function(e){"ngInject";var t=function(e){return e.left};return function(n,o){var i=o.scroll.getScrollLeft(),a=o.getWidth()-o.side.getWidth();if(a>0){var l=e.getIndicesOnly(n,i,t)[0],r=e.getIndicesOnly(n,i+a,t)[1];return n.slice(l,r)}return n.slice()}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return function(e,t){var n=t.columnsManager.getFirstColumn(),o=t.columnsManager.getLastColumn();if(void 0!==n&&void 0!==o){for(var i=n.date,a=o.endDate,l=[],r=t.scroll.getScrollLeft(),s=t.getWidth()-t.side.getWidth(),A=0,u=e.length;A<u;A++){var c=e[A];c.active?l.push(c):c.model.to>=i&&c.model.from<=a&&(void 0===c.left&&c.updatePosAndSize(),(!s||c.left>=r&&c.left<=r+s||c.left+c.width>=r&&c.left+c.width<=r+s||c.left<r&&c.left+c.width>r+s)&&l.push(c))}return l}return e.splice(0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$document","$parse","$timeout","ganttMouseOffset",function(e,t,n,o){"ngInject";return{restrict:"A",require:"^gantt",scope:{targetElement:"=ganttResizer",enabled:"@?ganttResizerEnabled"},link:function(i,a,l,r){function s(){return r.gantt.options.value(l.resizerWidth)}function A(e){e!==s()&&(r.gantt.options.set(l.resizerWidth,e),void 0!==f&&m[f].raise.resize(e),n(function(){r.gantt.columnsManager.updateColumnsMeta()}))}function u(e){e.preventDefault(),A(void 0)}function c(e){i.$evalAsync(function(){var t=o.getOffsetForElement(i.targetElement[0],e),n=r.gantt.getWidth()-r.gantt.scroll.getBordersWidth();A(Math.min(Math.max(t.x,0),n))})}function d(){void 0!==f&&m[f].raise.resizeEnd(s()),e.unbind("mousemove",c),e.unbind("mouseup",d)}function C(t){t.preventDefault(),void 0!==f&&m[f].raise.resizeBegin(s()),e.on("mousemove",c),e.on("mouseup",d)}var m=r.gantt.api,f=l.ganttResizerEventTopic;void 0===i.enabled&&(i.enabled=!0),l.$observe("ganttResizerEnabled",function(e){i.enabled=t(e)()}),i.$watch("enabled",function(e){void 0===e&&(e=!0),a.toggleClass("gantt-resizer-enabled",e),e?(a.on("dblclick",u),a.on("mousedown",C)):(a.off("dblclick",u),a.off("mousedown",C))}),i.$watch(function(){return s()},function(e,t){e!==t&&(i.targetElement.css("width",e+"px"),i.targetElement[0].offsetWidth>0&&A(i.targetElement[0].offsetWidth))}),f&&(m.registerEvent(f,"resize"),m.registerEvent(f,"resizeBegin"),m.registerEvent(f,"resizeEnd"),m.registerMethod(f,"setWidth",A,this),m.registerMethod(f,"getWidth",s,this))}}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"A",require:"^ganttScrollManager",link:function(e,t,n,o){o.registerHorizontalReceiver(t)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"A",scope:{},controller:["$scope",function(e){e.horizontal=[],e.vertical=[],this.registerVerticalReceiver=function(t){t.css("position","relative"),e.vertical.push(t[0])},this.registerHorizontalReceiver=function(t){t.css("position","relative"),e.horizontal.push(t[0])},this.getHorizontalRecievers=function(){return e.horizontal},this.getVerticalRecievers=function(){return e.vertical}}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"A",require:["^gantt","^ganttScrollManager"],link:function(e,t,n,o){var i=t[0],a=function(){var e=void 0,t=void 0,n=o[1].getVerticalRecievers();for(e=0,t=n.length;e<t;e++){var a=n[e];a.parentNode.scrollTop!==i.scrollTop&&(a.parentNode.scrollTop=i.scrollTop)}var l=o[1].getHorizontalRecievers();for(e=0,t=l.length;e<t;e++){var r=l[e];r.parentNode.scrollLeft!==i.scrollLeft&&(r.parentNode.scrollLeft=i.scrollLeft)}};t.bind("scroll",a),e.$watch(function(){return o[0].gantt.width},function(e,t){if(e!==t)for(var n=o[1].getHorizontalRecievers(),i=0,a=n.length;i<a;i++){var l=n[i];l.style.width=e+"px"}})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder","$timeout","ganttDebounce",function(e,t,n){"ngInject";var o=new e("ganttScrollable");return o.controller=function(e,o){e.gantt.scroll.$element=o;var a=void 0,l=void 0,r=function(t,n,o){var a=e.gantt.options.value("autoExpand");if("both"===a||!0===a||a===o){var l=void 0,r=void 0,s=e.gantt.options.value("viewScale");s=s.trim(),"s"===s.charAt(s.length-1)&&(s=s.substring(0,s.length-1));var A=void 0,u=void 0,c=void 0;s&&(c=s.split(" ")),c&&c.length>1?(A=parseFloat(c[0]),u=c[c.length-1]):(A=1,u=s),"left"===o?(l=(0,i.default)(n).add(-5*A,u),e.fromDate=l):(r=(0,i.default)(n).add(5*A,u),e.toDate=r),e.gantt.api.scroll.raise.scroll(t.scrollLeft,n,o)}};o.bind("scroll",n(function(){var n=o[0],i=n.scrollLeft,s=void 0,A=void 0;e.gantt.scroll.cachedScrollLeft=i,e.gantt.columnsManager.updateVisibleColumns(),e.gantt.rowsManager.updateVisibleObjects(),i<a&&0===i?(s="left",A=e.gantt.columnsManager.from):i>a&&n.offsetWidth+i>=n.scrollWidth-1&&(s="right",A=e.gantt.columnsManager.to),a=i,void 0!==A?(l&&t.cancel(l),l=t(function(){r(n,A,s)},300)):e.gantt.api.scroll.raise.scroll(i)},5)),e.getScrollableCss=function(){var t={},n=e.gantt.options.value("maxHeight");n||(n=e.gantt.getContainerHeight()),n>0&&(t["max-height"]=n-e.gantt.header.getHeight()+"px",t["overflow-y"]="auto",e.gantt.scroll.isVScrollbarVisible()&&(t["border-right"]="none"));var o=this.gantt.options.value("columnWidth"),i=0!==e.gantt.width&&e.gantt.width<e.gantt.getWidth()-e.gantt.side.getWidth();return void 0!==o&&i&&(t.width=e.gantt.width+this.gantt.scroll.getBordersWidth()+"px"),t}},o.build()}];var o=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"A",require:"^ganttScrollManager",link:function(e,t,n,o){o.registerVerticalReceiver(t)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"A",controller:["$scope","$element","$attrs",function(e,t,n){var o=n.ganttContainerHeightListener;""===o&&(o="ganttContainerHeight");for(var i=e;0===o.indexOf("$parent.");)o=o.substring("$parent.".length),i=i.$parent;i.$watch(function(){var e=t[0].parentElement?t[0].parentElement.parentElement:void 0;if(e){var n=e.offsetHeight,o=getComputedStyle(e);return n=n-parseInt(o.marginTop,10)-parseInt(o.marginBottom,10)}return 0},function(e){e>0&&(i[o]=e)})}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"A",controller:["$scope","$element","$attrs",function(e,t,n){var o=n.ganttContainerWidthListener;""===o&&(o="ganttContainerWidth");for(var i=e;0===o.indexOf("$parent.");)o=o.substring("$parent.".length),i=i.$parent;i.$watch(function(){var e=t[0].parentElement?t[0].parentElement.parentElement:void 0;if(e){var n=e.offsetWidth,o=getComputedStyle(e);return n=n-parseInt(o.marginLeft,10)-parseInt(o.marginRight,10)}return 0},function(e){e>0&&(i[o]=e)})}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"A",controller:["$scope","$element","$attrs",function(e,t,n){var o=n.ganttElementHeightListener;""===o&&(o="ganttElementHeight");for(var i=t[0],a=e;0===o.indexOf("$parent.");)o=o.substring("$parent.".length),a=a.$parent;a.$watch(function(){return i.clientHeight},function(e){e>0&&(a[o]=e)})}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"A",controller:["$scope","$element","$attrs",function(e,t,n){var o=n.ganttElementWidthListener;""===o&&(o="ganttElementWidth");for(var i=t[0],a=e;0===o.indexOf("$parent.");)o=o.substring("$parent.".length),a=a.$parent;a.$watch(function(){return i.clientWidth},function(e){e>0&&(a[o]=e)})}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttBody");return t.controller=function(e,t){e.gantt.body.$element=t,e.gantt.body.$scope=e},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttBodyBackground");return t.controller=function(e,t){e.gantt.body.background.$element=t,e.gantt.body.background.$scope=e},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttBodyColumns");return t.controller=function(e,t){e.gantt.body.columns.$element=t,e.gantt.body.background.$scope=e},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttBodyForeground");return t.controller=function(e,t){e.gantt.body.foreground.$element=t,e.gantt.body.foreground.$scope=e},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttBodyRows");return t.controller=function(e,t){e.gantt.body.rows.$element=t,e.gantt.body.rows.$scope=e},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttColumn");return t.controller=function(e,t){e.column.$element=t,e.column.$scope=e,e.column.updateView()},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttColumnHeader");return t.controller=function(e,t){e.column.$element=t,e.column.$scope=e,e.column.updateView()},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttHeader");return t.controller=function(e,t){e.gantt.header.$element=t,e.gantt.header.$scope=e},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttHeaderColumns");return t.controller=function(e,t){e.gantt.header.columns.$element=t,e.gantt.header.columns.$scope=e},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttRow");return t.controller=function(e,t){e.row.$element=t,e.row.$scope=e},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";return new e("ganttRowBackground").build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttRowLabel");return t.restrict="A",t.templateUrl=void 0,t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder","ganttLayout",function(e,t){"ngInject";var n=new e("ganttScrollableHeader");return n.controller=function(e){var n=t.getScrollBarWidth();e.getScrollableHeaderCss=function(){var t={},o=e.gantt.scroll.isVScrollbarVisible(),i=o?n:0,a=this.gantt.options.value("columnWidth"),l=0!==e.gantt.width&&e.gantt.width<e.gantt.getWidth()-e.gantt.side.getWidth();return void 0!==a&&l?t.width=e.gantt.width-i+this.gantt.scroll.getBordersWidth()+"px":o&&(t.width=e.gantt.getWidth()-e.gantt.side.getWidth()-i+"px"),t}},n.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttSide");return t.controller=function(e,t){e.gantt.side.$element=t,e.gantt.side.$scope=e},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder","ganttLayout",function(e,t){"ngInject";var n=new e("ganttSideBackground");return n.controller=function(e){var n=t.getScrollBarHeight();e.getMaxHeightCss=function(){var t={},o=e.maxHeight;o||(o=e.gantt.getContainerHeight());var i=e.gantt.scroll.isHScrollbarVisible()?n:0;return t["max-height"]=o-i-e.gantt.header.getHeight()+"px",t}},n.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";return new e("ganttSideContent").build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttTask");return t.controller=function(e,t){e.task.$element=t,e.task.$scope=e,e.getTaskContent=function(){return void 0!==e.task.model.content?e.task.model.content:e.task.rowsManager.gantt.options.value("taskContent")},e.simplifyMoment=function(e){return i.default.isMoment(e)?e.unix():e},e.$watchGroup(["simplifyMoment(task.model.from)","simplifyMoment(task.model.to)"],function(){e.task.updatePosAndSize()})},t.build()}];var o=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";return new e("ganttTaskBackground").build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";return new e("ganttTaskContent").build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";return new e("ganttTaskForeground").build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttTimeFrame");return t.controller=function(e,t){e.timeFrame.$element=t,e.timeFrame.$scope=e,e.timeFrame.updateView()},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttTimespan");return t.controller=function(e,t){e.timespan.$element=t,e.timespan.$scope=e,e.timespan.updateView()},t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$timeout",function(e){"ngInject";function t(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;return function(){var a=this,l=arguments;i++;var r=function(e){return function(){if(e===i)return t.apply(a,l)}}(i);return e(r,n,void 0===o||o)}}return t}]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttDirectiveBuilder=void 0;var i=n(0),a=o(i),l=n(2),r=o(l);t.default=["$templateCache",function(e){"ngInject";return s.$templateCache=e,s}];var s=t.GanttDirectiveBuilder=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"^gantt",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"E";(0,a.default)(this,e),this.directiveName=t,this.templateUrl=void 0===n?"template/"+t+".tmpl.html":n,this.require=void 0===o?"^gantt":o,this.restrict=void 0===i?"E":i,this.scope=!1,this.transclude=!0,this.replace=!0}return(0,r.default)(e,[{key:"build",value:function(){var t=this.directiveName,n=this.templateUrl,o=this.controller,i={restrict:this.restrict,require:this.require,transclude:this.transclude,replace:this.replace,scope:this.scope,templateUrl:function(t,o){return void 0!==o.templateUrl&&(n=o.templateUrl),void 0!==o.template&&e.$templateCache.put(n,o.template),n},compile:function(){return{pre:function(e,n,o,i){e.gantt.api.directives.raise.preLink(t,e,n,o,i)},post:function(e,n,o,i){e.gantt.api.directives.raise.postLink(t,e,n,o,i)}}},controller:["$scope","$element","$attrs",function(e,n,i){var a=this;void 0!==o&&o(e,n,i,a),e.gantt.api.directives.raise.controller(t,e,n,i,a),e.$on("$destroy",function(){e.gantt.api.directives.raise.destroy(t,e,n,i,a)}),e.$applyAsync(function(){e.gantt.api.directives.raise.new(t,e,n,i,a)})}]};return n||(delete i.templateUrl,delete i.replace,delete i.transclude),i}}]),e}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=o(i),l=n(2),r=o(l),s=function(){function e(t){(0,a.default)(this,e),this.$document=t}return(0,r.default)(e,[{key:"elementFromPoint",value:function(e,t){return this.$document[0].elementFromPoint(e,t)}},{key:"elementsFromPoint",value:function(e,t,n){for(var o=[],i=[],a=0,l=void 0,r=void 0,s=void 0,A=void 0;(l=this.elementFromPoint(e,t))&&-1===o.indexOf(l)&&null!==l&&(void 0===n||a<n);)o.push(l),i.push({value:l.style.getPropertyValue("visibility"),priority:l.style.getPropertyPriority("visibility")}),l.style.setProperty("visibility","hidden","important"),a++;for(r=0,s=i.length;r<s;r++)A=i[r],o[r].style.setProperty("visibility",A.value?A.value:"",A.priority);return o}},{key:"findElementFromPoint",value:function(e,t,n){for(var o=[],i=[],a=0,l=void 0,r=void 0,s=void 0,A=void 0,u=void 0;(l=this.elementFromPoint(e,t))&&-1===o.indexOf(l)&&null!==l;)if(o.push(l),i.push({value:l.style.getPropertyValue("visibility"),priority:l.style.getPropertyPriority("visibility")}),l.style.setProperty("visibility","hidden","important"),a++,n(l)){r=l;break}for(s=0,A=i.length;s<A;s++)u=i[s],o[s].style.setProperty("visibility",u.value?u.value:"",u.priority);return r}},{key:"isElementVisible",value:function(e){return void 0!==e.offsetParent&&null!==e.offsetParent}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$injector",function(e){"ngInject";var t=void 0;try{t=e.get("$animate")}catch(e){}return void 0!==t?function(e,n){i.default.version.major>=1&&i.default.version.minor>=4?t.enabled(e,n):t.enabled(n,e)}:i.default.noop}];var o=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile",function(e){"ngInject";return{restrict:"A",require:"^gantt",link:function(t,n,o,i){t.scope=i.gantt.$scope.$parent,t.$watch(function(){return t.$eval(o.ganttBindCompileHtml)},function(o){n.html(o),e(n.contents())(t)})}}}]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=o(i),l=n(0),r=o(l),s=n(2),A=o(s),u=function(){function e(t){"ngInject";(0,r.default)(this,e),this.$document=t}return e.$inject=["$document"],(0,A.default)(e,[{key:"getScrollBarWidth",value:function(){var e=this.$document[0].createElement("p");e.style.width="100%",e.style.height="200px";var t=this.$document[0].createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),this.$document[0].body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;return n===o&&(o=t.clientWidth),this.$document[0].body.removeChild(t),n-o}},{key:"getScrollBarHeight",value:function(){var e=this.$document[0].createElement("p");e.style.width="200px;",e.style.height="100%";var t=this.$document[0].createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="150px",t.style.height="200px",t.style.overflow="hidden",t.appendChild(e),this.$document[0].body.appendChild(t);var n=e.offsetHeight;t.style.overflow="scroll";var o=e.offsetHeight;return n===o&&(o=t.clientHeight),this.$document[0].body.removeChild(t),n-o}},{key:"setColumnsWidthFactor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e){var o=!0,i=!1,l=void 0;try{for(var r,s=(0,a.default)(e);!(o=(r=s.next()).done);o=!0){var A=r.value;A.left=t*(A.originalSize.left+n)-n,A.width=t*A.originalSize.width;var u=!0,c=!1,d=void 0;try{for(var C,m=(0,a.default)(A.timeFrames);!(u=(C=m.next()).done);u=!0){var f=C.value;f.left=t*f.originalSize.left,f.width=t*f.originalSize.width}}catch(e){c=!0,d=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw d}}}}catch(e){i=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw l}}}}}]),e}();t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=o(i),l=n(2),r=o(l),s=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,[{key:"getButton",value:function(e){return e=e||window.event,e.which?e.which:void 0===e.button?1:e.button<2?1:4===e.button?2:3}}]),e}();t.default=s},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=o(i),l=n(2),r=o(l),s=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,[{key:"getTouch",value:function(e){return void 0!==e.touches?e.touches[0]:e}},{key:"getOffset",value:function(e){return e.offsetX&&e.offsetY?{x:e.offsetX,y:e.offsetY}:e.layerX&&e.layerY?{x:e.layerX,y:e.layerY}:this.getOffsetForElement(e.target,e)}},{key:"getOffsetForElement",value:function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}}]),e}();t.default=s},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GanttSmartEvent=void 0;var i=n(0),a=o(i),l=n(2),r=o(l);t.default=function(){"ngInject";return s};var s=t.GanttSmartEvent=function(){function e(t,n,o,i){var l=this;(0,a.default)(this,e),this.$element=n,this.event=o,this.fn=i,t.$on("$destroy",function(){l.$element.unbind(l.event,l.fn)})}return(0,r.default)(e,[{key:"bindOnce",value:function(){this.$element.one(this.event,this.fn)}},{key:"bind",value:function(){this.$element.bind(this.event,this.fn)}},{key:"unbind",value:function(){this.$element.unbind(this.event,this.fn)}}]),e}()},function(e,t){var n="template/gantt.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="gantt unselectable" ng-cloak gantt-scroll-manager gantt-container-height-listener=ganttContainerHeight gantt-container-width-listener=ganttContainerWidth gantt-element-height-listener=ganttElementHeight gantt-element-width-listener=ganttElementWidth> <gantt-side> <gantt-side-background> </gantt-side-background> <gantt-side-content> </gantt-side-content> <div gantt-resizer=gantt.side.$element gantt-resizer-event-topic=side gantt-resizer-enabled="{{$parent.gantt.options.value(\'allowSideResizing\')}}" resizer-width=sideWidth class=gantt-resizer> <div ng-show="$parent.gantt.options.value(\'allowSideResizing\')" class=gantt-resizer-display></div> </div> </gantt-side> <gantt-scrollable-header> <gantt-header gantt-element-height-listener=$parent.ganttHeaderHeight> <gantt-header-columns> <div ng-repeat="header in gantt.columnsManager.visibleHeaders track by $index"> <div class=gantt-header-row ng-class="{\'gantt-header-row-last\': $last, \'gantt-header-row-first\': $first}"> <gantt-column-header ng-repeat="column in header"></gantt-column-header> </div> </div> </gantt-header-columns> </gantt-header> </gantt-scrollable-header> <gantt-scrollable> <gantt-body> <gantt-body-background> <gantt-row-background ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"></gantt-row-background> </gantt-body-background> <gantt-body-foreground> <div class=gantt-current-date-line ng-show="currentDate === \'line\' && gantt.currentDateManager.position >= 0 && gantt.currentDateManager.position <= gantt.width" ng-style="{\'left\': gantt.currentDateManager.position + \'px\' }"></div> </gantt-body-foreground> <gantt-body-columns> <gantt-column ng-repeat="column in gantt.columnsManager.visibleColumns"> <gantt-time-frame ng-repeat="timeFrame in column.visibleTimeFrames"></gantt-time-frame> </gantt-column> </gantt-body-columns> <div ng-if="gantt.columnsManager.visibleColumns == 0" style=background-color:grey></div> <gantt-body-rows> <gantt-timespan ng-repeat="timespan in gantt.timespansManager.timespans track by timespan.model.id"></gantt-timespan> <gantt-row ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"> <gantt-task ng-repeat="task in row.visibleTasks track by task.model.id"> </gantt-task> </gantt-row> </gantt-body-rows> </gantt-body> </gantt-scrollable> <ng-transclude></ng-transclude> <script type=text/ng-template id=template/ganttBody.tmpl.html> <div ng-transclude class="gantt-body" ng-style="{\'width\': gantt.width > 0 ? gantt.width +\'px\' : undefined}"></div> <\/script> <script type=text/ng-template id=template/ganttHeader.tmpl.html> <div ng-transclude class="gantt-header"\n             ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0"></div> <\/script> <script type=text/ng-template id=template/ganttSide.tmpl.html> <div ng-transclude class="gantt-side" style="width: auto;"></div> <\/script> <script type=text/ng-template id=template/ganttSideContent.tmpl.html> <div class="gantt-side-content" ng-style="getSideCss()">\n        </div> <\/script> <script type=text/ng-template id=template/ganttHeaderColumns.tmpl.html> <div ng-transclude class="gantt-header-columns"\n              gantt-horizontal-scroll-receiver></div> <\/script> <script type=text/ng-template id=template/ganttColumnHeader.tmpl.html> <div class="gantt-column-header" ng-class="{\'gantt-column-header-last\': $last, \'gantt-column-header-first\': $first}">{{::column.label}}</div> <\/script> <script type=text/ng-template id=template/ganttBodyBackground.tmpl.html> <div ng-transclude class="gantt-body-background"></div> <\/script> <script type=text/ng-template id=template/ganttBodyForeground.tmpl.html> <div ng-transclude class="gantt-body-foreground"></div> <\/script> <script type=text/ng-template id=template/ganttBodyColumns.tmpl.html> <div ng-transclude class="gantt-body-columns"></div> <\/script> <script type=text/ng-template id=template/ganttColumn.tmpl.html> <div ng-transclude class="gantt-column gantt-foreground-col" ng-class="{\'gantt-column-last\': $last, \'gantt-column-first\': $first}"></div> <\/script> <script type=text/ng-template id=template/ganttTimeFrame.tmpl.html> <div class="gantt-timeframe"></div> <\/script> <script type=text/ng-template id=template/ganttScrollable.tmpl.html> <div ng-transclude class="gantt-scrollable" gantt-scroll-sender ng-style="getScrollableCss()"></div> <\/script> <script type=text/ng-template id=template/ganttScrollableHeader.tmpl.html> <div ng-transclude class="gantt-scrollable-header" ng-style="getScrollableHeaderCss()"></div> <\/script> <script type=text/ng-template id=template/ganttBodyRows.tmpl.html> <div ng-transclude class="gantt-body-rows"></div> <\/script> <script type=text/ng-template id=template/ganttTimespan.tmpl.html> <div class="gantt-timespan" ng-class="timespan.model.classes">\n        </div> <\/script> <script type=text/ng-template id=template/ganttTask.tmpl.html> <div class="gantt-task" ng-class="task.model.classes">\n            <gantt-task-background></gantt-task-background>\n            <gantt-task-foreground></gantt-task-foreground>\n            <gantt-task-content></gantt-task-content>\n        </div> <\/script> <script type=text/ng-template id=template/ganttTaskBackground.tmpl.html> <div class="gantt-task-background" ng-style="{\'background-color\': task.model.color}"></div> <\/script> <script type=text/ng-template id=template/ganttTaskForeground.tmpl.html> <div class="gantt-task-foreground">\n            <div ng-if="task.truncatedRight" class="gantt-task-truncated-right" ng-style="{\'padding-right\': task.truncatedRightOffset + \'px\'}">&gt;</div>\n            <div ng-if="task.truncatedLeft" class="gantt-task-truncated-left" ng-style="{\'padding-left\': task.truncatedLeftOffset + \'px\'}">&lt;</div>\n        </div> <\/script> <script type=text/ng-template id=template/ganttTaskContent.tmpl.html> <div class="gantt-task-content" unselectable="on"><span unselectable="on" gantt-bind-compile-html="getTaskContent()"/></div> <\/script> <script type=text/ng-template id=template/ganttRowBackground.tmpl.html> <div class="gantt-row gantt-row-height"\n             ng-class="row.model.classes"\n             ng-class-odd="\'gantt-row-odd\'"\n             ng-class-even="\'gantt-row-even\'"\n             ng-style="{\'height\': row.model.height}">\n            <div class="gantt-row-background"\n                 ng-style="{\'background-color\': row.model.color}">\n            </div>\n        </div> <\/script> <script type=text/ng-template id=template/ganttRow.tmpl.html> <div class="gantt-row gantt-row-height"\n             ng-class="row.model.classes"\n             ng-class-odd="\'gantt-row-odd\'"\n             ng-class-even="\'gantt-row-even\'"\n             ng-style="{\'height\': row.model.height}">\n            <div ng-transclude class="gantt-row-content"></div>\n        </div> <\/script> <script type=text/ng-template id=template/ganttSideBackground.tmpl.html> <div class="gantt-side-background">\n            <div class="gantt-side-background-header" ng-style="{height: $parent.ganttHeaderHeight + \'px\'}">\n                <div ng-show="$parent.ganttHeaderHeight" class="gantt-header-row gantt-side-header-row"></div>\n            </div>\n            <div class="gantt-side-background-body" ng-style="getMaxHeightCss()">\n                <div gantt-vertical-scroll-receiver>\n                    <div class="gantt-row gantt-row-height "\n                         ng-class-odd="\'gantt-row-odd\'"\n                         ng-class-even="\'gantt-row-even\'"\n                         ng-class="row.model.classes"\n                         ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"\n                         ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-row-label gantt-row-background"\n                             ng-style="{\'background-color\': row.model.color}">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div> <\/script> </div> ')}]),e.exports=n},function(e,t,n){e.exports={default:n(134),__esModule:!0}},function(e,t,n){e.exports={default:n(135),__esModule:!0}},function(e,t,n){e.exports={default:n(136),__esModule:!0}},function(e,t,n){e.exports={default:n(137),__esModule:!0}},function(e,t,n){e.exports={default:n(138),__esModule:!0}},function(e,t,n){e.exports={default:n(139),__esModule:!0}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(128),a=o(i),l=n(125),r=o(l),s=n(5),A=o(s);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,A.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(a.default?(0,a.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){n(62),n(61),e.exports=n(160)},function(e,t,n){n(162);var o=n(7).Object;e.exports=function(e,t){return o.create(e,t)}},function(e,t,n){n(163);var o=n(7).Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},function(e,t,n){n(164),e.exports=n(7).Object.getPrototypeOf},function(e,t,n){n(165),e.exports=n(7).Object.setPrototypeOf},function(e,t,n){n(167),n(166),n(168),n(169),e.exports=n(7).Symbol},function(e,t,n){n(61),n(62),e.exports=n(36).f("iterator")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(){}},function(e,t,n){var o=n(13),i=n(158),a=n(157);e.exports=function(e){return function(t,n,l){var r,s=o(t),A=i(s.length),u=a(l,A);if(e&&n!=n){for(;A>u;)if((r=s[u++])!=r)return!0}else for(;A>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var o=n(24),i=n(9)("toStringTag"),a="Arguments"==o(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var o=n(20),i=n(56),a=n(29);e.exports=function(e){var t=o(e),n=i.f;if(n)for(var l,r=n(e),s=a.f,A=0;r.length>A;)s.call(e,l=r[A++])&&t.push(l);return t}},function(e,t,n){e.exports=n(8).document&&document.documentElement},function(e,t,n){var o=n(24);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,n){var o=n(24);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){"use strict";var o=n(28),i=n(21),a=n(30),l={};n(16)(l,n(9)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(l,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var o=n(20),i=n(13);e.exports=function(e,t){for(var n,a=i(e),l=o(a),r=l.length,s=0;r>s;)if(a[n=l[s++]]===t)return n}},function(e,t,n){var o=n(22)("meta"),i=n(18),a=n(11),l=n(12).f,r=0,s=Object.isExtensible||function(){return!0},A=!n(17)(function(){return s(Object.preventExtensions({}))}),u=function(e){l(e,o,{value:{i:"O"+ ++r,w:{}}})},c=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,o)){if(!s(e))return"F";if(!t)return"E";u(e)}return e[o].i},d=function(e,t){if(!a(e,o)){if(!s(e))return!0;if(!t)return!1;u(e)}return e[o].w},C=function(e){return A&&m.NEED&&s(e)&&!a(e,o)&&u(e),e},m=e.exports={KEY:o,NEED:!1,fastKey:c,getWeak:d,onFreeze:C}},function(e,t,n){var o=n(12),i=n(14),a=n(20);e.exports=n(10)?Object.defineProperties:function(e,t){i(e);for(var n,l=a(t),r=l.length,s=0;r>s;)o.f(e,n=l[s++],t[n]);return e}},function(e,t,n){var o=n(13),i=n(55).f,a={}.toString,l="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(e){try{return i(e)}catch(e){return l.slice()}};e.exports.f=function(e){return l&&"[object Window]"==a.call(e)?r(e):i(o(e))}},function(e,t,n){var o=n(15),i=n(7),a=n(17);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],l={};l[e]=t(n),o(o.S+o.F*a(function(){n(1)}),"Object",l)}},function(e,t,n){var o=n(18),i=n(14),a=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{o=n(50)(Function.call,n(54).f(Object.prototype,"__proto__").set,2),o(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:a}},function(e,t,n){var o=n(33),i=n(25);e.exports=function(e){return function(t,n){var a,l,r=String(i(t)),s=o(n),A=r.length;return s<0||s>=A?e?"":void 0:(a=r.charCodeAt(s),a<55296||a>56319||s+1===A||(l=r.charCodeAt(s+1))<56320||l>57343?e?r.charAt(s):a:e?r.slice(s,s+2):l-56320+(a-55296<<10)+65536)}}},function(e,t,n){var o=n(33),i=Math.max,a=Math.min;e.exports=function(e,t){return e=o(e),e<0?i(e+t,0):a(e,t)}},function(e,t,n){var o=n(33),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},function(e,t,n){var o=n(143),i=n(9)("iterator"),a=n(19);e.exports=n(7).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||a[o(e)]}},function(e,t,n){var o=n(14),i=n(159);e.exports=n(7).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return o(t.call(e))}},function(e,t,n){"use strict";var o=n(141),i=n(149),a=n(19),l=n(13);e.exports=n(53)(Array,"Array",function(e,t){this._t=l(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var o=n(15);o(o.S,"Object",{create:n(28)})},function(e,t,n){var o=n(15);o(o.S+o.F*!n(10),"Object",{defineProperty:n(12).f})},function(e,t,n){var o=n(60),i=n(57);n(154)("getPrototypeOf",function(){return function(e){return i(o(e))}})},function(e,t,n){var o=n(15);o(o.S,"Object",{setPrototypeOf:n(155).set})},function(e,t){},function(e,t,n){"use strict";var o=n(8),i=n(11),a=n(10),l=n(15),r=n(59),s=n(151).KEY,A=n(17),u=n(32),c=n(30),d=n(22),C=n(9),m=n(36),f=n(35),p=n(150),g=n(144),h=n(147),v=n(14),y=n(13),b=n(34),w=n(21),M=n(28),k=n(153),E=n(54),G=n(12),I=n(20),B=E.f,S=G.f,O=k.f,_=o.Symbol,$=o.JSON,K=$&&$.stringify,T=C("_hidden"),x=C("toPrimitive"),D={}.propertyIsEnumerable,j=u("symbol-registry"),F=u("symbols"),U=u("op-symbols"),W=Object.prototype,P="function"==typeof _,R=o.QObject,Y=!R||!R.prototype||!R.prototype.findChild,Q=a&&A(function(){return 7!=M(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(e,t,n){var o=B(W,t);o&&delete W[t],S(e,t,n),o&&e!==W&&S(W,t,o)}:S,H=function(e){var t=F[e]=M(_.prototype);return t._k=e,t},L=P&&"symbol"==typeof _.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof _},z=function(e,t,n){return e===W&&z(U,t,n),v(e),t=b(t,!0),v(n),i(F,t)?(n.enumerable?(i(e,T)&&e[T][t]&&(e[T][t]=!1),n=M(n,{enumerable:w(0,!1)})):(i(e,T)||S(e,T,w(1,{})),e[T][t]=!0),Q(e,t,n)):S(e,t,n)},V=function(e,t){v(e);for(var n,o=g(t=y(t)),i=0,a=o.length;a>i;)z(e,n=o[i++],t[n]);return e},N=function(e,t){return void 0===t?M(e):V(M(e),t)},q=function(e){var t=D.call(this,e=b(e,!0));return!(this===W&&i(F,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,T)&&this[T][e])||t)},X=function(e,t){if(e=y(e),t=b(t,!0),e!==W||!i(F,t)||i(U,t)){var n=B(e,t);return!n||!i(F,t)||i(e,T)&&e[T][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=O(y(e)),o=[],a=0;n.length>a;)i(F,t=n[a++])||t==T||t==s||o.push(t);return o},Z=function(e){for(var t,n=e===W,o=O(n?U:y(e)),a=[],l=0;o.length>l;)!i(F,t=o[l++])||n&&!i(W,t)||a.push(F[t]);return a};P||(_=function(){if(this instanceof _)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===W&&t.call(U,n),i(this,T)&&i(this[T],e)&&(this[T][e]=!1),Q(this,e,w(1,n))};return a&&Y&&Q(W,e,{configurable:!0,set:t}),H(e)},r(_.prototype,"toString",function(){return this._k}),E.f=X,G.f=z,n(55).f=k.f=J,n(29).f=q,n(56).f=Z,a&&!n(27)&&r(W,"propertyIsEnumerable",q,!0),m.f=function(e){return H(C(e))}),l(l.G+l.W+l.F*!P,{Symbol:_});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)C(ee[te++]);for(var ee=I(C.store),te=0;ee.length>te;)f(ee[te++]);l(l.S+l.F*!P,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=_(e)},keyFor:function(e){if(L(e))return p(j,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),l(l.S+l.F*!P,"Object",{create:N,defineProperty:z,defineProperties:V,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),$&&l(l.S+l.F*(!P||A(function(){var e=_();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!L(e)){for(var t,n,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);return t=o[1],"function"==typeof t&&(n=t),!n&&h(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!L(t))return t}),o[1]=t,K.apply($,o)}}}),_.prototype[x]||n(16)(_.prototype,x,_.prototype.valueOf),c(_,"Symbol"),c(Math,"Math",!0),c(o.JSON,"JSON",!0)},function(e,t,n){n(35)("asyncIterator")},function(e,t,n){n(35)("observable")},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(201),A=o(s),u=n(202),c=o(u);n(187),a.default.module("gantt.bounds",[r.default]).directive("ganttBounds",A.default).directive("ganttTaskBounds",c.default),t.default="gantt.bounds"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(203),A=o(s),u=n(204),c=o(u);n(188),a.default.module("gantt.corner",[r.default]).directive("ganttCorner",A.default).directive("ganttCornerArea",c.default),t.default="gantt.corner"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(205),A=o(s),u=n(207),c=o(u),d=n(208),C=o(d),m=n(210),f=o(m),p=n(206),g=o(p),h=n(209),v=o(h);n(189),a.default.module("gantt.dependencies",[r.default]).directive("ganttDependencies",A.default).factory("GanttDependenciesEvents",c.default).factory("GanttDependencyTaskMouseHandler",f.default).factory("GanttDependenciesManager",C.default).factory("GanttDependenciesChecker",g.default).factory("GanttDependency",v.default),t.default="gantt.dependencies"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(211),A=o(s);a.default.module("gantt.drawtask",[r.default]).directive("ganttDrawTask",A.default),t.default="gantt.drawtask"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(213),A=o(s),u=n(214),c=o(u),d=n(215),C=o(d),m=n(216),f=o(m),p=n(212),g=o(p);n(190),a.default.module("gantt.groups",[r.default]).directive("ganttGroups",A.default).directive("ganttTaskGroup",c.default).directive("ganttTaskOverview",f.default).factory("GanttTaskGroup",C.default).controller("GanttGroupController",g.default),t.default="gantt.groups"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(170),a=o(i),l=n(171),r=o(l),s=n(172),A=o(s),u=n(173),c=o(u),d=n(174),C=o(d),m=n(176),f=o(m),p=n(177),g=o(p),h=n(178),v=o(h),y=n(179),b=o(y),w=n(180),M=o(w),k=n(181),E=o(k),G=n(182),I=o(G),B=n(183),S=o(B),O=n(184),_=o(O),$=n(185),K=o($);t.default={bounds:a.default,corner:r.default,dependencies:A.default,drawtask:c.default,groups:C.default,labels:f.default,movable:g.default,overlap:v.default,progress:b.default,resizeSensor:M.default,sections:E.default,sortable:I.default,table:S.default,tooltips:_.default,tree:K.default}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(217),A=o(s),u=n(220),c=o(u),d=n(219),C=o(d),m=n(218),f=o(m);n(191),a.default.module("gantt.labels",[r.default]).directive("ganttLabels",A.default).directive("ganttSideContentLabels",c.default).directive("ganttLabelsHeader",C.default).directive("ganttLabelsBody",f.default),t.default="gantt.labels"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(221),A=o(s),u=n(222),c=o(u);n(192),a.default.module("gantt.movable",[r.default]).directive("ganttMovable",A.default).factory("ganttMovableOptions",c.default),t.default="gantt.movable"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(223),A=o(s);n(193),a.default.module("gantt.overlap",[r.default]).directive("ganttOverlap",A.default),t.default="gantt.overlap"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(224),A=o(s),u=n(225),c=o(u);n(194),a.default.module("gantt.progress",[r.default]).directive("ganttProgress",A.default).directive("ganttTaskProgress",c.default),t.default="gantt.progress"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(226),A=o(s);a.default.module("gantt.resizeSensor",[r.default]).directive("ganttResizeSensor",A.default),t.default="gantt.resizeSensor"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(227),A=o(s),u=n(228),c=o(u),d=n(229),C=o(d);n(195),a.default.module("gantt.sections",[r.default]).directive("ganttSections",A.default).directive("ganttTaskSection",c.default).directive("ganttTaskSections",C.default),t.default="gantt.sections"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i);n(263);var l=n(6),r=o(l),s=n(230),A=o(s);n(196),a.default.module("gantt.sortable",["ang-drag-drop",r.default]).directive("ganttSortable",A.default),t.default="gantt.sortable"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(232),A=o(s),u=n(231),c=o(u),d=n(233),C=o(d),m=n(234),f=o(m);n(197),a.default.module("gantt.table",[r.default]).directive("ganttTable",A.default).directive("ganttSideContentTable",c.default).controller("TableColumnController",C.default).controller("TableColumnRowController",f.default),t.default="gantt.table"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(6),r=o(l),s=n(236),A=o(s),u=n(235),c=o(u);n(198),a.default.module("gantt.tooltips",[r.default]).directive("ganttTooltips",A.default).directive("ganttTooltip",c.default),t.default="gantt.tooltips"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(265),r=o(l),s=n(6),A=o(s),u=n(240),c=o(u),d=n(237),C=o(d),m=n(238),f=o(m),p=n(241),g=o(p),h=n(242),v=o(h),y=n(244),b=o(y),w=n(243),M=o(w),k=n(239),E=o(k);n(186),n(199),a.default.module("gantt.tree",[A.default,r.default||"ui.tree"]).directive("ganttTree",c.default).directive("ganttRowTreeLabel",C.default).directive("ganttSideContentTree",f.default).directive("ganttTreeBody",g.default).directive("ganttTreeHeader",v.default).controller("GanttUiTreeController",b.default).controller("GanttTreeNodeController",M.default).controller("GanttTreeController",E.default),t.default="gantt.tree"},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){!function(t,o){e.exports=o(n(3))}(0,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=19)}([function(e,t,n){"use strict";e.exports=n(15)()?Symbol:n(17)},function(t,n){t.exports=e},function(e,t,n){"use strict";var o,i=n(3),a=n(10),l=n(6),r=n(12);o=e.exports=function(e,t){var n,o,l,s,A;return arguments.length<2||"string"!=typeof e?(s=t,t=e,e=null):s=arguments[2],null==e?(n=l=!0,o=!1):(n=r.call(e,"c"),o=r.call(e,"e"),l=r.call(e,"w")),A={value:t,configurable:n,enumerable:o,writable:l},s?i(a(s),A):A},o.gs=function(e,t,n){var o,s,A,u;return"string"!=typeof e?(A=n,n=t,t=e,e=null):A=arguments[3],null==t?t=void 0:l(t)?null==n?n=void 0:l(n)||(A=n,n=void 0):(A=t,t=n=void 0),null==e?(o=!0,s=!1):(o=r.call(e,"c"),s=r.call(e,"e")),u={get:t,set:n,configurable:o,enumerable:s},A?i(a(A),u):u}},function(e,t,n){"use strict";e.exports=n(4)()?Object.assign:n(5)},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var o=n(7),i=n(11),a=Math.max;e.exports=function(e,t){var n,l,r,s=a(arguments.length,2);for(e=Object(i(e)),r=function(o){try{e[o]=t[o]}catch(e){n||(n=e)}},l=1;l<s;++l)t=arguments[l],o(t).forEach(r);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";e.exports=n(8)()?Object.keys:n(9)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var o=Object.keys;e.exports=function(e){return o(null==e?e:Object(e))}},function(e,t,n){"use strict";var o=Array.prototype.forEach,i=Object.create,a=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=i(null);return o.call(arguments,function(e){null!=e&&a(Object(e),t)}),t}},function(e,t,n){"use strict";e.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";e.exports=n(13)()?String.prototype.contains:n(14)},function(e,t,n){"use strict";var o="razdwatrzy";e.exports=function(){return"function"==typeof o.contains&&(!0===o.contains("dwa")&&!1===o.contains("foo"))}},function(e,t,n){"use strict";var o=String.prototype.indexOf;e.exports=function(e){return o.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var o={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!o[typeof Symbol.iterator]&&(!!o[typeof Symbol.toPrimitive]&&!!o[typeof Symbol.toStringTag])}},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},function(e,t,n){"use strict";var o,i,a,l,r=n(2),s=n(18),A=Object.create,u=Object.defineProperties,c=Object.defineProperty,d=Object.prototype,C=A(null);if("function"==typeof Symbol){o=Symbol;try{String(o()),l=!0}catch(e){}}var m=function(){var e=A(null);return function(t){for(var n,o,i=0;e[t+(i||"")];)++i;return t+=i||"",e[t]=!0,n="@@"+t,c(d,n,r.gs(null,function(e){o||(o=!0,c(this,n,r(e)),o=!1)})),n}}();a=function(e){if(this instanceof a)throw new TypeError("TypeError: Symbol is not a constructor");return i(e)},e.exports=i=function e(t){var n;if(this instanceof e)throw new TypeError("TypeError: Symbol is not a constructor");return l?o(t):(n=A(a.prototype),t=void 0===t?"":String(t),u(n,{__description__:r("",t),__name__:r("",m(t))}))},u(i,{for:r(function(e){return C[e]?C[e]:C[e]=i(String(e))}),keyFor:r(function(e){var t;s(e);for(t in C)if(C[t]===e)return t}),hasInstance:r("",o&&o.hasInstance||i("hasInstance")),isConcatSpreadable:r("",o&&o.isConcatSpreadable||i("isConcatSpreadable")),iterator:r("",o&&o.iterator||i("iterator")),match:r("",o&&o.match||i("match")),replace:r("",o&&o.replace||i("replace")),search:r("",o&&o.search||i("search")),species:r("",o&&o.species||i("species")),split:r("",o&&o.split||i("split")),toPrimitive:r("",o&&o.toPrimitive||i("toPrimitive")),toStringTag:r("",o&&o.toStringTag||i("toStringTag")),unscopables:r("",o&&o.unscopables||i("unscopables"))}),u(a.prototype,{constructor:r(i),toString:r("",function(){return this.__name__})}),u(i.prototype,{toString:r(function(){return"Symbol ("+s(this).__description__+")"}),valueOf:r(function(){return s(this)})}),c(i.prototype,i.toPrimitive,r("",function(){var e=s(this);return"symbol"==typeof e?e:e.toString()})),c(i.prototype,i.toStringTag,r("c","Symbol")),c(a.prototype,i.toStringTag,r("c",i.prototype[i.toStringTag])),c(a.prototype,i.toPrimitive,r("c",i.prototype[i.toPrimitive]))},function(e,t,n){"use strict";var o=n(16);e.exports=function(e){if(!o(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){return e.range=function(t,n){var o=this;return m.hasOwnProperty(t)?new f(e(o).startOf(t),e(o).endOf(t)):new f(t,n)},e.fn.range=e.range,e.range.constructor=f,e.fn.within=function(e){return e.contains(this.toDate())},e}Object.defineProperty(t,"__esModule",{value:!0}),t.DateRange=void 0;var r=function(){function e(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var l,r=e[Symbol.iterator]();!(o=(l=r.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.extendMoment=l;var u=n(1),c=o(u),d=n(0),C=o(d),m={year:!0,quarter:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},f=t.DateRange=function(){function e(t,n){a(this,e);var o=t,i=n;if(1===arguments.length||void 0===n)if("object"===(void 0===t?"undefined":s(t))&&2===t.length){var l=r(t,2);o=l[0],i=l[1]}else if("string"==typeof t){var A=t.split("/"),u=r(A,2);o=u[0],i=u[1]}this.start=null===o?(0,c.default)(-864e13):(0,c.default)(o),this.end=null===i?(0,c.default)(864e13):(0,c.default)(i)}return A(e,[{key:"adjacent",value:function(e){var t=this.start.isSame(e.end),n=this.end.isSame(e.start);return t&&e.start.valueOf()<=this.start.valueOf()||n&&e.end.valueOf()>=this.end.valueOf()}},{key:"add",value:function(e){return this.overlaps(e)?new this.constructor(c.default.min(this.start,e.start),c.default.max(this.end,e.end)):null}},{key:"by",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this;return i({},C.default.iterator,function(){var o=t.exclusive||!1,i=t.step||1,a=Math.abs(n.start.diff(n.end,e))/i,l=0;return{next:function(){var t=n.start.clone().add(l*i,e),r=o?!(l<a):!(l<=a);return l++,{done:r,value:r?void 0:t}}}})}},{key:"byRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this,o=t.step||1,a=this.valueOf()/e.valueOf()/o,l=t.exclusive||!1,r=Math.floor(a),s=0;return i({},C.default.iterator,function(){return r===1/0?{done:!0}:{next:function(){var t=(0,c.default)(n.start.valueOf()+e.valueOf()*s*o),i=r===a&&l?!(s<r):!(s<=r);return s++,{done:i,value:i?void 0:t}}}})}},{key:"center",value:function(){var e=this.start.valueOf()+this.diff()/2;return(0,c.default)(e)}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"contains",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1},o=this.start.valueOf(),i=this.end.valueOf(),a=t.valueOf(),l=t.valueOf();t instanceof e&&(a=t.start.valueOf(),l=t.end.valueOf());var r=o<a||o<=a&&!n.exclusive,s=i>l||i>=l&&!n.exclusive;return r&&s}},{key:"diff",value:function(e,t){return this.end.diff(this.start,e,t)}},{key:"duration",value:function(e,t){return this.diff(e,t)}},{key:"intersect",value:function(e){var t=this.start.valueOf(),n=this.end.valueOf(),o=e.start.valueOf(),i=e.end.valueOf();return t<=o&&o<n&&n<i?new this.constructor(o,n):o<t&&t<i&&i<=n?new this.constructor(t,i):o<t&&t<=n&&n<i?this:t<=o&&o<=i&&i<=n?e:null}},{key:"isEqual",value:function(e){return this.start.isSame(e.start)&&this.end.isSame(e.end)}},{key:"isSame",value:function(e){return this.isEqual(e)}},{key:"overlaps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adjacent:!1},n=null!==this.intersect(e);return t.adjacent&&!n?this.adjacent(e):n}},{key:"reverseBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this;return i({},C.default.iterator,function(){var o=t.exclusive||!1,i=t.step||1,a=Math.abs(n.start.diff(n.end,e))/i,l=0;return{next:function(){var t=n.end.clone().subtract(l*i,e),r=o?!(l<a):!(l<=a);return l++,{done:r,value:r?void 0:t}}}})}},{key:"reverseByRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this,o=t.step||1,a=this.valueOf()/e.valueOf()/o,l=t.exclusive||!1,r=Math.floor(a),s=0;return i({},C.default.iterator,function(){return r===1/0?{done:!0}:{next:function(){var t=(0,c.default)(n.end.valueOf()-e.valueOf()*s*o),i=r===a&&l?!(s<r):!(s<=r);return s++,{done:i,value:i?void 0:t}}}})}},{key:"subtract",value:function(e){var t=this.start.valueOf(),n=this.end.valueOf(),o=e.start.valueOf(),i=e.end.valueOf();return null===this.intersect(e)?[this]:o<=t&&t<n&&n<=i?[]:o<=t&&t<i&&i<n?[new this.constructor(i,n)]:t<o&&o<n&&n<=i?[new this.constructor(t,o)]:t<o&&o<i&&i<n?[new this.constructor(t,o),new this.constructor(i,n)]:t<o&&o<n&&i<n?[new this.constructor(t,o),new this.constructor(o,n)]:[]}},{key:"toDate",value:function(){return[this.start.toDate(),this.end.toDate()]}},{key:"toString",value:function(){return this.start.format()+"/"+this.end.format()}},{key:"valueOf",value:function(){return this.end.valueOf()-this.start.valueOf()}}]),e}()}])})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i);t.default=["$compile","$document",function(e,t){"ngInject";return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(n,o,i,l){var s=l.gantt.api;if(n.options&&"object"===(0,a.default)(n.options.bounds))for(var u in n.options.bounds)n[u]=n.options.bounds[u];void 0===n.enabled&&(n.enabled=!0),s.directives.on.new(n,function(o,a,l){if("ganttTask"===o){var s=a.$new();s.pluginScope=n;var A=t[0].createElement("div");r.default.element(A).attr("data-ng-if","task.model.est && task.model.lct && pluginScope.enabled");var u=t[0].createElement("gantt-task-bounds");void 0!==i.templateUrl&&r.default.element(u).attr("data-template-url",i.templateUrl),void 0!==i.template&&r.default.element(u).attr("data-template",i.template),r.default.element(A).append(u),l.append(e(A)(s))}}),s.tasks.on.clean(n,function(e){void 0===e.est||A.default.isMoment(e.est)||(e.est=(0,A.default)(e.est)),void 0===e.lct||A.default.isMoment(e.lct)||(e.lct=(0,A.default)(e.lct))})}}}];var l=n(1),r=o(l),s=n(3),A=o(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$templateCache",function(e){"ngInject";return{restrict:"E",templateUrl:function(t,n){var o=void 0;return o=void 0===n.templateUrl?"plugins/bounds/taskBounds.tmpl.html":n.templateUrl,n.template&&e.put(o,n.template),o},replace:!0,scope:!0,controller:["$scope","$element",function(e,t){t.toggleClass("ng-hide",!0),e.simplifyMoment=function(e){return i.default.isMoment(e)?e.unix():e},e.$watchGroup(["simplifyMoment(task.model.est)","simplifyMoment(task.model.lct)","task.left","task.width"],function(){var n=e.task.rowsManager.gantt.getPositionByDate(e.task.model.est),o=e.task.rowsManager.gantt.getPositionByDate(e.task.model.lct);t.css("left",n-e.task.left+"px"),t.css("width",o-n+"px"),t.toggleClass("gantt-task-bounds-in",!1),t.toggleClass("gantt-task-bounds-out",!1),void 0===e.task.model.est||void 0===e.task.model.lct?t.toggleClass("gantt-task-bounds-in",!0):e.task.model.est>e.task.model.from?t.toggleClass("gantt-task-bounds-out",!0):e.task.model.lct<e.task.model.to?t.toggleClass("gantt-task-bounds-out",!0):t.toggleClass("gantt-task-bounds-in",!0)}),e.task.$element.bind("mouseenter",function(){t.toggleClass("ng-hide",!1)}),e.task.$element.bind("mouseleave",function(){t.toggleClass("ng-hide",!0)}),e.task.rowsManager.gantt.api.directives.raise.new("ganttBounds",e,t),e.$on("$destroy",function(){e.task.rowsManager.gantt.api.directives.raise.destroy("ganttBounds",e,t)})}]}}];var o=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o);n(245)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i),l=function(){var e="/home/toilal/idea-projects/angular-gantt/src/plugins/corner/corner.directive.ts",t="b7560f0e461393c64857695f2355a8f258f336a8",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/plugins/corner/corner.directive.ts",statementMap:{0:{start:{line:2,column:0},end:{line:2,column:30}},1:{start:{line:6,column:4},end:{line:38,column:6}},2:{start:{line:15,column:22},end:{line:15,column:41}},3:{start:{line:17,column:12},end:{line:21,column:13}},4:{start:{line:18,column:16},end:{line:20,column:17}},5:{start:{line:19,column:20},end:{line:19,column:65}},6:{start:{line:22,column:12},end:{line:24,column:13}},7:{start:{line:23,column:16},end:{line:23,column:37}},8:{start:{line:25,column:12},end:{line:36,column:15}},9:{start:{line:26,column:16},end:{line:35,column:17}},10:{start:{line:27,column:38},end:{line:27,column:64}},11:{start:{line:28,column:20},end:{line:28,column:52}},12:{start:{line:29,column:36},end:{line:29,column:69}},13:{start:{line:30,column:20},end:{line:30,column:89}},14:{start:{line:31,column:20},end:{line:31,column:77}},15:{start:{line:32,column:37},end:{line:32,column:84}},16:{start:{line:33,column:20},end:{line:33,column:66}},17:{start:{line:34,column:20},end:{line:34,column:144}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:15},end:{line:3,column:16}},loc:{start:{line:3,column:58},end:{line:39,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:14,column:14},end:{line:14,column:15}},loc:{start:{line:14,column:58},end:{line:37,column:9}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:25,column:41},end:{line:25,column:42}},loc:{start:{line:25,column:110},end:{line:36,column:13}},line:25}},branchMap:{0:{loc:{start:{line:17,column:12},end:{line:21,column:13}},type:"if",locations:[{start:{line:17,column:12},end:{line:21,column:13}},{start:{line:17,column:12},end:{line:21,column:13}}],line:17},1:{loc:{start:{line:17,column:16},end:{line:17,column:75}},type:"binary-expr",locations:[{start:{line:17,column:16},end:{line:17,column:29}},{start:{line:17,column:33},end:{line:17,column:75}}],line:17},2:{loc:{start:{line:22,column:12},end:{line:24,column:13}},type:"if",locations:[{start:{line:22,column:12},end:{line:24,column:13}},{start:{line:22,column:12},end:{line:24,column:13}}],line:22},3:{loc:{start:{line:26,column:16},end:{line:35,column:17}},type:"if",locations:[{start:{line:26,column:16},end:{line:35,column:17}},{start:{line:26,column:16},end:{line:35,column:17}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"src/plugins/corner/corner.directive.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/plugins/corner/corner.directive.ts"],names:[],mappings:"AAAA,OAAO,OAAO,MAAM,SAAS,CAAC;AAI9B,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAE9B,MAAM,CAAC,OAAO,WAAW,UAA6B,EAAE,QAAQ,EAAE,SAAS;IACzE,UAAU,CAAC;IACX,yCAAyC;IAEzC,MAAM,CAAC;QACL,QAAQ,EAAE,GAAG;QACb,OAAO,EAAE,QAAQ;QACjB,KAAK,EAAE;YACL,OAAO,EAAE,IAAI;YACb,aAAa,EAAE,IAAI;YACnB,sBAAsB,EAAE,IAAI;SAC7B;QACD,IAAI,EAAE,UAAU,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS;YAC9C,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC;YAE9B,8CAA8C;YAC9C,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,IAAI,OAAM,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC/D,GAAG,CAAC,CAAC,IAAI,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;oBACxC,KAAK,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC/C,CAAC;YACH,CAAC;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC;gBAChC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;YACvB,CAAC;YAED,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,aAAa,EAAE,mBAAmB,EAAE,qBAAqB;gBAC9F,EAAE,CAAC,CAAC,aAAa,KAAK,qBAAqB,CAAC,CAAC,CAAC;oBAC5C,IAAI,WAAW,GAAG,mBAAmB,CAAC,IAAI,EAAE,CAAC;oBAC7C,WAAW,CAAC,WAAW,GAAG,KAAK,CAAC;oBAEhC,IAAI,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBAClD,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,qBAAqB,CAAC,CAAC;oBACrE,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;oBAEzD,IAAI,UAAU,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC;oBACjE,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;oBAE9C,qBAAqB,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,qBAAqB,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;gBAC9H,CAAC;YACH,CAAC,CAAC,CAAC;QAEL,CAAC;KACF,CAAC;AACJ,CAAC",sourcesContent:["import angular from 'angular';\n\nimport GanttUtilsService from '../../core/logic/util/utils.service';\n\nrequire('./corner.tmpl.html');\n\nexport default function (ganttUtils: GanttUtilsService, $compile, $document) {\n  'ngInject';\n  // Provides customization for corner area\n\n  return {\n    restrict: 'E',\n    require: '^gantt',\n    scope: {\n      enabled: '=?',\n      headersLabels: '=?',\n      headersLabelsTemplates: '=?'\n    },\n    link: function (scope, element, attrs, ganttCtrl) {\n      let api = ganttCtrl.gantt.api;\n\n      // Load options from global options attribute.\n      if (scope.options && typeof(scope.options.corner) === 'object') {\n        for (let option in scope.options.corner) {\n          scope[option] = scope.options.corner[option];\n        }\n      }\n\n      if (scope.enabled === undefined) {\n        scope.enabled = true;\n      }\n\n      api.directives.on.new(scope, function (directiveName, sideBackgroundScope, sideBackgroundElement) {\n        if (directiveName === 'ganttSideBackground') {\n          let cornerScope = sideBackgroundScope.$new();\n          cornerScope.pluginScope = scope;\n\n          let ifElement = $document[0].createElement('div');\n          angular.element(ifElement).attr('data-ng-if', 'pluginScope.enabled');\n          angular.element(ifElement).addClass('gantt-corner-area');\n\n          let topElement = $document[0].createElement('gantt-corner-area');\n          angular.element(ifElement).append(topElement);\n\n          sideBackgroundElement[0].parentNode.insertBefore($compile(ifElement)(cornerScope)[0], sideBackgroundElement[0].nextSibling);\n        }\n      });\n\n    }\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=["ganttUtils","$compile","$document",function(e,t,n){"ngInject";return++l.f[0],++l.s[1],{restrict:"E",require:"^gantt",scope:{enabled:"=?",headersLabels:"=?",headersLabelsTemplates:"=?"},link:function(e,o,i,r){++l.f[1];var A=(++l.s[2],r.gantt.api);if(++l.s[3],++l.b[1][0],e.options&&(++l.b[1][1],"object"===(0,a.default)(e.options.corner))){++l.b[0][0],++l.s[4];for(var u in e.options.corner)++l.s[5],e[u]=e.options.corner[u]}else++l.b[0][1];++l.s[6],void 0===e.enabled?(++l.b[2][0],++l.s[7],e.enabled=!0):++l.b[2][1],++l.s[8],A.directives.on.new(e,function(o,i,a){if(++l.f[2],++l.s[9],"ganttSideBackground"===o){++l.b[3][0];var r=(++l.s[10],i.$new());++l.s[11],r.pluginScope=e;var A=(++l.s[12],n[0].createElement("div"));++l.s[13],s.default.element(A).attr("data-ng-if","pluginScope.enabled"),++l.s[14],s.default.element(A).addClass("gantt-corner-area");var u=(++l.s[15],n[0].createElement("gantt-corner-area"));++l.s[16],s.default.element(A).append(u),++l.s[17],a[0].parentNode.insertBefore(t(A)(r)[0],a[0].nextSibling)}else++l.b[3][1]})}}}];var r=n(1),s=o(r);++l.s[0],n(246)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=o(i);t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttCornerArea","plugins/corner/corner.tmpl.html");return t.controller=function(e){function t(t){var n=[],o=!0,i=!1,l=void 0;try{for(var r,s=(0,a.default)(t);!(o=(r=s.next()).done);o=!0){var A=r.value,u=A[0].name,c=A[0].unit,d={columns:A,unit:c,name:u};n.push(d)}}catch(e){i=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw l}}e.headers=n}t(e.gantt.columnsManager.headers),e.getLabel=function(t){var n=t.name;return e.pluginScope.headersLabels&&t.name in e.pluginScope.headersLabels?(n=e.pluginScope.headersLabels[t.name],r.default.isFunction(n)&&(n=n(t.name,t.unit,t.columns))):r.default.isFunction(e.pluginScope.headersLabels)&&(n=e.pluginScope.headersLabels(t.name,t.unit,t.columns)),n},e.getLabelContent=function(t){var n=void 0;return void 0===n&&void 0!==e.pluginScope.headersLabelsTemplates&&(n=e.pluginScope.headersLabelsTemplates,r.default.isObject(n)&&t.name in n&&(n=n[t.name]),r.default.isFunction(n)&&(n=n(t.name,t.unit,t.columns))),void 0===n?"{{getLabel(header)}}":n},e.gantt.api.columns.on.generate(e,function(e,n){t(n)})},t.build()}];var l=n(1),r=o(l)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=o(i),l=n(5),r=o(l);t.default=["$timeout","$document","ganttDebounce","GanttDependenciesManager","GanttDependenciesChecker",function(e,t,n,o,i){"ngInject";return{restrict:"E",require:"^gantt",scope:{enabled:"=?",readOnly:"=?",jsPlumbDefaults:"=?",endpoints:"=?",fallbackEndpoints:"=?",conflictChecker:"=?"},link:function(e,t,l,s){function u(){return A.default.element('<span><span class="gantt-endpoint-overlay start-endpoint arrow-right"></span></span>')}function c(){return A.default.element('<span><span class="gantt-endpoint-overlay end-endpoint arrow-right"></span></span>')}function d(){return A.default.element('<span><span class="gantt-endpoint-overlay start-endpoint fallback-endpoint"></span></span>')}function C(){return A.default.element('<span><span class="gantt-endpoint-overlay end-endpoint fallback-endpoint"></span></span>')}var m=s.gantt.api;if(e.options&&"object"===(0,r.default)(e.options.dependencies))for(var f in e.options.dependencies)e[f]=e.options.dependencies[f];void 0===e.enabled&&(e.enabled=!0),void 0===e.readOnly&&(e.readOnly=!1),void 0===e.jsPlumbDefaults&&(e.jsPlumbDefaults={Endpoint:["Dot",{radius:4}],EndpointStyle:{fillStyle:"#456",strokeStyle:"#456",lineWidth:1},PaintStyle:{strokeWidth:3,stroke:"rgb(68, 85, 102)"},Connector:"Flowchart",ConnectionOverlays:[["Arrow",{location:1,length:12,width:12}]]}),void 0===e.endpoints&&(e.endpoints=[{anchor:"Left",isSource:!1,isTarget:!0,maxConnections:-1,cssClass:"gantt-endpoint start-endpoint target-endpoint",overlays:[["Custom",{create:u}]]},{anchor:"Right",isSource:!0,isTarget:!1,maxConnections:-1,cssClass:"gantt-endpoint end-endpoint source-endpoint",overlays:[["Custom",{create:c}]]}]),void 0===e.fallbackEndpoints&&(e.fallbackEndpoints=[{endpoint:"Blank",anchor:"Left",isSource:!1,isTarget:!0,maxConnections:0,cssClass:"gantt-endpoint start-endpoint fallback-endpoint",overlays:[["Custom",{create:d}]]},{endpoint:"Blank",anchor:"Right",isSource:!0,isTarget:!1,maxConnections:0,cssClass:"gantt-endpoint end-endpoint fallback-endpoint",overlays:[["Custom",{create:C}]]}]),void 0===e.conflictChecker&&(e.conflictChecker=!1);var p=new o(s.gantt,e,m),g=new i(p,e,m);e.$watchGroup(["conflictChecker","enabled"],function(t,n){if(t!==n){var o=s.gantt.rowsManager.rows,i=[],l=!0,r=!1,A=void 0;try{for(var u,c=(0,a.default)(o);!(l=(u=c.next()).done);l=!0){var d=u.value;i.push.apply(i,d.tasks)}}catch(e){r=!0,A=e}finally{try{!l&&c.return&&c.return()}finally{if(r)throw A}}e.conflictChecker&&e.enabled?g.refresh(i):g.clear(i)}}),m.directives.on.new(e,function(e,t,n){"ganttBody"===e&&p.plumb.setContainer(n)}),m.tasks.on.add(e,function(e){p.addDependenciesFromTask(e,!0)}),m.tasks.on.remove(e,function(e){p.removeDependenciesFromTask(e)}),m.tasks.on.displayed(e,n(function(t){p.setTasks(t),p.refresh(),e.conflictChecker&&e.enabled&&g.refresh(t)})),m.rows.on.displayed(e,function(){p.refresh()}),m.tasks.on.viewChange(e,function(t){t.$element&&p.plumb.revalidate(t.$element[0]),e.conflictChecker&&e.enabled&&g.refresh([t])}),m.tasks.on.viewRowChange(e,function(t){p.setTask(t),e.conflictChecker&&e.enabled&&g.refresh([t])}),m.dependencies.on.add(e,function(t){e.conflictChecker&&e.enabled&&g.refresh([t.getFromTask(),t.getToTask()])}),m.dependencies.on.change(e,function(t){e.conflictChecker&&e.enabled&&g.refresh([t.getFromTask(),t.getToTask()])}),m.dependencies.on.remove(e,function(t){if(e.conflictChecker&&e.enabled){var n=t.getFromTask(),o=t.getToTask();n&&o?g.refresh([n,o]):n?g.removeConflictClass(n):g.removeConflictClass(o)}})}}}];var s=n(1),A=o(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(){"ngInject";return function(e){function t(e,t){t.model.id in e||!t.$element||(t.$element.addClass("gantt-task-conflict"),e[t.model.id]=t)}function n(e,t){for(var n=0,o=t.length;n<o;n++){var i=t[n];i.model.id in e||!i.$element||i.$element.removeClass("gantt-task-conflict")}}this.refresh=function(o){var a=o.slice(0),l=[],r=!0,s=!1,A=void 0;try{for(var u,c=(0,i.default)(o);!(r=(u=c.next()).done);r=!0){var d=u.value,C=e.getTaskDependencies(d),m=!0,f=!1,p=void 0;try{for(var g,h=(0,i.default)(C);!(m=(g=h.next()).done);m=!0){var v=g.value,y=v.getFromTask(),b=v.getToTask();y in a||a.push(y),b in a||a.push(b),y.model.to>b.model.from&&(t(l,y),t(l,b))}}catch(e){f=!0,p=e}finally{try{!m&&h.return&&h.return()}finally{if(f)throw p}}}}catch(e){s=!0,A=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw A}}n(l,a)},this.removeConflictClass=function(e){e.$element.removeClass("gantt-task-conflict")},this.clear=function(e){n([],e.slice(0))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return function(e){var t=this;this.manager=e;var n=function(){return!t.manager.pluginScope.readOnly};this.manager.plumb.bind("beforeDrag",n),this.manager.plumb.bind("beforeStartDetach",n);var o=function(e){return e.sourceId!==e.targetId};this.manager.plumb.bind("beforeDrop",o),this.manager.plumb.bind("connectionDrag",function(e){t.manager.setDraggingConnection(e)}),this.manager.plumb.bind("connectionDragStop",function(){t.manager.setDraggingConnection(void 0)}),this.manager.plumb.bind("beforeDrop",function(){return t.manager.setDraggingConnection(void 0),!0});var i=function(e,n){if(n){var o=void 0;e.connection.$dependency&&(o=e.connection.$dependency);var i=e.sourceEndpoint,a=e.targetEndpoint,l=i.$task.model,r=l.dependencies;void 0===r&&(r=[],l.dependencies=r);var s={to:a.$task.model.id};r.push(s),o&&(o.removeFromTaskModel(),t.manager.removeDependency(o,!0));var A=t.manager.addDependency(i.$task,s);e.connection.$dependency=A,A.connection=e.connection,A.connection.setParameter("from",i.$task),A.connection.setParameter("to",a.$task),A.connection.canvas.setAttribute("data-fromId",i.$task.model.id),A.connection.canvas.setAttribute("data-toId",a.$task.model.id),t.manager.api.dependencies.raise.add(A)}},a=function(e,n){if(n){var o=void 0;e.connection.$dependency&&(o=e.connection.$dependency);var i=e.newSourceEndpoint,a=e.newTargetEndpoint,l=i.$task.model,r=l.dependencies;void 0===r&&(r=[],l.dependencies=r);var s={to:a.$task.model.id};r.push(s),o&&(o.removeFromTaskModel(),t.manager.removeDependency(o,!0));var A=t.manager.addDependency(i.$task,s);e.connection.$dependency=A,A.connection=e.connection,A.connection.setParameter("from",i.$task),A.connection.setParameter("to",a.$task),A.connection.canvas.setAttribute("data-fromId",i.$task.model.id),A.connection.canvas.setAttribute("data-toId",a.$task.model.id),t.manager.api.dependencies.raise.change(A,o)}},l=function(e,n){if(n){var o=e.connection.$dependency;o.removeFromTaskModel(),t.manager.removeDependency(o,!0),t.manager.api.dependencies.raise.remove(o)}};this.manager.plumb.bind("connectionMoved",a),this.manager.plumb.bind("connection",i),this.manager.plumb.bind("connectionDetached",l)}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=o(i);t.default=["GanttDependency","GanttDependenciesEvents","GanttDependencyTaskMouseHandler",function(e,t,n){"ngInject";return function(o,i,l){var s=this;this.gantt=o,this.pluginScope=i,this.api=l,this.api.registerEvent("dependencies","add"),this.api.registerEvent("dependencies","change"),this.api.registerEvent("dependencies","remove"),this.plumb=A.default.jsPlumb?A.default.jsPlumb.getInstance():A.default.getInstance(),this.plumb.importDefaults(this.pluginScope.jsPlumbDefaults),this.dependenciesFrom={},this.dependenciesTo={},this.tasksList=[],this.tasks={},this.events=new t(this),this.pluginScope.$watch("enabled",function(e,t){e!==t&&s.refresh()}),this.pluginScope.$watch("readOnly",function(e,t){e!==t&&(s.setTasks(s.tasksList),s.refresh())}),this.pluginScope.$watch("jsPlumbDefaults",function(e,t){e!==t&&(s.plumb.importDefaults(e),s.refresh())},!0),this.addDependenciesFromTask=function(e,t){if(this.pluginScope.enabled){var n=e.model.dependencies;if(void 0!==n&&n){r.default.isArray(n)||(n=[n],e.model.dependencies=n);for(var o=0,i=n.length;o<i;o++){var a=s.addDependency(e,n[o],t);a&&a.connect()}}}},this.removeDependenciesFromTask=function(e,t){var n=this.getTaskDependencies(e);if(n){var o=!0,i=!1,l=void 0;try{for(var r,A=(0,a.default)(n);!(o=(r=A.next()).done);o=!0){var u=r.value;t||u.disconnect(),s.removeDependency(u)}}catch(e){i=!0,l=e}finally{try{!o&&A.return&&A.return()}finally{if(i)throw l}}}},this.addDependency=function(t,n,o){var i=new e(this,t,n),a=i.getFromTaskId(),l=i.getFromTask(),r=i.getToTaskId(),s=i.getToTask(),A=i.manager;return a in this.dependenciesFrom||(this.dependenciesFrom[a]=[]),r in this.dependenciesTo||(this.dependenciesTo[r]=[]),o||s&&l?(a&&this.dependenciesFrom[a].push(i),r&&this.dependenciesTo[r].push(i),i):(this.removeDependency(i,!0),A.api.dependencies.raise.remove(i),null)},this.removeDependency=function(e,t){var n=this.dependenciesFrom[e.getFromTaskId()],o=[],i=void 0;if(n)for(i=0;i<n.length;i++)e===n[i]&&o.push(e);var a=this.dependenciesTo[e.getToTaskId()],l=[];if(a)for(i=0;i<a.length;i++)e===a[i]&&l.push(e);for(i=0;i<o.length;i++)t||o[i].disconnect(),n.splice(n.indexOf(e),1);for(i=0;i<l.length;i++)t||l[i].disconnect(),a.splice(a.indexOf(e),1);this.dependenciesFrom[e.getFromTaskId()]&&0===this.dependenciesFrom[e.getFromTaskId()].length&&delete this.dependenciesFrom[e.getFromTaskId()],this.dependenciesTo[e.getToTaskId()]&&0===this.dependenciesTo[e.getToTaskId()].length&&delete this.dependenciesTo[e.getToTaskId()]},this.getTaskDependencies=function(e){var t=[],n=s.dependenciesFrom[e.model.id];n&&(t=t.concat(n));var o=s.dependenciesTo[e.model.id];return o&&(t=t.concat(o)),t},this.setDraggingConnection=function(e){e?(s.draggingConnection=e,r.default.forEach(s.tasks,function(e){e.dependencies.mouseHandler.release()})):(s.draggingConnection=void 0,r.default.forEach(s.tasks,function(e){e.dependencies.mouseHandler.install()}))};var u=function(e){var t=e.row.model.dependencies;if(void 0!==t)return!1!==t;var n=e.model.dependencies;return void 0===n||!1!==n},c=function(e){if(e.dependencies||(e.dependencies={}),e.dependencies.endpoints=[],s.pluginScope.endpoints&&e.$element){var t=!0,n=!1,o=void 0;try{for(var i,l=(0,a.default)(s.pluginScope.endpoints);!(t=(i=l.next()).done);t=!0){var r=i.value,A=s.plumb.addEndpoint(e.$element,r);A.setVisible(!1,!0,!0),A.$task=e,e.dependencies.endpoints.push(A)}}catch(e){n=!0,o=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw o}}}},d=function(e){if(e.dependencies.endpoints){var t=!0,n=!1,o=void 0;try{for(var i,l=(0,a.default)(e.dependencies.endpoints);!(t=(i=l.next()).done);t=!0){var r=i.value;s.plumb.deleteEndpoint(r),r.$task=void 0}}catch(e){n=!0,o=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw o}}e.dependencies.endpoints=void 0}},C=function(e){e.dependencies||(e.dependencies={}),s.pluginScope.readOnly||(e.dependencies.mouseHandler=new n(s,e),e.dependencies.mouseHandler.install())},m=function(e){e.dependencies.mouseHandler&&(e.dependencies.mouseHandler.release(),e.dependencies.mouseHandler=void 0)};this.setTasks=function(e){r.default.forEach(s.tasks,function(e){m(e),d(e)});var t={},n=[],o=!0,i=!1,l=void 0;try{for(var A,f=(0,a.default)(e);!(o=(A=f.next()).done);o=!0){var p=A.value;u(p)&&(t[p.model.id]=p,n.push(p),c(p),C(p))}}catch(e){i=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw l}}s.tasks=t,s.tasksList=e};var f=function(e){var t=s.getTaskDependencies(e);if(t){var n=!0,o=!1,i=void 0;try{for(var l,r=(0,a.default)(t);!(n=(l=r.next()).done);n=!0){l.value.disconnect()}}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}}return t},p=function(e){var t=s.getTaskDependencies(e);if(t){var n=!0,o=!1,i=void 0;try{for(var l,r=(0,a.default)(t);!(n=(l=r.next()).done);n=!0){l.value.connect()}}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}}return t};this.setTask=function(e){s.plumb.setSuspendDrawing(!0);try{var t=s.tasks[e.model.id];void 0!==t&&(f(t),m(t),d(t)),u(e)&&(s.tasks[e.model.id]=e,c(e),C(e),p(e))}finally{s.plumb.setSuspendDrawing(!1,!0)}},this.getTask=function(e){return s.tasks[e]};var g=function(e){return e.dependencies.endpoints.filter(function(e){return e.isSource})},h=function(e){return e.dependencies.endpoints.filter(function(e){return e.isTarget})};this.connect=function(e,t,n){var o=g(e),i=h(t);if(o&&i){var a=void 0,l=void 0;a=n.connectParameters&&n.connectParameters.sourceEndpointIndex?o[n.connectParameters.sourceEndpointIndex]:o[0],l=n.connectParameters&&n.connectParameters.targetEndpointIndex?i[n.connectParameters.targetEndpointIndex]:i[0];var r=s.plumb.connect({source:a,target:l,parameters:{from:e,to:t}},n.connectParameters);return r.canvas.setAttribute("data-fromId",e.model.id),r.canvas.setAttribute("data-toId",t.model.id),r}},this.getDependencies=function(){var e=[];return r.default.forEach(this.dependenciesFrom,function(t){var n=!0,o=!1,i=void 0;try{for(var l,r=(0,a.default)(t);!(n=(l=r.next()).done);n=!0){var s=l.value;s in e||e.push(s)}}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}}),e},this.refresh=function(e){s.plumb.setSuspendDrawing(!0);try{var t=void 0,n=void 0;e&&!r.default.isArray(e)&&(e=[e]),void 0===e?(e=this.tasks,t=this.getDependencies()):(t=[],r.default.forEach(e,function(e){var n=s.getTaskDependencies(e);r.default.forEach(n,function(e){e in t||t.push(e)})}));for(n=0;n<t.length;n++)s.removeDependency(t[n]);r.default.forEach(e,function(e){s.addDependenciesFromTask(e)})}finally{s.plumb.setSuspendDrawing(!1,!0)}},this.api.registerMethod("dependencies","refresh",this.refresh,this)}}];var l=n(1),r=o(l),s=n(264),A=o(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=["ganttUtils","ganttDom",function(e,t){"ngInject";return function(n,o,a){var l=this;this.manager=n,this.task=o,this.model=a,this.connection=void 0,this.fallbackEndpoints=[],this.isConnected=function(){return!!this.connection},this.disconnect=function(){this.connection&&(this.connection.endpoints&&this.manager.plumb.detach(this.connection),this.connection.$dependency=void 0,this.connection=void 0),this.deleteFallbackEndpoints()},this.deleteFallbackEndpoints=function(){if(this.fallbackEndpoints){var e=!0,t=!1,n=void 0;try{for(var o,a=(0,i.default)(this.fallbackEndpoints);!(e=(o=a.next()).done);e=!0){var r=o.value;l.manager.plumb.deleteEndpoint(r)}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}this.fallbackEndpoints=[]}},this.getFromTaskId=function(){return void 0!==this.model.from?this.model.from:this.task.model.id},this.getToTaskId=function(){return void 0!==this.model.to?this.model.to:this.task.model.id},this.getFromTask=function(){return void 0!==this.model.from?this.manager.getTask(this.model.from):this.task},this.getToTask=function(){return void 0!==this.model.to?this.manager.getTask(this.model.to):this.task},this.removeFromTaskModel=function(){var t=e.angularIndexOf(this.task.model.dependencies,this.model);return t>=0&&this.task.model.dependencies.splice(t,1),t};var r=function(e){if(void 0===e||void 0===e.$element)return!1;var n=e.$element[0];return t.isElementVisible(n)};this.connect=function(){var e=this.getFromTask(),t=this.getToTask();if(r(e)||(e=void 0),r(t)||(t=void 0),e&&t){var n=this.manager.connect(e,t,this.model);if(n)return n.$dependency=this,this.connection=n,!0}if(this.deleteFallbackEndpoints(),void 0!==e){var o=this.manager.pluginScope.fallbackEndpoints[1];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(e.$element,o))}if(void 0!==t){var i=this.manager.pluginScope.fallbackEndpoints[0];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(t.$element,i))}return!1}}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$timeout",function(e){"ngInject";return function(t,n){var o=this;this.manager=t,this.task=n,this.installed=!1,this.elementHandlers=[],this.display=!0,this.hideEndpointsPromise=void 0;var a=function(t){this.element=t,this.mouseExitHandler=function(){e.cancel(o.hideEndpointsPromise),o.hideEndpointsPromise=e(o.hideEndpoints,1e3,!1)},this.mouseEnterHandler=function(){e.cancel(o.hideEndpointsPromise),o.displayEndpoints()},this.install=function(){this.element.bind("mouseenter",this.mouseEnterHandler),this.element.bind("mouseleave",this.mouseExitHandler)},this.release=function(){this.element.unbind("mouseenter",this.mouseEnterHandler),this.element.unbind("mouseleave",this.mouseExitHandler),e.cancel(o.hideEndpointsPromise)}};this.install=function(){o.installed||(o.hideEndpoints(),o.task.getContentElement()&&(o.elementHandlers.push(new a(o.task.getContentElement())),i.default.forEach(o.task.dependencies.endpoints,function(e){o.elementHandlers.push(new a(i.default.element(e.canvas)))}),i.default.forEach(o.elementHandlers,function(e){e.install()}),o.installed=!0))},this.release=function(){o.installed&&(i.default.forEach(o.elementHandlers,function(e){e.release()}),o.elementHandlers=[],o.displayEndpoints(),o.installed=!1)},this.displayEndpoints=function(){o.display=!0,i.default.forEach(o.task.dependencies.endpoints,function(e){e.setVisible(!0,!0,!0)})},this.hideEndpoints=function(){i.default.forEach(o.task.dependencies.endpoints,function(e){e.setVisible(!1,!0,!0)}),o.display=!1}}}];var o=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i),l=function(){var e="/home/toilal/idea-projects/angular-gantt/src/plugins/drawtask/drawTask.directive.ts",t="1a40c21e88127327f7b8d37cbfff736f6b74649a",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/plugins/drawtask/drawTask.directive.ts",statementMap:{0:{start:{line:5,column:4},end:{line:113,column:6}},1:{start:{line:14,column:22},end:{line:14,column:41}},2:{start:{line:16,column:12},end:{line:20,column:13}},3:{start:{line:17,column:16},end:{line:19,column:17}},4:{start:{line:18,column:20},end:{line:18,column:67}},5:{start:{line:21,column:12},end:{line:23,column:13}},6:{start:{line:22,column:16},end:{line:22,column:37}},7:{start:{line:24,column:12},end:{line:26,column:13}},8:{start:{line:25,column:16},end:{line:25,column:40}},9:{start:{line:27,column:12},end:{line:31,column:13}},10:{start:{line:28,column:16},end:{line:30,column:18}},11:{start:{line:29,column:20},end:{line:29,column:30}},12:{start:{line:32,column:12},end:{line:32,column:47}},13:{start:{line:33,column:12},end:{line:33,column:52}},14:{start:{line:34,column:12},end:{line:34,column:50}},15:{start:{line:35,column:31},end:{line:42,column:13}},16:{start:{line:36,column:16},end:{line:41,column:17}},17:{start:{line:37,column:20},end:{line:37,column:60}},18:{start:{line:40,column:20},end:{line:40,column:47}},19:{start:{line:43,column:12},end:{line:105,column:15}},20:{start:{line:44,column:16},end:{line:104,column:17}},21:{start:{line:45,column:37},end:{line:57,column:21}},22:{start:{line:46,column:40},end:{line:46,column:75}},23:{start:{line:47,column:38},end:{line:47,column:55}},24:{start:{line:48,column:40},end:{line:48,column:72}},25:{start:{line:49,column:24},end:{line:49,column:51}},26:{start:{line:50,column:24},end:{line:50,column:47}},27:{start:{line:51,column:35},end:{line:51,column:72}},28:{start:{line:52,column:24},end:{line:52,column:47}},29:{start:{line:53,column:24},end:{line:53,column:48}},30:{start:{line:54,column:24},end:{line:54,column:64}},31:{start:{line:55,column:24},end:{line:55,column:60}},32:{start:{line:56,column:24},end:{line:56,column:36}},33:{start:{line:58,column:44},end:{line:68,column:21}},34:{start:{line:59,column:45},end:{line:61,column:25}},35:{start:{line:60,column:28},end:{line:60,column:92}},36:{start:{line:62,column:24},end:{line:62,column:93}},37:{start:{line:63,column:24},end:{line:63,column:66}},38:{start:{line:64,column:24},end:{line:67,column:27}},39:{start:{line:65,column:28},end:{line:65,column:95}},40:{start:{line:66,column:28},end:{line:66,column:71}},41:{start:{line:69,column:39},end:{line:82,column:21}},42:{start:{line:70,column:42},end:{line:77,column:25}},43:{start:{line:71,column:43},end:{line:71,column:76}},44:{start:{line:72,column:28},end:{line:76,column:29}},45:{start:{line:73,column:32},end:{line:73,column:70}},46:{start:{line:74,column:43},end:{line:74,column:61}},47:{start:{line:75,column:32},end:{line:75,column:56}},48:{start:{line:78,column:24},end:{line:78,column:61}},49:{start:{line:79,column:24},end:{line:81,column:27}},50:{start:{line:80,column:28},end:{line:80,column:66}},51:{start:{line:83,column:38},end:{line:101,column:21}},52:{start:{line:84,column:41},end:{line:84,column:81}},53:{start:{line:85,column:42},end:{line:85,column:75}},54:{start:{line:86,column:24},end:{line:88,column:25}},55:{start:{line:87,column:28},end:{line:87,column:67}},56:{start:{line:89,column:43},end:{line:89,column:108}},57:{start:{line:90,column:38},end:{line:90,column:125}},58:{start:{line:91,column:24},end:{line:100,column:25}},59:{start:{line:92,column:36},end:{line:92,column:69}},60:{start:{line:93,column:28},end:{line:99,column:29}},61:{start:{line:94,column:43},end:{line:94,column:56}},62:{start:{line:95,column:32},end:{line:95,column:56}},63:{start:{line:98,column:32},end:{line:98,column:48}},64:{start:{line:102,column:20},end:{line:102,column:57}},65:{start:{line:103,column:20},end:{line:103,column:65}},66:{start:{line:106,column:12},end:{line:111,column:15}},67:{start:{line:107,column:16},end:{line:110,column:17}},68:{start:{line:108,column:20},end:{line:108,column:77}},69:{start:{line:109,column:20},end:{line:109,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:15},end:{line:3,column:16}},loc:{start:{line:3,column:66},end:{line:114,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:13,column:14},end:{line:13,column:15}},loc:{start:{line:13,column:58},end:{line:112,column:9}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:28,column:36},end:{line:28,column:37}},loc:{start:{line:28,column:48},end:{line:30,column:17}},line:28},3:{name:"(anonymous_3)",decl:{start:{line:35,column:31},end:{line:35,column:32}},loc:{start:{line:35,column:46},end:{line:42,column:13}},line:35},4:{name:"(anonymous_4)",decl:{start:{line:43,column:41},end:{line:43,column:42}},loc:{start:{line:43,column:91},end:{line:105,column:13}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:45,column:37},end:{line:45,column:38}},loc:{start:{line:45,column:50},end:{line:57,column:21}},line:45},6:{name:"(anonymous_6)",decl:{start:{line:58,column:44},end:{line:58,column:45}},loc:{start:{line:58,column:60},end:{line:68,column:21}},line:58},7:{name:"(anonymous_7)",decl:{start:{line:59,column:45},end:{line:59,column:46}},loc:{start:{line:59,column:57},end:{line:61,column:25}},line:59},8:{name:"(anonymous_8)",decl:{start:{line:64,column:49},end:{line:64,column:50}},loc:{start:{line:64,column:61},end:{line:67,column:25}},line:64},9:{name:"(anonymous_9)",decl:{start:{line:69,column:39},end:{line:69,column:40}},loc:{start:{line:69,column:57},end:{line:82,column:21}},line:69},10:{name:"(anonymous_10)",decl:{start:{line:70,column:42},end:{line:70,column:43}},loc:{start:{line:70,column:57},end:{line:77,column:25}},line:70},11:{name:"(anonymous_11)",decl:{start:{line:79,column:49},end:{line:79,column:50}},loc:{start:{line:79,column:61},end:{line:81,column:25}},line:79},12:{name:"(anonymous_12)",decl:{start:{line:83,column:38},end:{line:83,column:39}},loc:{start:{line:83,column:53},end:{line:101,column:21}},line:83},13:{name:"(anonymous_13)",decl:{start:{line:106,column:45},end:{line:106,column:46}},loc:{start:{line:106,column:95},end:{line:111,column:13}},line:106}},branchMap:{0:{loc:{start:{line:16,column:12},end:{line:20,column:13}},type:"if",locations:[{start:{line:16,column:12},end:{line:20,column:13}},{start:{line:16,column:12},end:{line:20,column:13}}],line:16},1:{loc:{start:{line:16,column:16},end:{line:16,column:77}},type:"binary-expr",locations:[{start:{line:16,column:16},end:{line:16,column:29}},{start:{line:16,column:33},end:{line:16,column:77}}],line:16},2:{loc:{start:{line:21,column:12},end:{line:23,column:13}},type:"if",locations:[{start:{line:21,column:12},end:{line:23,column:13}},{start:{line:21,column:12},end:{line:23,column:13}}],line:21},3:{loc:{start:{line:24,column:12},end:{line:26,column:13}},type:"if",locations:[{start:{line:24,column:12},end:{line:26,column:13}},{start:{line:24,column:12},end:{line:26,column:13}}],line:24},4:{loc:{start:{line:27,column:12},end:{line:31,column:13}},type:"if",locations:[{start:{line:27,column:12},end:{line:31,column:13}},{start:{line:27,column:12},end:{line:31,column:13}}],line:27},5:{loc:{start:{line:36,column:16},end:{line:41,column:17}},type:"if",locations:[{start:{line:36,column:16},end:{line:41,column:17}},{start:{line:36,column:16},end:{line:41,column:17}}],line:36},6:{loc:{start:{line:36,column:20},end:{line:36,column:92}},type:"binary-expr",locations:[{start:{line:36,column:20},end:{line:36,column:38}},{start:{line:36,column:42},end:{line:36,column:92}}],line:36},7:{loc:{start:{line:44,column:16},end:{line:104,column:17}},type:"if",locations:[{start:{line:44,column:16},end:{line:104,column:17}},{start:{line:44,column:16},end:{line:104,column:17}}],line:44},8:{loc:{start:{line:72,column:28},end:{line:76,column:29}},type:"if",locations:[{start:{line:72,column:28},end:{line:76,column:29}},{start:{line:72,column:28},end:{line:76,column:29}}],line:72},9:{loc:{start:{line:84,column:41},end:{line:84,column:81}},type:"cond-expr",locations:[{start:{line:84,column:54},end:{line:84,column:64}},{start:{line:84,column:67},end:{line:84,column:81}}],line:84},10:{loc:{start:{line:86,column:24},end:{line:88,column:25}},type:"if",locations:[{start:{line:86,column:24},end:{line:88,column:25}},{start:{line:86,column:24},end:{line:88,column:25}}],line:86},11:{loc:{start:{line:86,column:28},end:{line:86,column:97}},type:"binary-expr",locations:[{start:{line:86,column:28},end:{line:86,column:62}},{start:{line:86,column:66},end:{line:86,column:97}}],line:86},12:{loc:{start:{line:90,column:38},end:{line:90,column:125}},type:"cond-expr",locations:[{start:{line:90,column:73},end:{line:90,column:110}},{start:{line:90,column:113},end:{line:90,column:125}}],line:90},13:{loc:{start:{line:91,column:24},end:{line:100,column:25}},type:"if",locations:[{start:{line:91,column:24},end:{line:100,column:25}},{start:{line:91,column:24},end:{line:100,column:25}}],line:91},14:{loc:{start:{line:91,column:28},end:{line:91,column:84}},type:"binary-expr",locations:[{start:{line:91,column:28},end:{line:91,column:35}},{start:{line:91,column:39},end:{line:91,column:84}}],line:91},15:{loc:{start:{line:93,column:28},end:{line:99,column:29}},type:"if",locations:[{start:{line:93,column:28},end:{line:99,column:29}},{start:{line:93,column:28},end:{line:99,column:29}}],line:93},16:{loc:{start:{line:107,column:16},end:{line:110,column:17}},type:"if",locations:[{start:{line:107,column:16},end:{line:110,column:17}},{start:{line:107,column:16},end:{line:110,column:17}}],line:107}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0]},inputSourceMap:{version:3,file:"src/plugins/drawtask/drawTask.directive.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/plugins/drawtask/drawTask.directive.ts"],names:[],mappings:"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",sourcesContent:["import angular from 'angular';\n\nimport moment from 'moment';\n\nimport GanttUtilsService from '../../core/logic/util/utils.service';\n\nexport default function ($document, ganttMouseOffset, ganttUtils: GanttUtilsService) {\n  'ngInject';\n  return {\n    restrict: 'E',\n    require: '^gantt',\n    scope: {\n      enabled: '=?',\n      moveThreshold: '=?',\n      taskFactory: '=?'\n    },\n    link: function (scope, element, attrs, ganttCtrl) {\n      let api = ganttCtrl.gantt.api;\n\n      // Load options from global options attribute.\n      if (scope.options && typeof(scope.options.drawtask) === 'object') {\n        for (let option in scope.options.drawtask) {\n          scope[option] = scope.options.drawtask[option];\n        }\n      }\n\n      if (scope.enabled === undefined) {\n        scope.enabled = true;\n      }\n\n      if (scope.moveThreshold === undefined) {\n        scope.moveThreshold = 0;\n      }\n\n      if (scope.taskFactory === undefined) {\n        scope.taskFactory = function () {\n          return {}; // New empty task.\n        };\n      }\n\n      api.registerEvent('tasks', 'draw');\n      api.registerEvent('tasks', 'drawBegin');\n      api.registerEvent('tasks', 'drawEnd');\n\n      let newTaskModel = function (row) {\n        if (row.model.drawTask && angular.isFunction(row.model.drawTask.taskFactory)) {\n          return row.model.drawTask.taskFactory();\n        } else {\n          return scope.taskFactory();\n        }\n      };\n\n      api.directives.on.new(scope, function (directiveName, directiveScope, element) {\n        if (directiveName === 'ganttRow') {\n          let addNewTask = function (x) {\n            let startDate = api.core.getDateByPosition(x, true);\n            let endDate = moment(startDate);\n\n            let taskModel = newTaskModel(directiveScope.row);\n            taskModel.from = startDate;\n            taskModel.to = endDate;\n\n            let task = directiveScope.row.addTask(taskModel);\n            task.isResizing = true;\n            task.updatePosAndSize();\n            directiveScope.row.updateVisibleTasks();\n\n            directiveScope.row.$scope.$digest();\n\n            return task;\n          };\n\n          let addEventListeners = function (task) {\n            let raiseDrawEvent = function () {\n              directiveScope.row.rowsManager.gantt.api.tasks.raise.draw(task);\n            };\n\n            directiveScope.row.rowsManager.gantt.api.tasks.raise.drawBegin(task);\n\n            $document.on('mousemove', raiseDrawEvent);\n\n            $document.one('mouseup', function () {\n              directiveScope.row.rowsManager.gantt.api.tasks.raise.drawEnd(task);\n              $document.off('mousemove', raiseDrawEvent);\n            });\n          };\n\n          let deferDrawing = function (startX) {\n            let moveTrigger = function (evt) {\n              let currentX = ganttMouseOffset.getOffset(evt).x;\n\n              if (Math.abs(startX - currentX) >= scope.moveThreshold) {\n                element.off('mousemove', moveTrigger);\n                let task = addNewTask(startX);\n                addEventListeners(task);\n              }\n            };\n\n            element.on('mousemove', moveTrigger);\n            $document.one('mouseup', function () {\n              element.off('mousemove', moveTrigger);\n            });\n          };\n\n          let drawHandler = function (evt) {\n            let evtTarget = (evt.target ? evt.target : evt.srcElement);\n\n            let rowDrawTask = directiveScope.row.model.drawTask;\n\n            if (typeof(rowDrawTask) === 'boolean' || angular.isFunction(rowDrawTask)) {\n              rowDrawTask = {enabled: rowDrawTask};\n            }\n\n            let enabledValue = ganttUtils.firstProperty([rowDrawTask], 'enabled', scope.enabled);\n            let enabled = angular.isFunction(enabledValue) ? enabledValue(evt, directiveScope.row) : enabledValue;\n            if (enabled && evtTarget.className.indexOf('gantt-row') > -1) {\n              let x = ganttMouseOffset.getOffset(evt).x;\n\n              if (scope.moveThreshold === 0) {\n                let task = addNewTask(x);\n                addEventListeners(task);\n              } else {\n                deferDrawing(x);\n              }\n            }\n          };\n\n          element.on('mousedown', drawHandler);\n          directiveScope.drawTaskHandler = drawHandler;\n        }\n      });\n\n      api.directives.on.destroy(scope, function (directiveName, directiveScope, element) {\n        if (directiveName === 'ganttRow') {\n          element.off('mousedown', directiveScope.drawTaskHandler);\n          delete directiveScope.drawTaskHandler;\n        }\n      });\n    }\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=["$document","ganttMouseOffset","ganttUtils",function(e,t,n){"ngInject";return++l.f[0],++l.s[0],{restrict:"E",require:"^gantt",scope:{enabled:"=?",moveThreshold:"=?",taskFactory:"=?"},link:function(o,i,r,A){++l.f[1];var c=(++l.s[1],A.gantt.api);if(++l.s[2],++l.b[1][0],o.options&&(++l.b[1][1],"object"===(0,a.default)(o.options.drawtask))){++l.b[0][0],++l.s[3];for(var d in o.options.drawtask)++l.s[4],o[d]=o.options.drawtask[d]}else++l.b[0][1];++l.s[5],void 0===o.enabled?(++l.b[2][0],++l.s[6],o.enabled=!0):++l.b[2][1],++l.s[7],void 0===o.moveThreshold?(++l.b[3][0],++l.s[8],o.moveThreshold=0):++l.b[3][1],++l.s[9],void 0===o.taskFactory?(++l.b[4][0],++l.s[10],o.taskFactory=function(){return++l.f[2],++l.s[11],{}}):++l.b[4][1],++l.s[12],c.registerEvent("tasks","draw"),++l.s[13],c.registerEvent("tasks","drawBegin"),++l.s[14],c.registerEvent("tasks","drawEnd"),++l.s[15];var C=function(e){return++l.f[3],++l.s[16],++l.b[6][0],e.model.drawTask&&(++l.b[6][1],s.default.isFunction(e.model.drawTask.taskFactory))?(++l.b[5][0],++l.s[17],e.model.drawTask.taskFactory()):(++l.b[5][1],++l.s[18],o.taskFactory())};++l.s[19],c.directives.on.new(o,function(i,a,r){if(++l.f[4],++l.s[20],"ganttRow"===i){++l.b[7][0],++l.s[21];var A=function(e){++l.f[5];var t=(++l.s[22],c.core.getDateByPosition(e,!0)),n=(++l.s[23],(0,u.default)(t)),o=(++l.s[24],C(a.row));++l.s[25],o.from=t,++l.s[26],o.to=n;var i=(++l.s[27],a.row.addTask(o));return++l.s[28],i.isResizing=!0,++l.s[29],i.updatePosAndSize(),++l.s[30],a.row.updateVisibleTasks(),++l.s[31],a.row.$scope.$digest(),++l.s[32],i};++l.s[33];var d=function(t){++l.f[6],++l.s[34];var n=function(){++l.f[7],++l.s[35],a.row.rowsManager.gantt.api.tasks.raise.draw(t)};++l.s[36],a.row.rowsManager.gantt.api.tasks.raise.drawBegin(t),++l.s[37],e.on("mousemove",n),++l.s[38],e.one("mouseup",function(){++l.f[8],++l.s[39],a.row.rowsManager.gantt.api.tasks.raise.drawEnd(t),++l.s[40],e.off("mousemove",n)})};++l.s[41];var m=function(n){++l.f[9],++l.s[42];var i=function e(i){++l.f[10];var a=(++l.s[43],t.getOffset(i).x);if(++l.s[44],Math.abs(n-a)>=o.moveThreshold){++l.b[8][0],++l.s[45],r.off("mousemove",e);var s=(++l.s[46],A(n));++l.s[47],d(s)}else++l.b[8][1]};++l.s[48],r.on("mousemove",i),++l.s[49],e.one("mouseup",function(){++l.f[11],++l.s[50],r.off("mousemove",i)})};++l.s[51];var f=function(e){++l.f[12];var i=(++l.s[52],e.target?(++l.b[9][0],e.target):(++l.b[9][1],e.srcElement)),r=(++l.s[53],a.row.model.drawTask);++l.s[54],++l.b[11][0],"boolean"==typeof r||(++l.b[11][1],s.default.isFunction(r))?(++l.b[10][0],++l.s[55],r={enabled:r}):++l.b[10][1];var u=(++l.s[56],n.firstProperty([r],"enabled",o.enabled)),c=(++l.s[57],s.default.isFunction(u)?(++l.b[12][0],u(e,a.row)):(++l.b[12][1],u));if(++l.s[58],++l.b[14][0],c&&(++l.b[14][1],i.className.indexOf("gantt-row")>-1)){++l.b[13][0];var C=(++l.s[59],t.getOffset(e).x);if(++l.s[60],0===o.moveThreshold){++l.b[15][0];var f=(++l.s[61],A(C));++l.s[62],d(f)}else++l.b[15][1],++l.s[63],m(C)}else++l.b[13][1]};++l.s[64],r.on("mousedown",f),++l.s[65],a.drawTaskHandler=f}else++l.b[7][1]}),++l.s[66],c.directives.on.destroy(o,function(e,t,n){++l.f[13],++l.s[67],"ganttRow"===e?(++l.b[16][0],++l.s[68],n.off("mousedown",t.drawTaskHandler),++l.s[69],delete t.drawTaskHandler):++l.b[16][1]})}}}];var r=n(1),s=o(r),A=n(3),u=o(A)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e="/home/toilal/idea-projects/angular-gantt/src/plugins/groups/group.controller.ts",t="03e41c86d6be05f8242ab7576e1f5c19c4b69118",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/plugins/groups/group.controller.ts",statementMap:{0:{start:{line:3,column:26},end:{line:19,column:5}},1:{start:{line:4,column:24},end:{line:4,column:47}},2:{start:{line:5,column:8},end:{line:7,column:9}},3:{start:{line:6,column:12},end:{line:6,column:47}},4:{start:{line:8,column:27},end:{line:8,column:103}},5:{start:{line:9,column:8},end:{line:18,column:9}},6:{start:{line:10,column:12},end:{line:10,column:106}},7:{start:{line:11,column:12},end:{line:11,column:82}},8:{start:{line:12,column:12},end:{line:12,column:35}},9:{start:{line:13,column:12},end:{line:13,column:85}},10:{start:{line:16,column:12},end:{line:16,column:41}},11:{start:{line:17,column:12},end:{line:17,column:39}},12:{start:{line:20,column:4},end:{line:38,column:7}},13:{start:{line:21,column:8},end:{line:37,column:9}},14:{start:{line:22,column:12},end:{line:36,column:13}},15:{start:{line:23,column:16},end:{line:23,column:34}},16:{start:{line:24,column:16},end:{line:26,column:17}},17:{start:{line:25,column:20},end:{line:25,column:37}},18:{start:{line:29,column:34},end:{line:29,column:86}},19:{start:{line:30,column:16},end:{line:35,column:17}},20:{start:{line:31,column:20},end:{line:31,column:38}},21:{start:{line:32,column:20},end:{line:34,column:21}},22:{start:{line:33,column:24},end:{line:33,column:41}},23:{start:{line:39,column:22},end:{line:39,column:75}},24:{start:{line:40,column:4},end:{line:40,column:79}},25:{start:{line:41,column:4},end:{line:41,column:65}},26:{start:{line:42,column:4},end:{line:42,column:40}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:61},end:{line:43,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:3,column:26},end:{line:3,column:27}},loc:{start:{line:3,column:38},end:{line:19,column:5}},line:3},2:{name:"(anonymous_2)",decl:{start:{line:20,column:49},end:{line:20,column:50}},loc:{start:{line:20,column:65},end:{line:38,column:5}},line:20}},branchMap:{0:{loc:{start:{line:5,column:8},end:{line:7,column:9}},type:"if",locations:[{start:{line:5,column:8},end:{line:7,column:9}},{start:{line:5,column:8},end:{line:7,column:9}}],line:5},1:{loc:{start:{line:9,column:8},end:{line:18,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:18,column:9}},{start:{line:9,column:8},end:{line:18,column:9}}],line:9},2:{loc:{start:{line:21,column:8},end:{line:37,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:37,column:9}},{start:{line:21,column:8},end:{line:37,column:9}}],line:21},3:{loc:{start:{line:22,column:12},end:{line:36,column:13}},type:"if",locations:[{start:{line:22,column:12},end:{line:36,column:13}},{start:{line:22,column:12},end:{line:36,column:13}}],line:22},4:{loc:{start:{line:24,column:16},end:{line:26,column:17}},type:"if",locations:[{start:{line:24,column:16},end:{line:26,column:17}},{start:{line:24,column:16},end:{line:26,column:17}}],line:24},5:{loc:{start:{line:24,column:20},end:{line:24,column:60}},type:"binary-expr",locations:[{start:{line:24,column:20},end:{line:24,column:35}},{start:{line:24,column:39},end:{line:24,column:60}}],line:24},6:{loc:{start:{line:30,column:16},end:{line:35,column:17}},type:"if",locations:[{start:{line:30,column:16},end:{line:35,column:17}},{start:{line:30,column:16},end:{line:35,column:17}}],line:30},7:{loc:{start:{line:32,column:20},end:{line:34,column:21}},type:"if",locations:[{start:{line:32,column:20},end:{line:34,column:21}},{start:{line:32,column:20},end:{line:34,column:21}}],line:32},8:{loc:{start:{line:32,column:24},end:{line:32,column:64}},type:"binary-expr",locations:[{start:{line:32,column:24},end:{line:32,column:39}},{start:{line:32,column:43},end:{line:32,column:64}}],line:32}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:"src/plugins/groups/group.controller.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/plugins/groups/group.controller.ts"],names:[],mappings:"AAEA,MAAM,CAAC,OAAO,WAAW,MAAM,EAAE,cAAc,EAAE,UAA6B;IAC5E,UAAU,CAAC;IACX,IAAI,eAAe,GAAG;QACpB,IAAI,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC;QAExC,EAAE,CAAC,CAAC,OAAM,CAAC,SAAS,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC;YACpC,SAAS,GAAG,EAAC,OAAO,EAAE,SAAS,EAAC,CAAC;QACnC,CAAC;QAED,IAAI,YAAY,GAAG,UAAU,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAChG,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;YACjB,MAAM,CAAC,OAAO,GAAG,UAAU,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAC9F,MAAM,CAAC,SAAS,GAAG,IAAI,cAAc,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;YAEtE,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC;YACvB,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;QAC3E,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,SAAS,GAAG,SAAS,CAAC;YAC7B,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC;QAC7B,CAAC;IACH,CAAC,CAAC;IAEF,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,MAAM,EAAE,UAAU,IAAI;QACzD,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,KAAK,SAAS,CAAC,CAAC,CAAC;YACnC,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9C,eAAe,EAAE,CAAC;gBAClB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;oBAC7C,MAAM,CAAC,OAAO,EAAE,CAAC;gBACnB,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBACvE,EAAE,CAAC,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBACvC,eAAe,EAAE,CAAC;oBAClB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;wBAC7C,MAAM,CAAC,OAAO,EAAE,CAAC;oBACnB,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,IAAI,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;IAExE,MAAM,CAAC,gBAAgB,CAAC,gCAAgC,EAAE,eAAe,CAAC,CAAC;IAE3E,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;IAE7D,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;AACtC,CAAC",sourcesContent:["import GanttUtilsService from '../../core/logic/util/utils.service';\n\nexport default function ($scope, GanttTaskGroup, ganttUtils: GanttUtilsService) {\n  'ngInject';\n  let updateTaskGroup = function () {\n    let rowGroups = $scope.row.model.groups;\n\n    if (typeof(rowGroups) === 'boolean') {\n      rowGroups = {enabled: rowGroups};\n    }\n\n    let enabledValue = ganttUtils.firstProperty([rowGroups], 'enabled', $scope.pluginScope.enabled);\n    if (enabledValue) {\n      $scope.display = ganttUtils.firstProperty([rowGroups], 'display', $scope.pluginScope.display);\n      $scope.taskGroup = new GanttTaskGroup($scope.row, $scope.pluginScope);\n\n      $scope.row.setFromTo();\n      $scope.row.setFromToByValues($scope.taskGroup.from, $scope.taskGroup.to);\n    } else {\n      $scope.taskGroup = undefined;\n      $scope.display = undefined;\n    }\n  };\n\n  $scope.gantt.api.tasks.on.viewChange($scope, function (task) {\n    if ($scope.taskGroup !== undefined) {\n      if ($scope.taskGroup.tasks.indexOf(task) > -1) {\n        updateTaskGroup();\n        if (!$scope.$$phase && !$scope.$root.$$phase) {\n          $scope.$digest();\n        }\n      } else {\n        let descendants = $scope.pluginScope.hierarchy.descendants($scope.row);\n        if (descendants.indexOf(task.row) > -1) {\n          updateTaskGroup();\n          if (!$scope.$$phase && !$scope.$root.$$phase) {\n            $scope.$digest();\n          }\n        }\n      }\n    }\n  });\n\n  let removeWatch = $scope.pluginScope.$watch('display', updateTaskGroup);\n\n  $scope.$watchCollection('gantt.rowsManager.filteredRows', updateTaskGroup);\n\n  $scope.gantt.api.columns.on.refresh($scope, updateTaskGroup);\n\n  $scope.$on('$destroy', removeWatch);\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=["$scope","GanttTaskGroup","ganttUtils",function(e,t,n){"ngInject";++o.f[0],++o.s[0];var i=function(){++o.f[1];var i=(++o.s[1],e.row.model.groups);++o.s[2],"boolean"==typeof i?(++o.b[0][0],++o.s[3],i={enabled:i}):++o.b[0][1];var a=(++o.s[4],n.firstProperty([i],"enabled",e.pluginScope.enabled));++o.s[5],a?(++o.b[1][0],++o.s[6],e.display=n.firstProperty([i],"display",e.pluginScope.display),++o.s[7],e.taskGroup=new t(e.row,e.pluginScope),++o.s[8],e.row.setFromTo(),++o.s[9],e.row.setFromToByValues(e.taskGroup.from,e.taskGroup.to)):(++o.b[1][1],++o.s[10],e.taskGroup=void 0,++o.s[11],e.display=void 0)};++o.s[12],e.gantt.api.tasks.on.viewChange(e,function(t){if(++o.f[2],++o.s[13],void 0!==e.taskGroup)if(++o.b[2][0],++o.s[14],e.taskGroup.tasks.indexOf(t)>-1)++o.b[3][0],++o.s[15],i(),++o.s[16],++o.b[5][0],e.$$phase||(++o.b[5][1],e.$root.$$phase)?++o.b[4][1]:(++o.b[4][0],++o.s[17],e.$digest());else{++o.b[3][1];var n=(++o.s[18],e.pluginScope.hierarchy.descendants(e.row));++o.s[19],n.indexOf(t.row)>-1?(++o.b[6][0],++o.s[20],i(),++o.s[21],++o.b[8][0],e.$$phase||(++o.b[8][1],e.$root.$$phase)?++o.b[7][1]:(++o.b[7][0],++o.s[22],e.$digest())):++o.b[6][1]}else++o.b[2][1]});var a=(++o.s[23],e.pluginScope.$watch("display",i));++o.s[24],e.$watchCollection("gantt.rowsManager.filteredRows",i),++o.s[25],e.gantt.api.columns.on.refresh(e,i),++o.s[26],e.$on("$destroy",a)}]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i);t.default=["ganttUtils","GanttHierarchy","$compile","$document",function(e,t,n,o){"ngInject";return{restrict:"E",require:"^gantt",scope:{enabled:"=?",display:"=?"},link:function(e,i,l,s){function A(){e.hierarchy.refresh(s.gantt.rowsManager.filteredRows)}var u=s.gantt.api;if(e.options&&"object"===(0,a.default)(e.options.groups))for(var c in e.options.groups)e[c]=e.options.groups[c];void 0===e.enabled&&(e.enabled=!0),void 0===e.display&&(e.display="group"),e.hierarchy=new t,s.gantt.api.registerMethod("groups","refresh",A,this),s.gantt.$scope.$watchCollection("gantt.rowsManager.filteredRows",function(){A()}),u.directives.on.new(e,function(t,i,a){if("ganttRow"===t){var s=i.$new();s.pluginScope=e;var A=o[0].createElement("div");r.default.element(A).attr("data-ng-if","pluginScope.enabled");var u=o[0].createElement("gantt-task-group");void 0!==l.templateUrl&&r.default.element(u).attr("data-template-url",l.templateUrl),void 0!==l.template&&r.default.element(u).attr("data-template",l.template),r.default.element(A).append(u),a.append(n(A)(s))}})}}}];var l=n(1),r=o(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";return new e("ganttTaskGroup","plugins/groups/taskGroup.tmpl.html").build()}],n(247)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=["ganttUtils","GanttTask",function(e,t){"ngInject";return function(n,o){var a=this;a.row=n,a.pluginScope=o,a.descendants=a.pluginScope.hierarchy.descendants(a.row),a.tasks=[],a.overviewTasks=[],a.promotedTasks=[],a.showGrouping=!1;var l=a.row.model.groups;"boolean"==typeof l&&(l={enabled:l});var r=!0,s=!1,A=void 0;try{for(var u,c=(0,i.default)(a.descendants);!(r=(u=c.next()).done);r=!0){var d=u.value,C=d.tasks,m=!0,f=!1,p=void 0;try{for(var g,h=(0,i.default)(C);!(m=(g=h.next()).done);m=!0){var v=g.value,y=function(t){var n=t.model.groups;"boolean"==typeof n&&(n={enabled:n});var o=t.row.model.groups;if("boolean"==typeof o&&(o={enabled:o}),e.firstProperty([n,o,l],"enabled",a.pluginScope.enabled))return e.firstProperty([n,o,l],"display",a.pluginScope.display)}(v);if(void 0!==y){a.tasks.push(v);var b=new t(a.row,v.model);"overview"===y?a.overviewTasks.push(b):"promote"===y?a.promotedTasks.push(b):a.showGrouping=!0}}}catch(e){f=!0,p=e}finally{try{!m&&h.return&&h.return()}finally{if(f)throw p}}}}catch(e){s=!0,A=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw A}}if(a.from=void 0,l&&(a.from=l.from),void 0===a.from){var w=!0,M=!1,k=void 0;try{for(var E,G=(0,i.default)(a.tasks);!(w=(E=G.next()).done);w=!0){var I=E.value;(void 0===a.from||I.model.from<a.from)&&(a.from=I.model.from)}}catch(e){M=!0,k=e}finally{try{!w&&G.return&&G.return()}finally{if(M)throw k}}}if(a.to=void 0,l&&(a.to=l.to),void 0===a.to){var B=!0,S=!1,O=void 0;try{for(var _,$=(0,i.default)(a.tasks);!(B=(_=$.next()).done);B=!0){var K=_.value;(void 0===a.to||K.model.to>a.to)&&(a.to=K.model.to)}}catch(e){S=!0,O=e}finally{try{!B&&$.return&&$.return()}finally{if(S)throw O}}}a.showGrouping&&(a.left=n.rowsManager.gantt.getPositionByDate(a.from),a.width=n.rowsManager.gantt.getPositionByDate(a.to)-a.left)}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttTaskOverview","plugins/groups/taskOverview.tmpl.html");return t.controller=function(e,t){e.task.$element=t,e.task.$scope=e,e.task.updatePosAndSize()},t.build()}],n(248)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=o(i),l=n(5),r=o(l);t.default=["ganttUtils","$compile","$document","$log",function(e,t,n,o){"ngInject";return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?"},link:function(e,i,l,s){function u(){var e=s.gantt.side.$element[0].getElementsByClassName("gantt-row-label"),t=0,n=!0,o=!1,i=void 0;try{for(var l,r=(0,a.default)(e);!(n=(l=r.next()).done);n=!0){var A=l.value,u=A.children[0].offsetWidth;t=Math.max(t,u)}}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}t>=0&&c.side.setWidth(t)}var c=s.gantt.api;if(o.warn("Angular Gantt Labels plugin is deprecated. Please use Table plugin instead."),e.options&&"object"===(0,r.default)(e.options.labels))for(var d in e.options.labels)e[d]=e.options.labels[d];void 0===e.enabled&&(e.enabled=!0),void 0===e.header&&(e.header="Name"),c.directives.on.new(e,function(o,i,a){if("ganttSideContent"===o){var l=i.$new();l.pluginScope=e;var r=n[0].createElement("div");A.default.element(r).attr("data-ng-if","pluginScope.enabled"),A.default.element(r).addClass("side-element");var s=n[0].createElement("gantt-side-content-labels");A.default.element(r).append(s),a.append(t(r)(l))}}),c.registerMethod("labels","fitSideWidth",u,this)}}}];var s=n(1),A=o(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder","ganttLayout",function(e,t){"ngInject";var n=new e("ganttLabelsBody","plugins/labels/labelsBody.tmpl.html");return n.controller=function(e){var n=t.getScrollBarHeight();e.getLabelsCss=function(){var t={},o=e.maxHeight;o||(o=e.gantt.getContainerHeight());var i=e.gantt.scroll.isHScrollbarVisible()?n:0;return t["max-height"]=o-i-e.gantt.header.getHeight()+"px",t}},n.build()}],n(249)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";return new e("ganttLabelsHeader","plugins/labels/labelsHeader.tmpl.html").build()}],n(250)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";return new e("ganttSideContentLabels","plugins/labels/sideContentLabels.tmpl.html").build()}],n(251)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i);t.default=["ganttMouseButton","ganttMouseOffset","GanttSmartEvent","ganttMovableOptions","ganttUtils","ganttDom","$window","$document","$timeout",function(e,t,n,o,i,l,s,A,u){"ngInject";return{restrict:"E",require:"^gantt",scope:{enabled:"=?",allowMoving:"=?",allowResizing:"=?",allowRowSwitching:"=?"},link:function(c,d,C,m){var f=m.gantt.api;if(c.options&&"object"===(0,a.default)(c.options.movable))for(var p in c.options.movable)c[p]=c.options.movable[p];o.initialize(c),f.registerEvent("tasks","move"),f.registerEvent("tasks","moveBegin"),f.registerEvent("tasks","moveEnd"),f.registerEvent("tasks","resize"),f.registerEvent("tasks","resizeBegin"),f.registerEvent("tasks","resizeEnd"),f.registerEvent("tasks","change");var g="ontouchstart"in s||s.DocumentTouch&&A[0]instanceof s.DocumentTouch,h=void 0,v=void 0;f.directives.on.new(c,function(o,a,d){if("ganttTask"===o){var C=r.default.element(s),f=a.row.rowsManager.gantt.body.$element,p=a.row.rowsManager.gantt.scroll.$element,y=!1,b=!1,w=void 0,M=a.task.getForegroundElement(),k=a.task.getContentElement(),E=function(n){n.preventDefault(),g&&(n=t.getTouch(n));var o=a.task.model.movable,l=a.task.row.model.movable;("boolean"==typeof o||r.default.isFunction(o))&&(o={enabled:o}),("boolean"==typeof l||r.default.isFunction(l))&&(l={enabled:l});var s=i.firstProperty([o,l],"enabled",c.enabled);if(r.default.isFunction(s)?s(n,a.task):s){var A=t.getOffsetForElement(M[0],n).x,u=_(A);if(""!==u&&1===e.getButton(n)){var d=t.getOffsetForElement(f[0],n).x;T(u,d)}a.$digest()}};M.on("touchstart mousedown",E),k.on("touchstart mousedown",E);var G=function(e){var n=a.task.model.movable,o=a.task.row.model.movable;("boolean"==typeof n||r.default.isFunction(n))&&(n={enabled:n}),("boolean"==typeof o||r.default.isFunction(o))&&(o={enabled:o});var l=i.firstProperty([n,o],"enabled",c.enabled);if((r.default.isFunction(l)?l(e,a.task):l)&&!a.task.isMoving){var s=t.getOffsetForElement(M[0],e).x,A=_(s);""!==A&&"M"!==A?(M.css("cursor",$(A)),k.css("cursor",$(A))):(M.css("cursor",""),k.css("cursor",""))}};M.on("mousemove",G),k.on("mousemove",G);var I=function(e){a.task.isMoving&&!a.destroyed&&(O(),B(e),S(e))},B=function(e){var n=y,o=t.getOffsetForElement(f[0],e),s=o.x;a.task.mouseOffsetX=s;var u=a.task.row.rowsManager.gantt.options.value("taskOutOfRange"),d=a.task.model.movable,C=a.task.row.model.movable;if(("boolean"==typeof d||r.default.isFunction(d))&&(d={enabled:d}),("boolean"==typeof C||r.default.isFunction(C))&&(C={enabled:C}),"M"===a.task.moveMode){var g=i.firstProperty([d,C],"allowRowSwitching",c.allowRowSwitching);if(g){var v=p[0].getBoundingClientRect(),w=v.left+v.width/2,M=r.default.element(A[0].querySelectorAll(".gantt-body"));M.css("pointer-events","auto");var k=l.findElementFromPoint(w,e.clientY,function(e){return r.default.element(e).hasClass("gantt-row")});M.css("pointer-events","");for(var E=m.gantt.rowsManager.rows,G=void 0,I=0,B=E.length;I<B;I++)if(k===E[I].$element[0]){G=E[I];break}var S=a.task.row;void 0!==G&&S!==G&&(r.default.isFunction(g)&&!g(a.task,G)||(G.moveTaskToRow(a.task,!0),y=!0))}i.firstProperty([d,C],"allowMoving",c.allowMoving)&&(s-=h,"truncate"!==u&&(s<0?s=0:s+a.task.width>=a.gantt.width&&(s=a.gantt.width-a.task.width)),a.task.moveTo(s,!0),a.$digest(),y&&a.row.rowsManager.gantt.api.tasks.raise.move(a.task),y=!0)}else"E"===a.task.moveMode?(s<=a.task.left&&(s=a.task.left,a.task.moveMode="W",K($(a.task.moveMode))),"truncate"!==u&&s>=a.gantt.width&&(s=a.gantt.width),a.task.setTo(s,!0),a.$digest(),y&&a.row.rowsManager.gantt.api.tasks.raise.resize(a.task),y=!0):(s>a.task.left+a.task.width&&(s=a.task.left+a.task.width,a.task.moveMode="E",K($(a.task.moveMode))),"truncate"!==u&&s<0&&(s=0),a.task.setFrom(s,!0),a.$digest(),y&&a.row.rowsManager.gantt.api.tasks.raise.resize(a.task),y=!0);n||!y||b||("M"===a.task.moveMode?a.row.rowsManager.gantt.api.tasks.raise.moveBegin(a.task):a.row.rowsManager.gantt.api.tasks.raise.resizeBegin(a.task))},S=function(e){var n=t.getOffsetForElement(f[0],e),o=p[0].scrollLeft,i=p[0].offsetWidth,l=p[0].scrollWidth,r=o+i,s=!1;n.x<v?o>0&&n.x<=o+5&&(n.x-=15,s=!0,a.row.rowsManager.gantt.api.scroll.left(15)):r<l&&n.x>=r-5&&(n.x+=15,s=!0,a.row.rowsManager.gantt.api.scroll.right(15)),s&&(w=u(function(){I(e)},100,!0))},O=function(){void 0!==w&&(u.cancel(w),w=void 0)},_=function(e){var t=0,n=a.task.model.movable,o=a.task.row.model.movable;"boolean"==typeof n&&(n={enabled:n}),"boolean"==typeof o&&(o={enabled:o});var l=i.firstProperty([n,o],"allowResizing",c.allowResizing),r=i.firstProperty([n,o],"allowRowSwitching",c.allowRowSwitching),s=i.firstProperty([n,o],"allowMoving",c.allowMoving);return l&&(t=M[0].offsetWidth<15?3:5),l&&e>M[0].offsetWidth-t?"E":l&&e<t?"W":(s||r)&&e>=t&&e<=M[0].offsetWidth-t?"M":""},$=function(e){switch(e){case"E":return"e-resize";case"W":return"w-resize";case"M":return"move"}},K=function(e){d.css("cursor",e),r.default.element(A[0].body).css({"-moz-user-select":""===e?"":"-moz-none","-webkit-user-select":""===e?"":"none","-ms-user-select":""===e?"":"none","user-select":""===e?"":"none",cursor:e})},T=function(e,o){void 0===a.task.originalModel&&(a.task.originalRow=a.task.row,a.task.originalModel=a.task.model,a.task.model=r.default.copy(a.task.originalModel)),b||(v=o,h=o-a.task.modelLeft),y=!1,a.task.moveMode=e,a.task.isMoving=!0,a.task.active=!0;var i=a.task.$element;"M"===a.task.moveMode?i.addClass("gantt-task-resizing"):i.addClass("gantt-task-moving");var l=function(e){e.stopImmediatePropagation(),g&&(e=t.getTouch(e)),I(e)},s=new n(a,C,"touchmove mousemove",l);s.bind(),new n(a,C,"touchend mouseup",function(e){g&&(e=t.getTouch(e)),s.unbind(),x(),a.$digest()}).bindOnce(),K($(e))},x=function(){if(void 0!==a.task.originalModel){if(a.task.originalModel.from=a.task.model.from,a.task.originalModel.to=a.task.model.to,a.task.originalModel.lct=a.task.model.lct,a.task.originalModel.est=a.task.model.est,a.task.model=a.task.originalModel,a.task.row.model.id!==a.task.originalRow.model.id){var e=a.task.row;e.removeTask(a.task.model.id,!1,!0),a.task.row=a.task.originalRow,e.moveTaskToRow(a.task,!1)}delete a.task.originalModel,delete a.task.originalRow,a.$apply()}b=!1,a.task.isMoving=!1,a.task.active=!1;var t=a.task.$element;t.removeClass("gantt-task-moving"),t.removeClass("gantt-task-resizing"),O(),K(""),!0===y&&("M"===a.task.moveMode?a.row.rowsManager.gantt.api.tasks.raise.moveEnd(a.task):a.row.rowsManager.gantt.api.tasks.raise.resizeEnd(a.task),y=!1,a.task.row.sortTasks(),a.row.rowsManager.gantt.api.tasks.raise.change(a.task)),a.task.moveMode=void 0};a.$on("$destroy",function(){a.destroyed=!0,O()}),a.task.isResizing?(b=!0,T("E",a.task.mouseOffsetX),delete a.task.isResizing):a.task.isMoving&&(b=!0,T("M",a.task.mouseOffsetX))}})}}}];var l=n(1),r=o(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{initialize:function(e){return e.enabled=void 0===e.enabled||e.enabled,e.allowMoving=void 0===e.allowMoving||!!e.allowMoving,e.allowResizing=void 0===e.allowResizing||!!e.allowResizing,i.default.isFunction(e.allowRowSwitching)||(e.allowRowSwitching=void 0===e.allowRowSwitching||!!e.allowRowSwitching),e}}};var o=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=o(i),l=n(5),r=o(l);t.default=["$timeout",function(e){"ngInject";return{restrict:"E",require:"^gantt",scope:{enabled:"=?",global:"=?"},link:function(t,n,o,i){function l(e){var t=void 0,n=void 0;return e.model.from.isBefore(e.model.to)?(t=e.model.from,n=e.model.to):(t=e.model.to,n=e.model.from),[t,n]}function s(e){var t=l(e);return A().range(t[0],t[1])}function u(e,t){t.model.id in e||!t.$element||(t.$element.addClass("gantt-task-overlaps"),e[t.model.id]=t)}function c(e,t){for(var n=0,o=t.length;n<o;n++){var i=t[n];i.model.id in e||!i.$element||i.$element.removeClass("gantt-task-overlaps")}}function d(e){var t={};if(e.length>1)for(var n=e[0],o=s(n),i=1,a=e.length;i<a;i++){var l=e[i],r=s(l);r.overlaps(o)&&(u(t,l),u(t,n)),n.left+n.width<l.left+l.width&&(n=l,o=r)}c(t,e)}function C(e,t){return e.sort(function(e,n){return t(e)<t(n)?-1:t(e)>t(n)?1:0})}function m(e){var t=[],n=!0,o=!1,i=void 0;try{for(var l,r=(0,a.default)(e);!(n=(l=r.next()).done);n=!0){var s=l.value;t.push.apply(t,s.tasks)}}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}t=C(t,function(e){return e.model.from}),d(t)}var f=i.gantt.api;if(t.options&&"object"===(0,r.default)(t.options.overlap))for(var p in t.options.overlap)t[p]=t.options.overlap[p];void 0===t.enabled&&(t.enabled=!0),void 0===t.global&&(t.global=!1),t.enabled&&(f.data.on.change(t,function(){e(function(){var e=f.gantt.rowsManager.rows;if(t.global)m(e);else{var n=!0,o=!1,i=void 0;try{for(var l,r=(0,a.default)(e);!(n=(l=r.next()).done);n=!0){d(l.value.tasks)}}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}}})}),f.tasks.on.change(t,function(e){if(t.global){m(e.row.rowsManager.rows)}else d(e.row.tasks)}),f.tasks.on.rowChange(t,function(e,n){if(t.global){m(e.row.rowsManager.rows)}else d(n.tasks),d(e.row.tasks)}),f.tasks.on.add(t,function(n){e(function(){if(t.global){m(n.row.rowsManager.rows)}else d(n.row.tasks)})}))}}}];var s=n(200),A=(0,s.extendMoment)(n(3))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i);t.default=["$compile","$document",function(e,t){"ngInject";return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(n,o,i,l){var s=l.gantt.api;if(n.options&&"object"===(0,a.default)(n.options.progress))for(var u in n.options.progress)n[u]=n.options.progress[u];void 0===n.enabled&&(n.enabled=!0),s.directives.on.new(n,function(o,a,l){if("ganttTaskBackground"===o){var s=a.$new();s.pluginScope=n;var A=t[0].createElement("div");r.default.element(A).attr("data-ng-if","task.model.progress !== undefined && pluginScope.enabled");var u=t[0].createElement("gantt-task-progress");void 0!==i.templateUrl&&r.default.element(u).attr("data-template-url",i.templateUrl),void 0!==i.template&&r.default.element(u).attr("data-template",i.template),r.default.element(A).append(u),l.append(e(A)(s))}}),s.tasks.on.clean(n,function(e){void 0===e.est||A.default.isMoment(e.est)||(e.est=(0,A.default)(e.est)),void 0===e.lct||A.default.isMoment(e.lct)||(e.lct=(0,A.default)(e.lct))})}}}];var l=n(1),r=o(l),s=n(3),A=o(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=["$templateCache",function(e){"ngInject";return{restrict:"E",requires:"^ganttTask",templateUrl:function(t,n){var o=void 0;return o=void 0===n.templateUrl?"plugins/progress/taskProgress.tmpl.html":n.templateUrl,void 0!==n.template&&e.put(o,n.template),o},replace:!0,scope:!0,controller:["$scope","$element",function(e,t){e.getClasses=function(){var t=[];return"object"===(0,i.default)(e.task.model.progress)&&(t=e.task.model.progress.classes),t},e.getCss=function(){var t={},n=void 0;return void 0!==e.task.model.progress&&(n="object"===(0,i.default)(e.task.model.progress)?e.task.model.progress:{percent:e.task.model.progress}),n&&(n.color?t["background-color"]=n.color:t["background-color"]="#6BC443",t.width=n.percent+"%"),t},e.task.rowsManager.gantt.api.directives.raise.new("ganttTaskProgress",e,t),e.$on("$destroy",function(){e.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskProgress",e,t)})}]}}],n(252)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i);t.default=function(){"ngInject";return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(e,t,n,o){function i(){var e=o.gantt.$element[0];return[new A.default(e,function(){var t=!1;Math.abs(e.clientWidth-o.gantt.$scope.ganttElementWidth)>1&&(o.gantt.$scope.ganttElementWidth=e.clientWidth,t=!0),Math.abs(e.clientHeight-o.gantt.$scope.ganttElementHeight)>1&&(o.gantt.$scope.ganttElementHeight=e.clientHeight,t=!0),t&&o.gantt.$scope.$apply()}),new A.default(e.parentElement,function(){var t=e.parentElement,n=t.offsetHeight,i=getComputedStyle(t);n=n-parseInt(i.marginTop,10)-parseInt(i.marginBottom,10),o.gantt.$scope.ganttContainerHeight=n;var a=t.offsetWidth;i=getComputedStyle(t),a=a-parseInt(i.marginLeft,10)-parseInt(i.marginRight,10),o.gantt.$scope.ganttContainerWidth=a,o.gantt.$scope.$apply()})]}function l(e){for(var t=0;t<e;t++)e[t].detach()}var s=o.gantt.api;if(e.options&&"object"===(0,a.default)(e.options.resizeSensor))for(var u in e.options.resizeSensor)e[u]=e.options.resizeSensor[u];void 0===e.enabled&&(e.enabled=!0);var c=!1,d=[];s.core.on.rendered(e,function(){c=!0,l(d),e.enabled&&(r.default.update(),d=i())}),e.$watch("enabled",function(e){c&&(e?(r.default.update(),d=i()):e||(l(d),d=[]))})}}};var l=n(261),r=o(l),s=n(262),A=o(s);r.default.listen()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i);t.default=["$compile","$document",function(e,t){"ngInject";return{restrict:"E",require:"^gantt",scope:{enabled:"=?",keepProportions:"=?",disableMagnet:"=?",disableDaily:"=?"},link:function(n,o,i,l){var s=l.gantt.api;if(n.options&&"object"===(0,a.default)(n.options.sections))for(var A in n.options.sections)n[A]=n.options.sections[A];void 0===n.enabled&&(n.enabled=!0),void 0===n.keepProportions&&(n.keepProportions=!0),s.directives.on.new(n,function(o,a,l){if("ganttTaskForeground"===o){var s=a.$new();s.pluginScope=n,s.task=a.task;var A=t[0].createElement("div");r.default.element(A).attr("data-ng-if","task.model.sections !== undefined && pluginScope.enabled"),r.default.element(A).attr("class","gantt-task-foreground-sections");var u=t[0].createElement("gantt-task-sections");void 0!==i.templateUrl&&r.default.element(u).attr("data-template-url",i.templateUrl),void 0!==i.template&&r.default.element(u).attr("data-template",i.template),r.default.element(A).append(u),l.append(e(A)(s))}})}}}];var l=n(1),r=o(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e="/home/toilal/idea-projects/angular-gantt/src/plugins/sections/taskSection.directive.ts",t="61f97e4c78c582374715bfb51177b21aba6318e4",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/plugins/sections/taskSection.directive.ts",statementMap:{0:{start:{line:2,column:0},end:{line:2,column:35}},1:{start:{line:5,column:4},end:{line:176,column:6}},2:{start:{line:10,column:12},end:{line:15,column:13}},3:{start:{line:11,column:16},end:{line:11,column:71}},4:{start:{line:14,column:16},end:{line:14,column:49}},5:{start:{line:16,column:12},end:{line:18,column:13}},6:{start:{line:17,column:16},end:{line:17,column:65}},7:{start:{line:19,column:12},end:{line:19,column:31}},8:{start:{line:29,column:27},end:{line:29,column:93}},9:{start:{line:30,column:25},end:{line:30,column:87}},10:{start:{line:31,column:36},end:{line:52,column:13}},11:{start:{line:32,column:16},end:{line:41,column:17}},12:{start:{line:34,column:40},end:{line:34,column:71}},13:{start:{line:35,column:39},end:{line:35,column:79}},14:{start:{line:36,column:20},end:{line:36,column:58}},15:{start:{line:37,column:20},end:{line:37,column:64}},16:{start:{line:38,column:20},end:{line:38,column:53}},17:{start:{line:39,column:20},end:{line:39,column:49}},18:{start:{line:40,column:20},end:{line:40,column:68}},19:{start:{line:42,column:41},end:{line:42,column:45}},20:{start:{line:43,column:16},end:{line:48,column:17}},21:{start:{line:44,column:20},end:{line:47,column:21}},22:{start:{line:45,column:24},end:{line:45,column:51}},23:{start:{line:46,column:24},end:{line:46,column:30}},24:{start:{line:49,column:16},end:{line:51,column:17}},25:{start:{line:50,column:20},end:{line:50,column:59}},26:{start:{line:53,column:12},end:{line:53,column:32}},27:{start:{line:54,column:26},end:{line:69,column:13}},28:{start:{line:55,column:16},end:{line:57,column:17}},29:{start:{line:56,column:20},end:{line:56,column:29}},30:{start:{line:58,column:28},end:{line:58,column:57}},31:{start:{line:59,column:31},end:{line:59,column:47}},32:{start:{line:61,column:36},end:{line:61,column:153}},33:{start:{line:62,column:16},end:{line:62,column:102}},34:{start:{line:63,column:35},end:{line:63,column:150}},35:{start:{line:64,column:16},end:{line:66,column:17}},36:{start:{line:65,column:20},end:{line:65,column:55}},37:{start:{line:67,column:34},end:{line:67,column:63}},38:{start:{line:68,column:16},end:{line:68,column:46}},39:{start:{line:70,column:27},end:{line:85,column:13}},40:{start:{line:71,column:38},end:{line:71,column:159}},41:{start:{line:72,column:16},end:{line:74,column:17}},42:{start:{line:73,column:20},end:{line:73,column:45}},43:{start:{line:75,column:28},end:{line:75,column:57}},44:{start:{line:76,column:31},end:{line:76,column:47}},45:{start:{line:77,column:36},end:{line:77,column:153}},46:{start:{line:78,column:25},end:{line:78,column:99}},47:{start:{line:79,column:35},end:{line:79,column:150}},48:{start:{line:80,column:16},end:{line:82,column:17}},49:{start:{line:81,column:20},end:{line:81,column:51}},50:{start:{line:83,column:35},end:{line:83,column:62}},51:{start:{line:84,column:16},end:{line:84,column:47}},52:{start:{line:86,column:30},end:{line:88,column:13}},53:{start:{line:87,column:16},end:{line:87,column:58}},54:{start:{line:89,column:33},end:{line:103,column:13}},55:{start:{line:90,column:34},end:{line:90,column:43}},56:{start:{line:91,column:35},end:{line:91,column:59}},57:{start:{line:92,column:38},end:{line:92,column:159}},58:{start:{line:93,column:16},end:{line:102,column:17}},59:{start:{line:96,column:20},end:{line:96,column:76}},60:{start:{line:97,column:20},end:{line:97,column:78}},61:{start:{line:100,column:20},end:{line:100,column:64}},62:{start:{line:101,column:20},end:{line:101,column:66}},63:{start:{line:104,column:28},end:{line:111,column:13}},64:{start:{line:105,column:16},end:{line:110,column:17}},65:{start:{line:106,column:20},end:{line:106,column:81}},66:{start:{line:109,column:20},end:{line:109,column:70}},67:{start:{line:112,column:12},end:{line:116,column:13}},68:{start:{line:113,column:16},end:{line:113,column:39}},69:{start:{line:114,column:16},end:{line:114,column:33}},70:{start:{line:115,column:16},end:{line:115,column:28}},71:{start:{line:117,column:36},end:{line:142,column:13}},72:{start:{line:118,column:16},end:{line:141,column:17}},73:{start:{line:120,column:32},end:{line:120,column:61}},74:{start:{line:121,column:38},end:{line:121,column:60}},75:{start:{line:122,column:40},end:{line:122,column:157}},76:{start:{line:124,column:20},end:{line:129,column:21}},77:{start:{line:125,column:24},end:{line:125,column:54}},78:{start:{line:128,column:24},end:{line:128,column:108}},79:{start:{line:131,column:20},end:{line:137,column:21}},80:{start:{line:132,column:24},end:{line:132,column:50}},81:{start:{line:135,column:43},end:{line:135,column:80}},82:{start:{line:136,column:24},end:{line:136,column:107}},83:{start:{line:138,column:20},end:{line:138,column:47}},84:{start:{line:139,column:20},end:{line:139,column:43}},85:{start:{line:140,column:20},end:{line:140,column:37}},86:{start:{line:143,column:35},end:{line:153,column:13}},87:{start:{line:144,column:16},end:{line:152,column:17}},88:{start:{line:145,column:32},end:{line:145,column:46}},89:{start:{line:146,column:20},end:{line:148,column:21}},90:{start:{line:147,column:24},end:{line:147,column:56}},91:{start:{line:149,column:20},end:{line:151,column:21}},92:{start:{line:150,column:24},end:{line:150,column:52}},93:{start:{line:154,column:12},end:{line:154,column:48}},94:{start:{line:155,column:12},end:{line:155,column:87}},95:{start:{line:156,column:12},end:{line:156,column:89}},96:{start:{line:157,column:45},end:{line:169,column:13}},97:{start:{line:158,column:36},end:{line:158,column:60}},98:{start:{line:159,column:16},end:{line:162,column:17}},99:{start:{line:160,column:20},end:{line:160,column:39}},100:{start:{line:161,column:20},end:{line:161,column:61}},101:{start:{line:163,column:16},end:{line:168,column:18}},102:{start:{line:170,column:12},end:{line:170,column:111}},103:{start:{line:171,column:12},end:{line:171,column:105}},104:{start:{line:172,column:12},end:{line:174,column:15}},105:{start:{line:173,column:16},end:{line:173,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:15},end:{line:3,column:16}},loc:{start:{line:3,column:41},end:{line:177,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:8,column:21},end:{line:8,column:22}},loc:{start:{line:8,column:49},end:{line:20,column:9}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:28,column:20},end:{line:28,column:21}},loc:{start:{line:28,column:60},end:{line:175,column:9}},line:28},3:{name:"(anonymous_3)",decl:{start:{line:31,column:36},end:{line:31,column:37}},loc:{start:{line:31,column:48},end:{line:52,column:13}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:54,column:26},end:{line:54,column:27}},loc:{start:{line:54,column:38},end:{line:69,column:13}},line:54},5:{name:"(anonymous_5)",decl:{start:{line:70,column:27},end:{line:70,column:28}},loc:{start:{line:70,column:39},end:{line:85,column:13}},line:70},6:{name:"(anonymous_6)",decl:{start:{line:86,column:30},end:{line:86,column:31}},loc:{start:{line:86,column:50},end:{line:88,column:13}},line:86},7:{name:"(anonymous_7)",decl:{start:{line:89,column:33},end:{line:89,column:34}},loc:{start:{line:89,column:45},end:{line:103,column:13}},line:89},8:{name:"(anonymous_8)",decl:{start:{line:104,column:28},end:{line:104,column:29}},loc:{start:{line:104,column:40},end:{line:111,column:13}},line:104},9:{name:"(anonymous_9)",decl:{start:{line:117,column:36},end:{line:117,column:37}},loc:{start:{line:117,column:52},end:{line:142,column:13}},line:117},10:{name:"(anonymous_10)",decl:{start:{line:143,column:35},end:{line:143,column:36}},loc:{start:{line:143,column:56},end:{line:153,column:13}},line:143},11:{name:"(anonymous_11)",decl:{start:{line:157,column:45},end:{line:157,column:46}},loc:{start:{line:157,column:61},end:{line:169,column:13}},line:157},12:{name:"(anonymous_12)",decl:{start:{line:172,column:35},end:{line:172,column:36}},loc:{start:{line:172,column:47},end:{line:174,column:13}},line:172}},branchMap:{0:{loc:{start:{line:10,column:12},end:{line:15,column:13}},type:"if",locations:[{start:{line:10,column:12},end:{line:15,column:13}},{start:{line:10,column:12},end:{line:15,column:13}}],line:10},1:{loc:{start:{line:16,column:12},end:{line:18,column:13}},type:"if",locations:[{start:{line:16,column:12},end:{line:18,column:13}},{start:{line:16,column:12},end:{line:18,column:13}}],line:16},2:{loc:{start:{line:32,column:16},end:{line:41,column:17}},type:"if",locations:[{start:{line:32,column:16},end:{line:41,column:17}},{start:{line:32,column:16},end:{line:41,column:17}}],line:32},3:{loc:{start:{line:44,column:20},end:{line:47,column:21}},type:"if",locations:[{start:{line:44,column:20},end:{line:47,column:21}},{start:{line:44,column:20},end:{line:47,column:21}}],line:44},4:{loc:{start:{line:49,column:16},end:{line:51,column:17}},type:"if",locations:[{start:{line:49,column:16},end:{line:51,column:17}},{start:{line:49,column:16},end:{line:51,column:17}}],line:49},5:{loc:{start:{line:55,column:16},end:{line:57,column:17}},type:"if",locations:[{start:{line:55,column:16},end:{line:57,column:17}},{start:{line:55,column:16},end:{line:57,column:17}}],line:55},6:{loc:{start:{line:62,column:23},end:{line:62,column:101}},type:"cond-expr",locations:[{start:{line:62,column:39},end:{line:62,column:58}},{start:{line:62,column:61},end:{line:62,column:101}}],line:62},7:{loc:{start:{line:64,column:16},end:{line:66,column:17}},type:"if",locations:[{start:{line:64,column:16},end:{line:66,column:17}},{start:{line:64,column:16},end:{line:66,column:17}}],line:64},8:{loc:{start:{line:64,column:20},end:{line:64,column:65}},type:"binary-expr",locations:[{start:{line:64,column:20},end:{line:64,column:33}},{start:{line:64,column:37},end:{line:64,column:65}}],line:64},9:{loc:{start:{line:72,column:16},end:{line:74,column:17}},type:"if",locations:[{start:{line:72,column:16},end:{line:74,column:17}},{start:{line:72,column:16},end:{line:74,column:17}}],line:72},10:{loc:{start:{line:72,column:20},end:{line:72,column:45}},type:"binary-expr",locations:[{start:{line:72,column:20},end:{line:72,column:26}},{start:{line:72,column:30},end:{line:72,column:45}}],line:72},11:{loc:{start:{line:78,column:25},end:{line:78,column:99}},type:"cond-expr",locations:[{start:{line:78,column:41},end:{line:78,column:58}},{start:{line:78,column:61},end:{line:78,column:99}}],line:78},12:{loc:{start:{line:80,column:16},end:{line:82,column:17}},type:"if",locations:[{start:{line:80,column:16},end:{line:82,column:17}},{start:{line:80,column:16},end:{line:82,column:17}}],line:80},13:{loc:{start:{line:80,column:20},end:{line:80,column:65}},type:"binary-expr",locations:[{start:{line:80,column:20},end:{line:80,column:33}},{start:{line:80,column:37},end:{line:80,column:65}}],line:80},14:{loc:{start:{line:93,column:16},end:{line:102,column:17}},type:"if",locations:[{start:{line:93,column:16},end:{line:102,column:17}},{start:{line:93,column:16},end:{line:102,column:17}}],line:93},15:{loc:{start:{line:105,column:16},end:{line:110,column:17}},type:"if",locations:[{start:{line:105,column:16},end:{line:110,column:17}},{start:{line:105,column:16},end:{line:110,column:17}}],line:105},16:{loc:{start:{line:112,column:12},end:{line:116,column:13}},type:"if",locations:[{start:{line:112,column:12},end:{line:116,column:13}},{start:{line:112,column:12},end:{line:116,column:13}}],line:112},17:{loc:{start:{line:118,column:16},end:{line:141,column:17}},type:"if",locations:[{start:{line:118,column:16},end:{line:141,column:17}},{start:{line:118,column:16},end:{line:141,column:17}}],line:118},18:{loc:{start:{line:124,column:20},end:{line:129,column:21}},type:"if",locations:[{start:{line:124,column:20},end:{line:129,column:21}},{start:{line:124,column:20},end:{line:129,column:21}}],line:124},19:{loc:{start:{line:131,column:20},end:{line:137,column:21}},type:"if",locations:[{start:{line:131,column:20},end:{line:137,column:21}},{start:{line:131,column:20},end:{line:137,column:21}}],line:131},20:{loc:{start:{line:144,column:16},end:{line:152,column:17}},type:"if",locations:[{start:{line:144,column:16},end:{line:152,column:17}},{start:{line:144,column:16},end:{line:152,column:17}}],line:144},21:{loc:{start:{line:146,column:20},end:{line:148,column:21}},type:"if",locations:[{start:{line:146,column:20},end:{line:148,column:21}},{start:{line:146,column:20},end:{line:148,column:21}}],line:146},22:{loc:{start:{line:146,column:24},end:{line:146,column:80}},type:"binary-expr",locations:[{start:{line:146,column:24},end:{line:146,column:48}},{start:{line:146,column:52},end:{line:146,column:80}}],line:146},23:{loc:{start:{line:149,column:20},end:{line:151,column:21}},type:"if",locations:[{start:{line:149,column:20},end:{line:151,column:21}},{start:{line:149,column:20},end:{line:151,column:21}}],line:149},24:{loc:{start:{line:149,column:24},end:{line:149,column:76}},type:"binary-expr",locations:[{start:{line:149,column:24},end:{line:149,column:46}},{start:{line:149,column:50},end:{line:149,column:76}}],line:149},25:{loc:{start:{line:159,column:16},end:{line:162,column:17}},type:"if",locations:[{start:{line:159,column:16},end:{line:162,column:17}},{start:{line:159,column:16},end:{line:162,column:17}}],line:159}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0]},inputSourceMap:{version:3,file:"src/plugins/sections/taskSection.directive.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/plugins/sections/taskSection.directive.ts"],names:[],mappings:"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",sourcesContent:["import moment from 'moment';\n\nrequire('./taskSection.tmpl.html');\n\nexport default function ($templateCache) {\n  'ngInject';\n  return {\n    restrict: 'E',\n    requires: '^ganttTaskSections',\n    templateUrl: function (tElement, tAttrs) {\n      let templateUrl;\n      if (tAttrs.templateUrl === undefined) {\n        templateUrl = 'plugins/sections/taskSection.tmpl.html';\n      } else {\n        templateUrl = tAttrs.templateUrl;\n      }\n      if (tAttrs.template !== undefined) {\n        $templateCache.put(templateUrl, tAttrs.template);\n      }\n      return templateUrl;\n    },\n    replace: true,\n    scope: {\n      section: '=',\n      task: '=',\n      index: '=',\n      options: '=?'\n    },\n    controller: function ($scope, $element, ganttUtils) {\n      let fromTask = moment($scope.section.from).isSame(moment($scope.task.model.from));\n      let toTask = moment($scope.section.to).isSame(moment($scope.task.model.to));\n\n      let loadPreviousScope = function () {\n        if ($scope.task._movingTaskSections) {\n          // We are coming from a task row change\n          let sectionScopes = $scope.task._movingTaskSections;\n          let sectionScope = sectionScopes['$$index_' + $scope.index];\n          $scope.section = sectionScope.section;\n          $scope.sectionCss = sectionScope.sectionCss;\n          fromTask = sectionScope.fromTask;\n          toTask = sectionScope.toTask;\n          delete sectionScopes['$$index_' + $scope.index];\n        }\n\n        let sectionScopesEmpty = true;\n        for (let property in $scope.task._movingTaskSections) {\n          if ($scope.task._movingTaskSections.hasOwnProperty(property)) {\n            sectionScopesEmpty = false;\n            break;\n          }\n        }\n\n        if (sectionScopesEmpty) {\n          delete $scope.task._movingTaskSections;\n        }\n      };\n      loadPreviousScope();\n\n      let getLeft = function () {\n        if (fromTask) {\n          return 0;\n        }\n\n        let gantt = $scope.task.rowsManager.gantt;\n        let taskLeft = $scope.task.left;\n\n        let from;\n\n        let disableMagnet = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableMagnet', $scope.$parent.pluginScope.disableMagnet);\n\n        from = disableMagnet ? $scope.section.from : gantt.getMagnetDate($scope.section.from);\n\n        let disableDaily = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableDaily', $scope.$parent.pluginScope.disableDaily);\n        if (!disableDaily && gantt.options.value('daily')) {\n          from = moment(from).startOf('day');\n        }\n\n        let sectionLeft = gantt.getPositionByDate(from);\n\n        return sectionLeft - taskLeft;\n      };\n\n      let getRight = function () {\n        let keepProportions = ganttUtils.firstProperty([$scope.section, $scope.options], 'keepProportions', $scope.$parent.pluginScope.keepProportions);\n        if (toTask && keepProportions) {\n          return $scope.task.width;\n        }\n\n        let gantt = $scope.task.rowsManager.gantt;\n        let taskLeft = $scope.task.left;\n\n        let disableMagnet = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableMagnet', $scope.$parent.pluginScope.disableMagnet);\n        let to = disableMagnet ? $scope.section.to : gantt.getMagnetDate($scope.section.to);\n\n        let disableDaily = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableDaily', $scope.$parent.pluginScope.disableDaily);\n        if (!disableDaily && gantt.options.value('daily')) {\n          to = moment(to).startOf('day');\n        }\n\n        let sectionRight = gantt.getPositionByDate(to);\n\n        return sectionRight - taskLeft;\n      };\n\n      let getRelative = function (position) {\n        return position / $scope.task.width * 100;\n      };\n\n      let updatePosition = function () {\n        let sectionLeft = getLeft();\n        let sectionWidth = getRight() - sectionLeft;\n\n        let keepProportions = ganttUtils.firstProperty([$scope.section, $scope.options], 'keepProportions', $scope.$parent.pluginScope.keepProportions);\n        if (keepProportions) {\n          // Setting left and width as to keep proportions when changing task size.\n          // This may somewhat break the magnet feature, but it seems acceptable\n          $scope.sectionCss.left = getRelative(sectionLeft) + '%';\n          $scope.sectionCss.width = getRelative(sectionWidth) + '%';\n        } else {\n          $scope.sectionCss.left = sectionLeft + 'px';\n          $scope.sectionCss.width = sectionWidth + 'px';\n        }\n      };\n\n      let updateCss = function () {\n        if ($scope.section.color) {\n          $scope.sectionCss['background-color'] = $scope.section.color;\n        } else {\n          $scope.sectionCss['background-color'] = undefined;\n        }\n      };\n\n      if ($scope.sectionCss === undefined) {\n        $scope.sectionCss = {};\n        updatePosition();\n        updateCss();\n      }\n\n      let taskChangeHandler = function (task) {\n        if (task === $scope.task) {\n          // Update from/to section model value based on position.\n          let gantt = $scope.task.rowsManager.gantt;\n\n          let sectionLeft = $element[0].offsetLeft;\n\n          let disableMagnet = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableMagnet', $scope.$parent.pluginScope.disableMagnet);\n\n          let from;\n          if (fromTask) {\n            from = $scope.task.model.from;\n          } else {\n            from = gantt.getDateByPosition($scope.task.modelLeft + sectionLeft, !disableMagnet);\n          }\n\n          let to;\n          if (toTask) {\n            to = $scope.task.model.to;\n          } else {\n            let sectionRight = sectionLeft + $element[0].offsetWidth;\n            to = gantt.getDateByPosition($scope.task.modelLeft + sectionRight, !disableMagnet);\n          }\n\n          $scope.section.from = from;\n          $scope.section.to = to;\n\n          updatePosition();\n        }\n      };\n\n      let taskCleanHandler = function (taskModel) {\n        if (taskModel.id === $scope.task.model.id) {\n          let model = $scope.section;\n          if (model.from !== undefined && !moment.isMoment(model.from)) {\n            model.from = moment(model.from);\n          }\n\n          if (model.to !== undefined && !moment.isMoment(model.to)) {\n            model.to = moment(model.to);\n          }\n        }\n      };\n      taskCleanHandler($scope.task.model);\n\n      $scope.task.rowsManager.gantt.api.tasks.on.clean($scope, taskCleanHandler);\n      $scope.task.rowsManager.gantt.api.tasks.on.change($scope, taskChangeHandler);\n\n      let beforeViewRowChangeHandler = function (task) {\n        let sectionScopes = task._movingTaskSections;\n        if (!sectionScopes) {\n          sectionScopes = {};\n          task._movingTaskSections = sectionScopes;\n        }\n\n        sectionScopes['$$index_' + $scope.index] = {\n          'section': $scope.section,\n          'sectionCss': $scope.sectionCss,\n          'fromTask': fromTask,\n          'toTask': toTask\n        };\n      };\n      $scope.task.rowsManager.gantt.api.tasks.on.beforeViewRowChange($scope, beforeViewRowChangeHandler);\n\n      $scope.task.rowsManager.gantt.api.directives.raise.new('ganttTaskSection', $scope, $element);\n      $scope.$on('$destroy', function () {\n        $scope.task.rowsManager.gantt.api.directives.raise.destroy('ganttTaskSection', $scope, $element);\n      });\n    }\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=["$templateCache",function(e){"ngInject";return++o.f[0],++o.s[1],{restrict:"E",requires:"^ganttTaskSections",templateUrl:function(t,n){++o.f[1];var i=void 0;return++o.s[2],void 0===n.templateUrl?(++o.b[0][0],++o.s[3],i="plugins/sections/taskSection.tmpl.html"):(++o.b[0][1],++o.s[4],i=n.templateUrl),++o.s[5],void 0!==n.template?(++o.b[1][0],++o.s[6],e.put(i,n.template)):++o.b[1][1],++o.s[7],i},replace:!0,scope:{section:"=",task:"=",index:"=",options:"=?"},controller:function(e,t,n){++o.f[2];var i=(++o.s[8],(0,a.default)(e.section.from).isSame((0,a.default)(e.task.model.from))),l=(++o.s[9],(0,a.default)(e.section.to).isSame((0,a.default)(e.task.model.to)));++o.s[10];++o.s[26],function(){if(++o.f[3],++o.s[11],e.task._movingTaskSections){++o.b[2][0];var t=(++o.s[12],e.task._movingTaskSections),n=(++o.s[13],t["$$index_"+e.index]);++o.s[14],e.section=n.section,++o.s[15],e.sectionCss=n.sectionCss,++o.s[16],i=n.fromTask,++o.s[17],l=n.toTask,++o.s[18],delete t["$$index_"+e.index]}else++o.b[2][1];var a=(++o.s[19],!0);++o.s[20];for(var r in e.task._movingTaskSections){if(++o.s[21],e.task._movingTaskSections.hasOwnProperty(r)){++o.b[3][0],++o.s[22],a=!1,++o.s[23];break}++o.b[3][1]}++o.s[24],a?(++o.b[4][0],++o.s[25],delete e.task._movingTaskSections):++o.b[4][1]}(),++o.s[27];var r=function(){if(++o.f[4],++o.s[28],i)return++o.b[5][0],++o.s[29],0;++o.b[5][1];var t=(++o.s[30],e.task.rowsManager.gantt),l=(++o.s[31],e.task.left),r=void 0,s=(++o.s[32],n.firstProperty([e.section,e.options],"disableMagnet",e.$parent.pluginScope.disableMagnet));++o.s[33],r=s?(++o.b[6][0],e.section.from):(++o.b[6][1],t.getMagnetDate(e.section.from));var A=(++o.s[34],n.firstProperty([e.section,e.options],"disableDaily",e.$parent.pluginScope.disableDaily));++o.s[35],++o.b[8][0],!A&&(++o.b[8][1],t.options.value("daily"))?(++o.b[7][0],++o.s[36],r=(0,a.default)(r).startOf("day")):++o.b[7][1];var u=(++o.s[37],t.getPositionByDate(r));return++o.s[38],u-l};++o.s[39];var s=function(){++o.f[5];var t=(++o.s[40],n.firstProperty([e.section,e.options],"keepProportions",e.$parent.pluginScope.keepProportions));if(++o.s[41],++o.b[10][0],l&&(++o.b[10][1],t))return++o.b[9][0],++o.s[42],e.task.width;++o.b[9][1];var i=(++o.s[43],e.task.rowsManager.gantt),r=(++o.s[44],e.task.left),s=(++o.s[45],n.firstProperty([e.section,e.options],"disableMagnet",e.$parent.pluginScope.disableMagnet)),A=(++o.s[46],s?(++o.b[11][0],e.section.to):(++o.b[11][1],i.getMagnetDate(e.section.to))),u=(++o.s[47],n.firstProperty([e.section,e.options],"disableDaily",e.$parent.pluginScope.disableDaily));++o.s[48],++o.b[13][0],!u&&(++o.b[13][1],i.options.value("daily"))?(++o.b[12][0],++o.s[49],A=(0,a.default)(A).startOf("day")):++o.b[12][1];var c=(++o.s[50],i.getPositionByDate(A));return++o.s[51],c-r};++o.s[52];var A=function(t){return++o.f[6],++o.s[53],t/e.task.width*100};++o.s[54];var u=function(){++o.f[7];var t=(++o.s[55],r()),i=(++o.s[56],s()-t),a=(++o.s[57],n.firstProperty([e.section,e.options],"keepProportions",e.$parent.pluginScope.keepProportions));++o.s[58],a?(++o.b[14][0],++o.s[59],e.sectionCss.left=A(t)+"%",++o.s[60],e.sectionCss.width=A(i)+"%"):(++o.b[14][1],++o.s[61],e.sectionCss.left=t+"px",++o.s[62],e.sectionCss.width=i+"px")};++o.s[63];++o.s[67],void 0===e.sectionCss?(++o.b[16][0],++o.s[68],e.sectionCss={},++o.s[69],u(),++o.s[70],function(){++o.f[8],++o.s[64],e.section.color?(++o.b[15][0],++o.s[65],e.sectionCss["background-color"]=e.section.color):(++o.b[15][1],++o.s[66],e.sectionCss["background-color"]=void 0)}()):++o.b[16][1],++o.s[71];var c=function(a){if(++o.f[9],++o.s[72],a===e.task){++o.b[17][0];var r=(++o.s[73],e.task.rowsManager.gantt),s=(++o.s[74],t[0].offsetLeft),A=(++o.s[75],n.firstProperty([e.section,e.options],"disableMagnet",e.$parent.pluginScope.disableMagnet)),c=void 0;++o.s[76],i?(++o.b[18][0],++o.s[77],c=e.task.model.from):(++o.b[18][1],++o.s[78],c=r.getDateByPosition(e.task.modelLeft+s,!A));var d=void 0;if(++o.s[79],l)++o.b[19][0],++o.s[80],d=e.task.model.to;else{++o.b[19][1];var C=(++o.s[81],s+t[0].offsetWidth);++o.s[82],d=r.getDateByPosition(e.task.modelLeft+C,!A)}++o.s[83],e.section.from=c,++o.s[84],e.section.to=d,++o.s[85],u()}else++o.b[17][1]};++o.s[86];var d=function(t){if(++o.f[10],++o.s[87],t.id===e.task.model.id){++o.b[20][0];var n=(++o.s[88],e.section);++o.s[89],++o.b[22][0],void 0===n.from||(++o.b[22][1],a.default.isMoment(n.from))?++o.b[21][1]:(++o.b[21][0],++o.s[90],n.from=(0,a.default)(n.from)),++o.s[91],++o.b[24][0],void 0===n.to||(++o.b[24][1],a.default.isMoment(n.to))?++o.b[23][1]:(++o.b[23][0],++o.s[92],n.to=(0,a.default)(n.to))}else++o.b[20][1]};++o.s[93],d(e.task.model),++o.s[94],e.task.rowsManager.gantt.api.tasks.on.clean(e,d),++o.s[95],e.task.rowsManager.gantt.api.tasks.on.change(e,c),++o.s[96];var C=function(t){++o.f[11];var n=(++o.s[97],t._movingTaskSections);++o.s[98],n?++o.b[25][1]:(++o.b[25][0],++o.s[99],n={},++o.s[100],t._movingTaskSections=n),++o.s[101],n["$$index_"+e.index]={section:e.section,sectionCss:e.sectionCss,fromTask:i,toTask:l}};++o.s[102],e.task.rowsManager.gantt.api.tasks.on.beforeViewRowChange(e,C),++o.s[103],e.task.rowsManager.gantt.api.directives.raise.new("ganttTaskSection",e,t),++o.s[104],e.$on("$destroy",function(){++o.f[12],++o.s[105],e.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskSection",e,t)})}}}];var i=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(i);++o.s[0],n(253)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$templateCache",function(e){"ngInject";return{restrict:"E",requires:"^ganttTask",templateUrl:function(t,n){var o=void 0;return o=void 0===n.templateUrl?"plugins/sections/taskSections.tmpl.html":n.templateUrl,void 0!==n.template&&e.put(o,n.template),o},replace:!0,scope:!0,controller:["$scope","$element",function(e,t){e.task.rowsManager.gantt.api.directives.raise.new("ganttTaskSections",e,t),e.$on("$destroy",function(){e.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskSections",e,t)})}]}}],n(254)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){var e="/home/toilal/idea-projects/angular-gantt/src/plugins/sortable/sortable.directive.ts",t="7c9c20417be14c9d1cbe143c0ed33dfc4e36501f",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/plugins/sortable/sortable.directive.ts",statementMap:{0:{start:{line:5,column:4},end:{line:51,column:6}},1:{start:{line:12,column:22},end:{line:12,column:41}},2:{start:{line:14,column:12},end:{line:18,column:13}},3:{start:{line:15,column:16},end:{line:17,column:17}},4:{start:{line:16,column:20},end:{line:16,column:67}},5:{start:{line:19,column:12},end:{line:21,column:13}},6:{start:{line:20,column:16},end:{line:20,column:37}},7:{start:{line:22,column:12},end:{line:49,column:15}},8:{start:{line:23,column:16},end:{line:48,column:17}},9:{start:{line:24,column:20},end:{line:30,column:22}},10:{start:{line:25,column:42},end:{line:25,column:69}},11:{start:{line:26,column:24},end:{line:28,column:25}},12:{start:{line:27,column:28},end:{line:27,column:67}},13:{start:{line:29,column:24},end:{line:29,column:97}},14:{start:{line:31,column:20},end:{line:33,column:22}},15:{start:{line:32,column:24},end:{line:32,column:46}},16:{start:{line:34,column:20},end:{line:40,column:22}},17:{start:{line:35,column:34},end:{line:35,column:75}},18:{start:{line:36,column:24},end:{line:39,column:25}},19:{start:{line:37,column:28},end:{line:37,column:80}},20:{start:{line:38,column:28},end:{line:38,column:50}},21:{start:{line:41,column:20},end:{line:41,column:76}},22:{start:{line:42,column:20},end:{line:42,column:68}},23:{start:{line:43,column:20},end:{line:43,column:75}},24:{start:{line:44,column:20},end:{line:44,column:74}},25:{start:{line:45,column:20},end:{line:45,column:68}},26:{start:{line:46,column:20},end:{line:46,column:57}},27:{start:{line:47,column:20},end:{line:47,column:51}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:47},end:{line:52,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:11,column:14},end:{line:11,column:15}},loc:{start:{line:11,column:58},end:{line:50,column:9}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:22,column:41},end:{line:22,column:42}},loc:{start:{line:22,column:88},end:{line:49,column:13}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:24,column:46},end:{line:24,column:47}},loc:{start:{line:24,column:58},end:{line:30,column:21}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:31,column:45},end:{line:31,column:46}},loc:{start:{line:31,column:57},end:{line:33,column:21}},line:31},5:{name:"(anonymous_5)",decl:{start:{line:34,column:38},end:{line:34,column:39}},loc:{start:{line:34,column:59},end:{line:40,column:21}},line:34}},branchMap:{0:{loc:{start:{line:14,column:12},end:{line:18,column:13}},type:"if",locations:[{start:{line:14,column:12},end:{line:18,column:13}},{start:{line:14,column:12},end:{line:18,column:13}}],line:14},1:{loc:{start:{line:14,column:16},end:{line:14,column:77}},type:"binary-expr",locations:[{start:{line:14,column:16},end:{line:14,column:29}},{start:{line:14,column:33},end:{line:14,column:77}}],line:14},2:{loc:{start:{line:19,column:12},end:{line:21,column:13}},type:"if",locations:[{start:{line:19,column:12},end:{line:21,column:13}},{start:{line:19,column:12},end:{line:21,column:13}}],line:19},3:{loc:{start:{line:23,column:16},end:{line:48,column:17}},type:"if",locations:[{start:{line:23,column:16},end:{line:48,column:17}},{start:{line:23,column:16},end:{line:48,column:17}}],line:23},4:{loc:{start:{line:23,column:20},end:{line:23,column:94}},type:"binary-expr",locations:[{start:{line:23,column:20},end:{line:23,column:53}},{start:{line:23,column:57},end:{line:23,column:94}}],line:23},5:{loc:{start:{line:26,column:24},end:{line:28,column:25}},type:"if",locations:[{start:{line:26,column:24},end:{line:28,column:25}},{start:{line:26,column:24},end:{line:28,column:25}}],line:26},6:{loc:{start:{line:36,column:24},end:{line:39,column:25}},type:"if",locations:[{start:{line:36,column:24},end:{line:39,column:25}},{start:{line:36,column:24},end:{line:39,column:25}}],line:36}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:"src/plugins/sortable/sortable.directive.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/plugins/sortable/sortable.directive.ts"],names:[],mappings:"AAEA,MAAM,CAAC,OAAO,WAAW,UAA6B,EAAE,QAAQ;IAC9D,UAAU,CAAC;IACX,uDAAuD;IACvD,kDAAkD;IAElD,MAAM,CAAC;QACL,QAAQ,EAAE,GAAG;QACb,OAAO,EAAE,QAAQ;QACjB,KAAK,EAAE;YACL,OAAO,EAAE,IAAI;SACd;QACD,IAAI,EAAE,UAAU,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS;YAC9C,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC;YAE9B,8CAA8C;YAC9C,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,IAAI,OAAM,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;gBACjE,GAAG,CAAC,CAAC,IAAI,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC1C,KAAK,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACjD,CAAC;YACH,CAAC;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC;gBAChC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;YACvB,CAAC;YAED,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,aAAa,EAAE,QAAQ,EAAE,UAAU;gBACxE,EAAE,CAAC,CAAC,aAAa,KAAK,eAAe,IAAI,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC;oBAC/E,QAAQ,CAAC,cAAc,GAAG;wBACxB,IAAI,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC;wBAE9C,EAAE,CAAC,CAAC,OAAM,CAAC,WAAW,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC;4BACtC,WAAW,GAAG,EAAC,OAAO,EAAE,WAAW,EAAC,CAAC;wBACvC,CAAC;wBAED,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,WAAW,CAAC,EAAE,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;oBAC3E,CAAC,CAAC;oBAEF,QAAQ,CAAC,aAAa,GAAG;wBACvB,QAAQ,CAAC,UAAU,EAAE,CAAC;oBACxB,CAAC,CAAC;oBAEF,QAAQ,CAAC,MAAM,GAAG,UAAU,GAAG,EAAE,IAAI;wBACnC,IAAI,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACpD,EAAE,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC;4BACrB,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC;4BACpD,QAAQ,CAAC,UAAU,EAAE,CAAC;wBACxB,CAAC;oBACH,CAAC,CAAC;oBAEF,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,sBAAsB,CAAC,CAAC;oBACxD,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;oBAChD,UAAU,CAAC,IAAI,CAAC,YAAY,EAAE,uBAAuB,CAAC,CAAC;oBACvD,UAAU,CAAC,IAAI,CAAC,iBAAiB,EAAE,iBAAiB,CAAC,CAAC;oBAEtD,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;oBAChD,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;oBAErC,QAAQ,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC;gBACjC,CAAC;YACH,CAAC,CAAC,CAAC;QAEL,CAAC;KACF,CAAC;AACJ,CAAC",sourcesContent:["import GanttUtilsService from 'core/logic/util/utils.service';\n\nexport default function (ganttUtils: GanttUtilsService, $compile) {\n  'ngInject';\n  // Provides the row sort functionality to any Gantt row\n  // Uses the sortableState to share the current row\n\n  return {\n    restrict: 'E',\n    require: '^gantt',\n    scope: {\n      enabled: '=?'\n    },\n    link: function (scope, element, attrs, ganttCtrl) {\n      let api = ganttCtrl.gantt.api;\n\n      // Load options from global options attribute.\n      if (scope.options && typeof(scope.options.sortable) === 'object') {\n        for (let option in scope.options.sortable) {\n          scope[option] = scope.options.sortable[option];\n        }\n      }\n\n      if (scope.enabled === undefined) {\n        scope.enabled = true;\n      }\n\n      api.directives.on.new(scope, function (directiveName, rowScope, rowElement) {\n        if (directiveName === 'ganttRowLabel' && rowElement.attr('drag') === undefined) {\n          rowScope.checkDraggable = function () {\n            let rowSortable = rowScope.row.model.sortable;\n\n            if (typeof(rowSortable) === 'boolean') {\n              rowSortable = {enabled: rowSortable};\n            }\n\n            return ganttUtils.firstProperty([rowSortable], 'enabled', scope.enabled);\n          };\n\n          rowScope.onDropSuccess = function () {\n            rowScope.$evalAsync();\n          };\n\n          rowScope.onDrop = function (evt, data) {\n            let row = rowScope.row.rowsManager.rowsMap[data.id];\n            if (row !== rowScope) {\n              rowScope.row.rowsManager.moveRow(row, rowScope.row);\n              rowScope.$evalAsync();\n            }\n          };\n\n          rowElement.attr('ui-draggable', '{{checkDraggable()}}');\n          rowElement.attr('drag-channel', '\\'sortable\\'');\n          rowElement.attr('ui-on-drop', 'onDrop($event, $data)');\n          rowElement.attr('on-drop-success', 'onDropSuccess()');\n\n          rowElement.attr('drop-channel', '\\'sortable\\'');\n          rowElement.attr('drag', 'row.model');\n\n          $compile(rowElement)(rowScope);\n        }\n      });\n\n    }\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=["ganttUtils","$compile",function(e,t){"ngInject";return++a.f[0],++a.s[0],{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(n,o,l,r){++a.f[1];var s=(++a.s[1],r.gantt.api);if(++a.s[2],++a.b[1][0],n.options&&(++a.b[1][1],"object"===(0,i.default)(n.options.sortable))){++a.b[0][0],++a.s[3];for(var A in n.options.sortable)++a.s[4],n[A]=n.options.sortable[A]}else++a.b[0][1];++a.s[5],void 0===n.enabled?(++a.b[2][0],++a.s[6],n.enabled=!0):++a.b[2][1],++a.s[7],s.directives.on.new(n,function(o,i,l){++a.f[2],++a.s[8],++a.b[4][0],"ganttRowLabel"===o&&(++a.b[4][1],void 0===l.attr("drag"))?(++a.b[3][0],++a.s[9],i.checkDraggable=function(){++a.f[3];var t=(++a.s[10],i.row.model.sortable);return++a.s[11],"boolean"==typeof t?(++a.b[5][0],++a.s[12],t={enabled:t}):++a.b[5][1],++a.s[13],e.firstProperty([t],"enabled",n.enabled)},++a.s[14],i.onDropSuccess=function(){++a.f[4],++a.s[15],i.$evalAsync()},++a.s[16],i.onDrop=function(e,t){++a.f[5];var n=(++a.s[17],i.row.rowsManager.rowsMap[t.id]);++a.s[18],n!==i?(++a.b[6][0],++a.s[19],i.row.rowsManager.moveRow(n,i.row),++a.s[20],i.$evalAsync()):++a.b[6][1]},++a.s[21],l.attr("ui-draggable","{{checkDraggable()}}"),++a.s[22],l.attr("drag-channel","'sortable'"),++a.s[23],l.attr("ui-on-drop","onDrop($event, $data)"),++a.s[24],l.attr("on-drop-success","onDropSuccess()"),++a.s[25],l.attr("drop-channel","'sortable'"),++a.s[26],l.attr("drag","row.model"),++a.s[27],t(l)(i)):++a.b[3][1]})}}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder","ganttLayout",function(e,t){"ngInject";var n=new e("ganttSideContentTable","plugins/table/sideContentTable.tmpl.html");return n.controller=function(e){var n=t.getScrollBarHeight();e.getMaxHeightCss=function(){var t={},o=e.maxHeight;o||(o=e.gantt.getContainerHeight());var i=e.gantt.scroll.isHScrollbarVisible()?n:0;return t["max-height"]=o-i-e.gantt.header.getHeight()+"px",t}},n.build()}],n(255)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i),l=function(){var e="/home/toilal/idea-projects/angular-gantt/src/plugins/table/table.directive.ts",t="839eb0be4188742c16fd3fe047f29e32eb1f5ccf",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/plugins/table/table.directive.ts",statementMap:{0:{start:{line:6,column:4},end:{line:61,column:6}},1:{start:{line:20,column:22},end:{line:20,column:41}},2:{start:{line:22,column:12},end:{line:26,column:13}},3:{start:{line:23,column:16},end:{line:25,column:17}},4:{start:{line:24,column:20},end:{line:24,column:64}},5:{start:{line:27,column:12},end:{line:29,column:13}},6:{start:{line:28,column:16},end:{line:28,column:37}},7:{start:{line:30,column:12},end:{line:32,column:13}},8:{start:{line:31,column:16},end:{line:31,column:47}},9:{start:{line:33,column:12},end:{line:35,column:13}},10:{start:{line:34,column:16},end:{line:34,column:57}},11:{start:{line:36,column:12},end:{line:38,column:13}},12:{start:{line:37,column:16},end:{line:37,column:36}},13:{start:{line:39,column:12},end:{line:41,column:13}},14:{start:{line:40,column:16},end:{line:40,column:42}},15:{start:{line:42,column:12},end:{line:44,column:13}},16:{start:{line:43,column:16},end:{line:43,column:35}},17:{start:{line:45,column:12},end:{line:47,column:13}},18:{start:{line:46,column:16},end:{line:46,column:38}},19:{start:{line:48,column:12},end:{line:59,column:15}},20:{start:{line:49,column:16},end:{line:58,column:17}},21:{start:{line:50,column:37},end:{line:50,column:60}},22:{start:{line:51,column:20},end:{line:51,column:51}},23:{start:{line:52,column:36},end:{line:52,column:69}},24:{start:{line:53,column:20},end:{line:53,column:89}},25:{start:{line:54,column:20},end:{line:54,column:72}},26:{start:{line:55,column:39},end:{line:55,column:93}},27:{start:{line:56,column:20},end:{line:56,column:68}},28:{start:{line:57,column:20},end:{line:57,column:79}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:15},end:{line:2,column:16}},loc:{start:{line:2,column:58},end:{line:62,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:19,column:14},end:{line:19,column:15}},loc:{start:{line:19,column:58},end:{line:60,column:9}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:48,column:41},end:{line:48,column:42}},loc:{start:{line:48,column:104},end:{line:59,column:13}},line:48}},branchMap:{0:{loc:{start:{line:22,column:12},end:{line:26,column:13}},type:"if",locations:[{start:{line:22,column:12},end:{line:26,column:13}},{start:{line:22,column:12},end:{line:26,column:13}}],line:22},1:{loc:{start:{line:22,column:16},end:{line:22,column:74}},type:"binary-expr",locations:[{start:{line:22,column:16},end:{line:22,column:29}},{start:{line:22,column:33},end:{line:22,column:74}}],line:22},2:{loc:{start:{line:27,column:12},end:{line:29,column:13}},type:"if",locations:[{start:{line:27,column:12},end:{line:29,column:13}},{start:{line:27,column:12},end:{line:29,column:13}}],line:27},3:{loc:{start:{line:30,column:12},end:{line:32,column:13}},type:"if",locations:[{start:{line:30,column:12},end:{line:32,column:13}},{start:{line:30,column:12},end:{line:32,column:13}}],line:30},4:{loc:{start:{line:33,column:12},end:{line:35,column:13}},type:"if",locations:[{start:{line:33,column:12},end:{line:35,column:13}},{start:{line:33,column:12},end:{line:35,column:13}}],line:33},5:{loc:{start:{line:36,column:12},end:{line:38,column:13}},type:"if",locations:[{start:{line:36,column:12},end:{line:38,column:13}},{start:{line:36,column:12},end:{line:38,column:13}}],line:36},6:{loc:{start:{line:39,column:12},end:{line:41,column:13}},type:"if",locations:[{start:{line:39,column:12},end:{line:41,column:13}},{start:{line:39,column:12},end:{line:41,column:13}}],line:39},7:{loc:{start:{line:42,column:12},end:{line:44,column:13}},type:"if",locations:[{start:{line:42,column:12},end:{line:44,column:13}},{start:{line:42,column:12},end:{line:44,column:13}}],line:42},8:{loc:{start:{line:45,column:12},end:{line:47,column:13}},type:"if",locations:[{start:{line:45,column:12},end:{line:47,column:13}},{start:{line:45,column:12},end:{line:47,column:13}}],line:45},9:{loc:{start:{line:49,column:16},end:{line:58,column:17}},type:"if",locations:[{start:{line:49,column:16},end:{line:58,column:17}},{start:{line:49,column:16},end:{line:58,column:17}}],line:49}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:"src/plugins/table/table.directive.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/plugins/table/table.directive.ts"],names:[],mappings:"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",sourcesContent:["import angular from 'angular';\n\nimport GanttUtilsService from 'core/logic/util/utils.service';\n\nexport default function (ganttUtils: GanttUtilsService, $compile, $document) {\n  'ngInject';\n  // Provides the row sort functionality to any Gantt row\n  // Uses the sortableState to share the current row\n\n  return {\n    restrict: 'E',\n    require: '^gantt',\n    scope: {\n      enabled: '=?',\n      columns: '=?',\n      headers: '=?',\n      classes: '=?',\n      contents: '=?',\n      headerContents: '=?',\n      formatters: '=?',\n      headerFormatter: '=?'\n    },\n    link: function (scope, element, attrs, ganttCtrl) {\n      let api = ganttCtrl.gantt.api;\n\n      // Load options from global options attribute.\n      if (scope.options && typeof(scope.options.table) === 'object') {\n        for (let option in scope.options.table) {\n          scope[option] = scope.options.table[option];\n        }\n      }\n\n      if (scope.enabled === undefined) {\n        scope.enabled = true;\n      }\n\n      if (scope.columns === undefined) {\n        scope.columns = ['model.name'];\n      }\n\n      if (scope.headers === undefined) {\n        scope.headers = {'model.name': 'Name'};\n      }\n\n      if (scope.contents === undefined) {\n        scope.contents = {};\n      }\n\n      if (scope.headerContents === undefined) {\n        scope.headerContents = {};\n      }\n\n      if (scope.classes === undefined) {\n        scope.classes = {};\n      }\n\n      if (scope.formatters === undefined) {\n        scope.formatters = {};\n      }\n\n      api.directives.on.new(scope, function (directiveName, sideContentScope, sideContentElement) {\n        if (directiveName === 'ganttSideContent') {\n          let tableScope = sideContentScope.$new();\n          tableScope.pluginScope = scope;\n\n          let ifElement = $document[0].createElement('div');\n          angular.element(ifElement).attr('data-ng-if', 'pluginScope.enabled');\n          angular.element(ifElement).addClass('side-element');\n\n          let tableElement = $document[0].createElement('gantt-side-content-table');\n          angular.element(ifElement).append(tableElement);\n\n          sideContentElement.append($compile(ifElement)(tableScope));\n        }\n      });\n\n    }\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=["ganttUtils","$compile","$document",function(e,t,n){"ngInject";return++l.f[0],++l.s[0],{restrict:"E",require:"^gantt",scope:{enabled:"=?",columns:"=?",headers:"=?",classes:"=?",contents:"=?",headerContents:"=?",formatters:"=?",headerFormatter:"=?"},link:function(e,o,i,r){++l.f[1];var A=(++l.s[1],r.gantt.api);if(++l.s[2],++l.b[1][0],e.options&&(++l.b[1][1],"object"===(0,a.default)(e.options.table))){++l.b[0][0],++l.s[3];for(var u in e.options.table)++l.s[4],e[u]=e.options.table[u]}else++l.b[0][1];++l.s[5],void 0===e.enabled?(++l.b[2][0],++l.s[6],e.enabled=!0):++l.b[2][1],++l.s[7],void 0===e.columns?(++l.b[3][0],++l.s[8],e.columns=["model.name"]):++l.b[3][1],++l.s[9],void 0===e.headers?(++l.b[4][0],++l.s[10],e.headers={"model.name":"Name"}):++l.b[4][1],++l.s[11],void 0===e.contents?(++l.b[5][0],++l.s[12],e.contents={}):++l.b[5][1],++l.s[13],void 0===e.headerContents?(++l.b[6][0],++l.s[14],e.headerContents={}):++l.b[6][1],++l.s[15],void 0===e.classes?(++l.b[7][0],++l.s[16],e.classes={}):++l.b[7][1],++l.s[17],void 0===e.formatters?(++l.b[8][0],++l.s[18],e.formatters={}):++l.b[8][1],++l.s[19],A.directives.on.new(e,function(o,i,a){if(++l.f[2],++l.s[20],"ganttSideContent"===o){++l.b[9][0];var r=(++l.s[21],i.$new());++l.s[22],r.pluginScope=e;var A=(++l.s[23],n[0].createElement("div"));++l.s[24],s.default.element(A).attr("data-ng-if","pluginScope.enabled"),++l.s[25],s.default.element(A).addClass("side-element");var u=(++l.s[26],n[0].createElement("gantt-side-content-table"));++l.s[27],s.default.element(A).append(u),++l.s[28],a.append(t(A)(r))}else++l.b[9][1]})}}}];var r=n(1),s=o(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$scope",function(e){"ngInject";e.getHeader=function(){var t=e.pluginScope.headers[e.column];return void 0!==t?t:(void 0!==e.pluginScope.headerFormatter&&(t=e.pluginScope.headerFormatter(e.column)),t)},e.getHeaderContent=function(){var t=e.pluginScope.headerContents[e.column];return void 0===t?"{{getHeader()}}":t},e.getClass=function(){return e.pluginScope.classes[e.column]}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$scope",function(e){"ngInject";e.getValue=function(){var t=e.$eval(e.column,e.row),n=e.pluginScope.formatters[e.column];return void 0!==n&&(t=n(t,e.column,e.row)),t},e.getRowContent=function(){var t=void 0;return e.row.model.columnContents&&(t=e.row.model.columnContents[e.column]),void 0===t&&"model.name"===e.column&&(t=e.row.model.content),void 0===t&&(t=e.pluginScope.contents[e.column]),void 0===t&&"model.name"===e.column&&(t=e.row.rowsManager.gantt.options.value("rowContent")),void 0===t&&void 0!==e.pluginScope.content&&(t=e.pluginScope.content),void 0===t?"{{getValue()}}":t}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$log","$timeout","$compile","$document","$templateCache","ganttDebounce","GanttSmartEvent",function(e,t,n,o,a,l,r){"ngInject";return{restrict:"E",templateUrl:function(e,t){var n=void 0;return n=void 0===t.templateUrl?"plugins/tooltips/tooltip.tmpl.html":t.templateUrl,void 0!==t.template&&a.put(n,t.template),n},scope:!0,replace:!0,controller:function(e,n,a){var s=i.element(o[0].body),A=e.task.$element,u=void 0,c=!1,d=void 0,C=void 0,m=function(){var e=o[0];return e.documentElement.clientWidth||e.getElementById("body")[0].clientWidth},f=function(t){t+n[0].offsetWidth>m()?(n.css("left",t+20-n[0].offsetWidth+"px"),e.isRightAligned=!0):(n.css("left",t-20+"px"),e.isRightAligned=!1)},p=function(t){c=!0,C.bind(),e.displayed=!0,e.$evalAsync(function(){var o=void 0;n.hasClass("ng-hide")&&(n.removeClass("ng-hide"),o=!0),e.elementHeight=n[0].offsetHeight,o&&n.addClass("ng-hide"),e.taskRect=A[0].getBoundingClientRect(),f(t)})},g=function(){c=!1,C.unbind(),e.$evalAsync(function(){e.displayed=!1})},h=function(n,o){u&&t.cancel(u);var i=e.task.model.tooltips,l=e.task.row.model.tooltips;if("boolean"==typeof i&&(i={enabled:i}),"boolean"==typeof l&&(l={enabled:l}),a.firstProperty([i,l],"enabled",e.pluginScope.enabled)&&!c&&void 0!==d&&n){var r=a.firstProperty([i,l],"content",e.pluginScope.content);e.content=r,o?u=t(function(){p(d)},e.pluginScope.delay,!1):p(d)}else n||e.task.active||g()};C=new r(e,s,"mousemove",l(function(t){c?((!e.taskRect||t.clientX<e.taskRect.left||t.clientX>e.taskRect.right||t.clientY>e.taskRect.bottom||t.clientY<e.taskRect.top)&&h(!1,!1),f(t.clientX)):(d=t.clientX,h(!0,!1))},5,!1)),e.getFromLabel=function(){var t=e.task.model.tooltips,n=e.task.row.model.tooltips;"boolean"==typeof t&&(t={enabled:t}),"boolean"==typeof n&&(n={enabled:n});var o=a.firstProperty([t,n],"dateFormat",e.pluginScope.dateFormat);return e.task.model.from.format(o)},e.getToLabel=function(){var t=e.task.model.tooltips,n=e.task.row.model.tooltips;"boolean"==typeof t&&(t={enabled:t}),"boolean"==typeof n&&(n={enabled:n});var o=a.firstProperty([t,n],"dateFormat",e.pluginScope.dateFormat);return e.task.model.to.format(o)},e.task.getContentElement().bind("mousemove",function(e){d=e.clientX}),e.task.getContentElement().bind("mouseenter",function(e){d=e.clientX,h(!0,!0)}),e.task.getContentElement().bind("mouseleave",function(){h(!1)}),e.pluginScope.api.tasks.on.moveBegin&&(e.pluginScope.api.tasks.on.moveBegin(e,function(t){t===e.task&&h(!0)}),e.pluginScope.api.tasks.on.moveEnd(e,function(t){t===e.task&&h(!1)}),e.pluginScope.api.tasks.on.resizeBegin(e,function(t){t===e.task&&h(!0)}),e.pluginScope.api.tasks.on.resizeEnd(e,function(t){t===e.task&&h(!1)})),e.task.isMoving&&h(!0,!1),e.gantt.api.directives.raise.new("ganttTooltip",e,n),e.$on("$destroy",function(){e.gantt.api.directives.raise.destroy("ganttTooltip",e,n)})}}}];var o=n(1),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o);n(256)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i);t.default=["$compile","$document",function(e,t){"ngInject";return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?",content:"=?",delay:"=?"},link:function(n,o,i,l){var s=l.gantt.api;if(n.options&&"object"===(0,a.default)(n.options.tooltips))for(var A in n.options.tooltips)n[A]=n.options.tooltips[A];void 0===n.enabled&&(n.enabled=!0),void 0===n.dateFormat&&(n.dateFormat="MMM DD, HH:mm"),void 0===n.delay&&(n.delay=500),void 0===n.content&&(n.content="{{task.model.name}}</br><small>{{task.isMilestone() === true && getFromLabel() || getFromLabel() + ' - ' + getToLabel()}}</small>"),n.api=s,s.directives.on.new(n,function(o,a,l){if("ganttTask"===o){var s=a.$new();s.pluginScope=n;var A=t[0].createElement("div");r.default.element(A).attr("data-ng-if","pluginScope.enabled");var u=t[0].createElement("gantt-tooltip");void 0!==i.templateUrl&&r.default.element(u).attr("data-template-url",i.templateUrl),void 0!==i.template&&r.default.element(u).attr("data-template",i.template),r.default.element(A).append(u),l.append(e(A)(s))}})}}}];var l=n(1),r=o(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";var t=new e("ganttRowTreeLabel");return t.restrict="A",t.templateUrl=void 0,t.build()}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";return new e("ganttSideContentTree","plugins/tree/sideContentTree.tmpl.html").build()}],n(257)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=["$scope","$filter","GanttHierarchy",function(e,t,n){"ngInject";e.rootRows=[],e.getHeader=function(){return e.pluginScope.header};var o=new n;e.pluginScope.$watchGroup(["keepAncestorOnFilterRow","enabled"],function(n){if(n[0]&&n[1]){var a=function(e,n,a){o.refresh(e);var l=[],r=!0,s=!1,A=void 0;try{for(var u,c=(0,i.default)(e);!(r=(u=c.next()).done);r=!0){var d=u.value,C=o.children(d);C&&0!==C.length||l.push(d)}}catch(e){s=!0,A=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw A}}var m=t("filter")(l,n,a),f=function(e){if(m.indexOf(e)>-1)return!0;var t=o.descendants(e),n=!0,a=!1,l=void 0;try{for(var r,s=(0,i.default)(t);!(n=(r=s.next()).done);n=!0){var A=r.value;if(m.indexOf(A)>-1)return!0}}catch(e){a=!0,l=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw l}}return!1};return t("filter")(e,f,a)};e.gantt.rowsManager.setFilterImpl(a)}else e.gantt.rowsManager.setFilterImpl(!1)});var a=function(t){for(var n=e.parent(t);void 0!==n;){if(void 0!==n&&n._collapsed)return!1;n=e.parent(n)}return!0},l=function(e){return e.filter(function(e){return a(e)})},r=function(t){var n=[],o=[],a=!0,l=!1,r=void 0;try{for(var s,A=(0,i.default)(t);!(a=(s=A.next()).done);a=!0){var u=s.value;void 0===e.parent(u)?o.push(u):!0}}catch(e){l=!0,r=e}finally{try{!a&&A.return&&A.return()}finally{if(l)throw r}}var c=!0,d=!1,C=void 0;try{for(var m,f=(0,i.default)(o);!(c=(m=f.next()).done);c=!0){var p=m.value;!function o(a){n.push(a);var l=e.children(a);if(void 0!==l&&l.length>0){var r=l.sort(function(e,n){return t.indexOf(e)-t.indexOf(n)}),s=!0,A=!1,u=void 0;try{for(var c,d=(0,i.default)(r);!(s=(c=d.next()).done);s=!0){o(c.value)}}catch(e){A=!0,u=e}finally{try{!s&&d.return&&d.return()}finally{if(A)throw u}}}}(p)}}catch(e){d=!0,C=e}finally{try{!c&&f.return&&f.return()}finally{if(d)throw C}}return n};e.gantt.api.rows.addRowSorter(r),e.gantt.api.rows.addRowFilter(l),e.$on("$destroy",function(){e.gantt.api.rows.removeRowSorter(r),e.gantt.api.rows.removeRowFilter(l)});var s=function(){e.rootRows=o.refresh(e.gantt.rowsManager.filteredRows),e.gantt.rowsManager.filteredRows.length>0&&(e.gantt.api.rows.sort(),e.gantt.api.rows.refresh())};e.gantt.api.rows.on.remove(e,s),e.gantt.api.rows.on.add(e,s);var A=function(t){var n=void 0;if(void 0!==(n="string"==typeof t?e.gantt.rowsManager.rowsMap[t]:t))return void 0!==n._collapsed&&n._collapsed},u=function(t){var n=void 0;if(void 0!==(n="string"==typeof t?e.gantt.rowsManager.rowsMap[t]:t)){var o=e.nodeScopes[n.model.id];o.collapsed&&o.toggle()}},c=function(t){var n=void 0;if(void 0!==(n="string"==typeof t?e.gantt.rowsManager.rowsMap[t]:t)){var o=e.nodeScopes[n.model.id];o.collapsed||o.toggle()}},d=function(){return o};e.getHeaderContent=function(){return e.pluginScope.headerContent},e.gantt.api.registerMethod("tree","refresh",s,this),e.gantt.api.registerMethod("tree","isCollapsed",A,this),e.gantt.api.registerMethod("tree","expand",u,this),e.gantt.api.registerMethod("tree","collapse",c,this),e.gantt.api.registerEvent("tree","collapsed"),e.gantt.api.registerMethod("tree","getHierarchy",d,this),e.$watchCollection("gantt.rowsManager.filteredRows",function(){s()}),e.children=function(t){return void 0===t?e.rootRows:o.children(t)},e.parent=function(e){return o.parent(e)},e.nodeScopes={}}]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i),l=function(){var e="/home/toilal/idea-projects/angular-gantt/src/plugins/tree/tree.directive.ts",t="8a1a8e9fa98b0c49fce27200c52537798ee91fcc",n=new Function("return this")(),o="__coverage__",i={path:"/home/toilal/idea-projects/angular-gantt/src/plugins/tree/tree.directive.ts",statementMap:{0:{start:{line:6,column:4},end:{line:49,column:6}},1:{start:{line:17,column:22},end:{line:17,column:41}},2:{start:{line:19,column:12},end:{line:23,column:13}},3:{start:{line:20,column:16},end:{line:22,column:17}},4:{start:{line:21,column:20},end:{line:21,column:63}},5:{start:{line:24,column:12},end:{line:26,column:13}},6:{start:{line:25,column:16},end:{line:25,column:37}},7:{start:{line:27,column:12},end:{line:29,column:13}},8:{start:{line:28,column:16},end:{line:28,column:38}},9:{start:{line:30,column:12},end:{line:32,column:13}},10:{start:{line:31,column:16},end:{line:31,column:56}},11:{start:{line:33,column:12},end:{line:35,column:13}},12:{start:{line:34,column:16},end:{line:34,column:54}},13:{start:{line:36,column:12},end:{line:47,column:15}},14:{start:{line:37,column:16},end:{line:46,column:17}},15:{start:{line:38,column:38},end:{line:38,column:61}},16:{start:{line:39,column:20},end:{line:39,column:52}},17:{start:{line:40,column:36},end:{line:40,column:69}},18:{start:{line:41,column:20},end:{line:41,column:89}},19:{start:{line:42,column:20},end:{line:42,column:72}},20:{start:{line:43,column:40},end:{line:43,column:93}},21:{start:{line:44,column:20},end:{line:44,column:69}},22:{start:{line:45,column:20},end:{line:45,column:80}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:15},end:{line:2,column:16}},loc:{start:{line:2,column:58},end:{line:50,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:16,column:14},end:{line:16,column:15}},loc:{start:{line:16,column:58},end:{line:48,column:9}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:36,column:41},end:{line:36,column:42}},loc:{start:{line:36,column:104},end:{line:47,column:13}},line:36}},branchMap:{0:{loc:{start:{line:19,column:12},end:{line:23,column:13}},type:"if",locations:[{start:{line:19,column:12},end:{line:23,column:13}},{start:{line:19,column:12},end:{line:23,column:13}}],line:19},1:{loc:{start:{line:19,column:16},end:{line:19,column:73}},type:"binary-expr",locations:[{start:{line:19,column:16},end:{line:19,column:29}},{start:{line:19,column:33},end:{line:19,column:73}}],line:19},2:{loc:{start:{line:24,column:12},end:{line:26,column:13}},type:"if",locations:[{start:{line:24,column:12},end:{line:26,column:13}},{start:{line:24,column:12},end:{line:26,column:13}}],line:24},3:{loc:{start:{line:27,column:12},end:{line:29,column:13}},type:"if",locations:[{start:{line:27,column:12},end:{line:29,column:13}},{start:{line:27,column:12},end:{line:29,column:13}}],line:27},4:{loc:{start:{line:30,column:12},end:{line:32,column:13}},type:"if",locations:[{start:{line:30,column:12},end:{line:32,column:13}},{start:{line:30,column:12},end:{line:32,column:13}}],line:30},5:{loc:{start:{line:33,column:12},end:{line:35,column:13}},type:"if",locations:[{start:{line:33,column:12},end:{line:35,column:13}},{start:{line:33,column:12},end:{line:35,column:13}}],line:33},6:{loc:{start:{line:37,column:16},end:{line:46,column:17}},type:"if",locations:[{start:{line:37,column:16},end:{line:46,column:17}},{start:{line:37,column:16},end:{line:46,column:17}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:"src/plugins/tree/tree.directive.ts",sourceRoot:"/home/toilal/idea-projects/angular-gantt/",sources:["src/plugins/tree/tree.directive.ts"],names:[],mappings:"AAAA,OAAO,OAAO,MAAM,SAAS,CAAC;AAI9B,MAAM,CAAC,OAAO,WAAW,UAA6B,EAAE,QAAQ,EAAE,SAAS;IACzE,UAAU,CAAC;IACX,uDAAuD;IACvD,kDAAkD;IAElD,MAAM,CAAC;QACL,QAAQ,EAAE,GAAG;QACb,OAAO,EAAE,QAAQ;QACjB,KAAK,EAAE;YACL,OAAO,EAAE,IAAI;YACb,MAAM,EAAE,IAAI;YACZ,OAAO,EAAE,IAAI;YACb,aAAa,EAAE,IAAI;YACnB,uBAAuB,EAAE,IAAI;SAC9B;QACD,IAAI,EAAE,UAAU,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS;YAC9C,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC;YAE9B,8CAA8C;YAC9C,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,IAAI,OAAM,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC7D,GAAG,CAAC,CAAC,IAAI,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;oBACtC,KAAK,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC7C,CAAC;YACH,CAAC;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC;gBAChC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;YACvB,CAAC;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC;gBAC/B,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YACxB,CAAC;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,aAAa,KAAK,SAAS,CAAC,CAAC,CAAC;gBACtC,KAAK,CAAC,aAAa,GAAG,iBAAiB,CAAC;YAC1C,CAAC;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,uBAAuB,KAAK,SAAS,CAAC,CAAC,CAAC;gBAChD,KAAK,CAAC,uBAAuB,GAAG,KAAK,CAAC;YACxC,CAAC;YAED,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,aAAa,EAAE,gBAAgB,EAAE,kBAAkB;gBACxF,EAAE,CAAC,CAAC,aAAa,KAAK,kBAAkB,CAAC,CAAC,CAAC;oBACzC,IAAI,WAAW,GAAG,gBAAgB,CAAC,IAAI,EAAE,CAAC;oBAC1C,WAAW,CAAC,WAAW,GAAG,KAAK,CAAC;oBAEhC,IAAI,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBAClD,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,qBAAqB,CAAC,CAAC;oBACrE,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;oBAEpD,IAAI,aAAa,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,yBAAyB,CAAC,CAAC;oBAC1E,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;oBAEjD,kBAAkB,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC9D,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;KACF,CAAC;AACJ,CAAC",sourcesContent:["import angular from 'angular';\n\nimport GanttUtilsService from '../../core/logic/util/utils.service';\n\nexport default function (ganttUtils: GanttUtilsService, $compile, $document) {\n  'ngInject';\n  // Provides the row sort functionality to any Gantt row\n  // Uses the sortableState to share the current row\n\n  return {\n    restrict: 'E',\n    require: '^gantt',\n    scope: {\n      enabled: '=?',\n      header: '=?',\n      content: '=?',\n      headerContent: '=?',\n      keepAncestorOnFilterRow: '=?'\n    },\n    link: function (scope, element, attrs, ganttCtrl) {\n      let api = ganttCtrl.gantt.api;\n\n      // Load options from global options attribute.\n      if (scope.options && typeof(scope.options.tree) === 'object') {\n        for (let option in scope.options.tree) {\n          scope[option] = scope.options.tree[option];\n        }\n      }\n\n      if (scope.enabled === undefined) {\n        scope.enabled = true;\n      }\n\n      if (scope.header === undefined) {\n        scope.header = 'Name';\n      }\n\n      if (scope.headerContent === undefined) {\n        scope.headerContent = '{{getHeader()}}';\n      }\n\n      if (scope.keepAncestorOnFilterRow === undefined) {\n        scope.keepAncestorOnFilterRow = false;\n      }\n\n      api.directives.on.new(scope, function (directiveName, sideContentScope, sideContentElement) {\n        if (directiveName === 'ganttSideContent') {\n          let labelsScope = sideContentScope.$new();\n          labelsScope.pluginScope = scope;\n\n          let ifElement = $document[0].createElement('div');\n          angular.element(ifElement).attr('data-ng-if', 'pluginScope.enabled');\n          angular.element(ifElement).addClass('side-element');\n\n          let labelsElement = $document[0].createElement('gantt-side-content-tree');\n          angular.element(ifElement).append(labelsElement);\n\n          sideContentElement.append($compile(ifElement)(labelsScope));\n        }\n      });\n    }\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},a=n[o]||(n[o]={});return a[e]&&a[e].hash===t?a[e]:(i.hash=t,a[e]=i)}();t.default=["ganttUtils","$compile","$document",function(e,t,n){"ngInject";return++l.f[0],++l.s[0],{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?",content:"=?",headerContent:"=?",keepAncestorOnFilterRow:"=?"},link:function(e,o,i,r){++l.f[1];var A=(++l.s[1],r.gantt.api);if(++l.s[2],++l.b[1][0],e.options&&(++l.b[1][1],"object"===(0,a.default)(e.options.tree))){++l.b[0][0],++l.s[3];for(var u in e.options.tree)++l.s[4],e[u]=e.options.tree[u]}else++l.b[0][1];++l.s[5],void 0===e.enabled?(++l.b[2][0],++l.s[6],e.enabled=!0):++l.b[2][1],++l.s[7],void 0===e.header?(++l.b[3][0],++l.s[8],e.header="Name"):++l.b[3][1],++l.s[9],void 0===e.headerContent?(++l.b[4][0],++l.s[10],e.headerContent="{{getHeader()}}"):++l.b[4][1],++l.s[11],void 0===e.keepAncestorOnFilterRow?(++l.b[5][0],++l.s[12],e.keepAncestorOnFilterRow=!1):++l.b[5][1],++l.s[13],A.directives.on.new(e,function(o,i,a){if(++l.f[2],++l.s[14],"ganttSideContent"===o){++l.b[6][0];var r=(++l.s[15],i.$new());++l.s[16],r.pluginScope=e;var A=(++l.s[17],n[0].createElement("div"));++l.s[18],s.default.element(A).attr("data-ng-if","pluginScope.enabled"),++l.s[19],s.default.element(A).addClass("side-element");var u=(++l.s[20],n[0].createElement("gantt-side-content-tree"));++l.s[21],s.default.element(A).append(u),++l.s[22],a.append(t(A)(r))}else++l.b[6][1]})}}}];var r=n(1),s=o(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder","ganttLayout",function(e,t){"ngInject";var n=new e("ganttTreeBody","plugins/tree/treeBody.tmpl.html");return n.controller=function(e){var n=t.getScrollBarHeight();e.getLabelsCss=function(){var t={},o=e.maxHeight;o||(o=e.gantt.getContainerHeight());var i=e.gantt.scroll.isHScrollbarVisible()?n:0;return t["max-height"]=o-i-e.gantt.header.getHeight()+"px",t}},n.build()}],n(258),n(259)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["GanttDirectiveBuilder",function(e){"ngInject";return new e("ganttTreeHeader","plugins/tree/treeHeader.tmpl.html").build()}],n(260)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=["$scope",function(e){"ngInject";e.$parent.nodeScopes[e.row.model.id]=e,e.$on("$destroy",function(){delete e.$parent.nodeScopes[e.row.model.id]}),e.$watch("children(row)",function(t){if(t){var n=e.row.rowsManager.filteredRows,o=[],a=!0,l=!1,r=void 0;try{for(var s,A=(0,i.default)(t);!(a=(s=A.next()).done);a=!0){var u=s.value;n.indexOf(u)>-1&&o.push(u)}}catch(e){l=!0,r=e}finally{try{!a&&A.return&&A.return()}finally{if(l)throw r}}e.$parent.childrenRows=o}else e.$parent.childrenRows=t}),e.isCollapseDisabled=function(){return!e.$parent.childrenRows||0===e.$parent.childrenRows.length},e.getValue=function(){return e.row.model.name},e.getRowContent=function(){if(void 0!==e.row.model.content)return e.row.model.content;if(void 0!==e.pluginScope.content)return e.pluginScope.content;var t=e.row.rowsManager.gantt.options.value("rowContent");return void 0===t&&(t="{{row.model.name}}"),t},e.$watch("collapsed",function(t){if(e.$modelValue._collapsed!==t){var n=e.$modelValue._collapsed;e.$modelValue._collapsed=t,void 0!==n&&t!==n&&(e.gantt.api.tree.raise.collapsed(e,e.$modelValue,t),e.gantt.api.rows.refresh())}})}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$scope",function(e){"ngInject";var t=function(){e.$broadcast("angular-ui-tree:collapse-all")},n=function(){e.$broadcast("angular-ui-tree:expand-all")};e.gantt.api.registerMethod("tree","collapseAll",t,e),e.gantt.api.registerMethod("tree","expandAll",n,e)}]},function(e,t){var n="plugins/bounds/taskBounds.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-cloak class=gantt-task-bounds ng-style=getCss() ng-class=getClass()></div> ")}]),e.exports=n},function(e,t){var n="plugins/corner/corner.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gantt-corner-area-content> <div ng-show=$parent.ganttHeaderHeight class=gantt-header-row ng-repeat="header in headers"> <div class=gantt-column-header><span class=gantt-label-text gantt-bind-compile-html=getLabelContent(header)></span></div> </div> </div> ')}]),e.exports=n},function(e,t){var n="plugins/groups/taskGroup.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-controller=GanttGroupController> <div class=gantt-task-group-overview ng-if="taskGroup.overviewTasks.length > 0"> <gantt-task-overview ng-repeat="task in taskGroup.overviewTasks"></gantt-task-overview> </div> <div class=gantt-task-group-promote ng-if="taskGroup.row._collapsed && taskGroup.promotedTasks.length > 0"> <gantt-task ng-repeat="task in taskGroup.promotedTasks"></gantt-task> </div> <div class=gantt-task-group ng-if=taskGroup.showGrouping ng-style="{\'left\': taskGroup.left + \'px\', \'width\': taskGroup.width + \'px\'}"> <div class=gantt-task-group-left-main></div> <div class=gantt-task-group-right-main></div> <div class=gantt-task-group-left-symbol></div> <div class=gantt-task-group-right-symbol></div> </div> </div> ')}]),e.exports=n},function(e,t){var n="plugins/groups/taskOverview.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="gantt-task gantt-task-overview" ng-class=task.model.classes> <gantt-task-background></gantt-task-background> <gantt-task-content></gantt-task-content> <gantt-task-foreground></gantt-task-foreground> </div> ')}]),e.exports=n},function(e,t){var n="plugins/labels/labelsBody.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gantt-labels-body ng-style=getLabelsCss()> <div gantt-vertical-scroll-receiver> <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"> <div gantt-row-label class="gantt-row-label gantt-row-height" ng-class=row.model.classes ng-style="{\'height\': row.model.height}"> <span class=gantt-label-text>{{row.model.name}}</span> </div> </div> </div> </div> ')}]),e.exports=n},function(e,t){var n="plugins/labels/labelsHeader.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gantt-labels-header> <div ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0"> <div ng-repeat="header in gantt.columnsManager.headers"> <div class=gantt-row-height ng-class="{\'gantt-labels-header-row\': $last, \'gantt-labels-header-row-last\': $last}"><span>{{$last ? pluginScope.header : ""}}</span></div> </div> </div> </div> ')}]),e.exports=n},function(e,t){var n="plugins/labels/sideContentLabels.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div class=gantt-side-content-labels> <gantt-labels-header> </gantt-labels-header> <gantt-labels-body> </gantt-labels-body> </div> ")}]),e.exports=n},function(e,t){var n="plugins/progress/taskProgress.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-cloak class=gantt-task-progress ng-style=getCss() ng-class=getClasses()></div> ")}]),e.exports=n},function(e,t){var n="plugins/sections/taskSection.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-style=sectionCss ng-class=section.classes class=gantt-task-section></div> ")}]),e.exports=n},function(e,t){var n="plugins/sections/taskSections.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-cloak class=gantt-task-sections> <gantt-task-section section=section task=task options=task.model.sections index=$index ng-repeat="section in task.model.sections.items track by $index"> </gantt-task-section> </div> ')}]),e.exports=n},function(e,t){var n="plugins/table/sideContentTable.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gantt-side-content-table> <div class="gantt-table-column {{getClass()}}" ng-repeat="column in pluginScope.columns" ng-controller=TableColumnController> <div class=gantt-table-header ng-style="{height: ganttHeaderHeight + \'px\'}"> <div ng-show=ganttHeaderHeight class="gantt-row-label-header gantt-row-label gantt-table-row gantt-table-header-row"> <span class=gantt-label-text gantt-bind-compile-html=getHeaderContent() /> </div> </div> <div class=gantt-table-content ng-style=getMaxHeightCss()> <div gantt-vertical-scroll-receiver> <div class=gantt-table-row ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id" ng-controller=TableColumnRowController> <div gantt-row-label class="gantt-row-label gantt-row-height" ng-class=row.model.classes ng-style="{\'height\': row.model.height}"> <div class=gantt-valign-container> <div class=gantt-valign-content> <span class=gantt-label-text gantt-bind-compile-html=getRowContent()></span> </div> </div> </div> </div> </div> </div> </div> </div> ')}]),e.exports=n},function(e,t){var n="plugins/tooltips/tooltip.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-cloak class=gantt-task-info ng-show=displayed ng-class=\"isRightAligned ? 'gantt-task-infoArrowR' : 'gantt-task-infoArrow'\" ng-style=\"{top: taskRect.top + 'px', marginTop: -elementHeight - 8 + 'px'}\"> <div class=gantt-task-info-content> <div gantt-bind-compile-html=content></div> </div> </div> ")}]),e.exports=n},function(e,t){var n="plugins/tree/sideContentTree.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div class=gantt-side-content-tree ng-controller=GanttTreeController> <gantt-tree-header> </gantt-tree-header> <gantt-tree-body> </gantt-tree-body> </div> ")}]),e.exports=n},function(e,t){var n="plugins/tree/treeBody.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gantt-tree-body ng-style=getLabelsCss()> <div gantt-vertical-scroll-receiver> <div class=gantt-row-label-background> <div class="gantt-row-label gantt-row-height" ng-class=row.model.classes ng-style="{\'height\': row.model.height}" ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"> &nbsp; </div> </div> <div ui-tree ng-controller=GanttUiTreeController data-drag-enabled=false data-empty-place-holder-enabled=false> <ol class=gantt-tree-root ui-tree-nodes ng-model=rootRows> <li ng-repeat="row in rootRows" ui-tree-node ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'"> </li> </ol> </div> </div> </div> ')}]),e.exports=n},function(e,t){var n="plugins/tree/treeBodyChildren.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-controller=GanttTreeNodeController class="gantt-row-label gantt-row-height" ng-class=row.model.classes ng-style="{\'height\': row.model.height}"> <div class=gantt-valign-container> <div class=gantt-valign-content> <a ng-disabled=isCollapseDisabled() data-nodrag class="gantt-tree-handle-button btn btn-xs" ng-class="{\'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}" ng-click="!isCollapseDisabled() && toggle()"><span class="gantt-tree-handle glyphicon glyphicon-chevron-down" ng-class="{\n                \'glyphicon-chevron-right\': collapsed, \'glyphicon-chevron-down\': !collapsed,\n                \'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"></span> </a> <span gantt-row-label class=gantt-label-text gantt-bind-compile-html=getRowContent() /> </div> </div> </div> <ol ui-tree-nodes ng-class="{hidden: collapsed}" ng-model=childrenRows> <li ng-repeat="row in childrenRows" ui-tree-node> <div ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'"></div> </li> </ol> ')}]),e.exports=n},function(e,t){var n="plugins/tree/treeHeader.tmpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gantt-tree-header ng-style="{height: $parent.ganttHeaderHeight + \'px\'}"> <div ng-if=$parent.ganttHeaderHeight class="gantt-row-label gantt-row-label-header gantt-tree-row gantt-tree-header-row"><span class=gantt-label-text gantt-bind-compile-html=getHeaderContent() /></div> </div> ')}]),e.exports=n},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=l},function(e,t,n){n(6),e.exports=n(175)}])});
//# sourceMappingURL=angular-gantt.min.js.map